(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Do(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Pe={},tn=[],qt=()=>{},zd=()=>!1,Qr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Mo=e=>e.startsWith("onUpdate:"),We=Object.assign,jo=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Gd=Object.prototype.hasOwnProperty,$e=(e,t)=>Gd.call(e,t),le=Array.isArray,sn=e=>rr(e)==="[object Map]",mn=e=>rr(e)==="[object Set]",va=e=>rr(e)==="[object Date]",he=e=>typeof e=="function",Be=e=>typeof e=="string",At=e=>typeof e=="symbol",Me=e=>e!==null&&typeof e=="object",tc=e=>(Me(e)||he(e))&&he(e.then)&&he(e.catch),sc=Object.prototype.toString,rr=e=>sc.call(e),Yd=e=>rr(e).slice(8,-1),nc=e=>rr(e)==="[object Object]",Io=e=>Be(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Rn=Do(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zr=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Jd=/-(\w)/g,kt=Zr(e=>e.replace(Jd,(t,s)=>s?s.toUpperCase():"")),Qd=/\B([A-Z])/g,Hs=Zr(e=>e.replace(Qd,"-$1").toLowerCase()),Xr=Zr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Si=Zr(e=>e?`on${Xr(e)}`:""),ws=(e,t)=>!Object.is(e,t),Or=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},rc=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Mr=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Zd=e=>{const t=Be(e)?Number(e):NaN;return isNaN(t)?e:t};let ya;const ei=()=>ya||(ya=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ti(e){if(le(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=Be(n)?sf(n):ti(n);if(r)for(const i in r)t[i]=r[i]}return t}else if(Be(e)||Me(e))return e}const Xd=/;(?![^(]*\))/g,ef=/:([^]+)/,tf=/\/\*[^]*?\*\//g;function sf(e){const t={};return e.replace(tf,"").split(Xd).forEach(s=>{if(s){const n=s.split(ef);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Ce(e){let t="";if(Be(e))t=e;else if(le(e))for(let s=0;s<e.length;s++){const n=Ce(e[s]);n&&(t+=n+" ")}else if(Me(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const nf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",rf=Do(nf);function ic(e){return!!e||e===""}function of(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=ir(e[n],t[n]);return s}function ir(e,t){if(e===t)return!0;let s=va(e),n=va(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=At(e),n=At(t),s||n)return e===t;if(s=le(e),n=le(t),s||n)return s&&n?of(e,t):!1;if(s=Me(e),n=Me(t),s||n){if(!s||!n)return!1;const r=Object.keys(e).length,i=Object.keys(t).length;if(r!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!ir(e[o],t[o]))return!1}}return String(e)===String(t)}function Lo(e,t){return e.findIndex(s=>ir(s,t))}const oc=e=>!!(e&&e.__v_isRef===!0),P=e=>Be(e)?e:e==null?"":le(e)||Me(e)&&(e.toString===sc||!he(e.toString))?oc(e)?P(e.value):JSON.stringify(e,ac,2):String(e),ac=(e,t)=>oc(t)?ac(e,t.value):sn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],i)=>(s[$i(n,i)+" =>"]=r,s),{})}:mn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>$i(s))}:At(t)?$i(t):Me(t)&&!le(t)&&!nc(t)?String(t):t,$i=(e,t="")=>{var s;return At(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ft;class af{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ft,!t&&ft&&(this.index=(ft.scopes||(ft.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ft;try{return ft=this,t()}finally{ft=s}}}on(){++this._on===1&&(this.prevScope=ft,ft=this)}off(){this._on>0&&--this._on===0&&(ft=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function lf(){return ft}let Le;const Ei=new WeakSet;class lc{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ft&&ft.active&&ft.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ei.has(this)&&(Ei.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||uc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ba(this),dc(this);const t=Le,s=Ct;Le=this,Ct=!0;try{return this.fn()}finally{fc(this),Le=t,Ct=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Uo(t);this.deps=this.depsTail=void 0,ba(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ei.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Zi(this)&&this.run()}get dirty(){return Zi(this)}}let cc=0,Dn,Mn;function uc(e,t=!1){if(e.flags|=8,t){e.next=Mn,Mn=e;return}e.next=Dn,Dn=e}function Fo(){cc++}function No(){if(--cc>0)return;if(Mn){let t=Mn;for(Mn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Dn;){let t=Dn;for(Dn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function dc(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function fc(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),Uo(n),cf(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function Zi(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(hc(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function hc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Kn)||(e.globalVersion=Kn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Zi(e))))return;e.flags|=2;const t=e.dep,s=Le,n=Ct;Le=e,Ct=!0;try{dc(e);const r=e.fn(e._value);(t.version===0||ws(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Le=s,Ct=n,fc(e),e.flags&=-3}}function Uo(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Uo(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function cf(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ct=!0;const pc=[];function ss(){pc.push(Ct),Ct=!1}function ns(){const e=pc.pop();Ct=e===void 0?!0:e}function ba(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Le;Le=void 0;try{t()}finally{Le=s}}}let Kn=0;class uf{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Bo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Le||!Ct||Le===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Le)s=this.activeLink=new uf(Le,this),Le.deps?(s.prevDep=Le.depsTail,Le.depsTail.nextDep=s,Le.depsTail=s):Le.deps=Le.depsTail=s,mc(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Le.depsTail,s.nextDep=void 0,Le.depsTail.nextDep=s,Le.depsTail=s,Le.deps===s&&(Le.deps=n)}return s}trigger(t){this.version++,Kn++,this.notify(t)}notify(t){Fo();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{No()}}}function mc(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)mc(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Xi=new WeakMap,Us=Symbol(""),eo=Symbol(""),zn=Symbol("");function tt(e,t,s){if(Ct&&Le){let n=Xi.get(e);n||Xi.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new Bo),r.map=n,r.key=s),r.track()}}function Qt(e,t,s,n,r,i){const o=Xi.get(e);if(!o){Kn++;return}const a=l=>{l&&l.trigger()};if(Fo(),t==="clear")o.forEach(a);else{const l=le(e),d=l&&Io(s);if(l&&s==="length"){const u=Number(n);o.forEach((f,h)=>{(h==="length"||h===zn||!At(h)&&h>=u)&&a(f)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),d&&a(o.get(zn)),t){case"add":l?d&&a(o.get("length")):(a(o.get(Us)),sn(e)&&a(o.get(eo)));break;case"delete":l||(a(o.get(Us)),sn(e)&&a(o.get(eo)));break;case"set":sn(e)&&a(o.get(Us));break}}No()}function Ws(e){const t=xe(e);return t===e?t:(tt(t,"iterate",zn),xt(e)?t:t.map(Qe))}function si(e){return tt(e=xe(e),"iterate",zn),e}const df={__proto__:null,[Symbol.iterator](){return Ti(this,Symbol.iterator,Qe)},concat(...e){return Ws(this).concat(...e.map(t=>le(t)?Ws(t):t))},entries(){return Ti(this,"entries",e=>(e[1]=Qe(e[1]),e))},every(e,t){return Kt(this,"every",e,t,void 0,arguments)},filter(e,t){return Kt(this,"filter",e,t,s=>s.map(Qe),arguments)},find(e,t){return Kt(this,"find",e,t,Qe,arguments)},findIndex(e,t){return Kt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Kt(this,"findLast",e,t,Qe,arguments)},findLastIndex(e,t){return Kt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Kt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ci(this,"includes",e)},indexOf(...e){return Ci(this,"indexOf",e)},join(e){return Ws(this).join(e)},lastIndexOf(...e){return Ci(this,"lastIndexOf",e)},map(e,t){return Kt(this,"map",e,t,void 0,arguments)},pop(){return bn(this,"pop")},push(...e){return bn(this,"push",e)},reduce(e,...t){return _a(this,"reduce",e,t)},reduceRight(e,...t){return _a(this,"reduceRight",e,t)},shift(){return bn(this,"shift")},some(e,t){return Kt(this,"some",e,t,void 0,arguments)},splice(...e){return bn(this,"splice",e)},toReversed(){return Ws(this).toReversed()},toSorted(e){return Ws(this).toSorted(e)},toSpliced(...e){return Ws(this).toSpliced(...e)},unshift(...e){return bn(this,"unshift",e)},values(){return Ti(this,"values",Qe)}};function Ti(e,t,s){const n=si(e),r=n[t]();return n!==e&&!xt(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=s(i.value)),i}),r}const ff=Array.prototype;function Kt(e,t,s,n,r,i){const o=si(e),a=o!==e&&!xt(e),l=o[t];if(l!==ff[t]){const f=l.apply(e,i);return a?Qe(f):f}let d=s;o!==e&&(a?d=function(f,h){return s.call(this,Qe(f),h,e)}:s.length>2&&(d=function(f,h){return s.call(this,f,h,e)}));const u=l.call(o,d,n);return a&&r?r(u):u}function _a(e,t,s,n){const r=si(e);let i=s;return r!==e&&(xt(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,Qe(a),l,e)}),r[t](i,...n)}function Ci(e,t,s){const n=xe(e);tt(n,"iterate",zn);const r=n[t](...s);return(r===-1||r===!1)&&Vo(s[0])?(s[0]=xe(s[0]),n[t](...s)):r}function bn(e,t,s=[]){ss(),Fo();const n=xe(e)[t].apply(e,s);return No(),ns(),n}const hf=Do("__proto__,__v_isRef,__isVue"),gc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(At));function pf(e){At(e)||(e=String(e));const t=xe(this);return tt(t,"has",e),t.hasOwnProperty(e)}class vc{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?Sf:wc:i?_c:bc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=le(t);if(!r){let l;if(o&&(l=df[s]))return l;if(s==="hasOwnProperty")return pf}const a=Reflect.get(t,s,nt(t)?t:n);return(At(s)?gc.has(s):hf(s))||(r||tt(t,"get",s),i)?a:nt(a)?o&&Io(s)?a:a.value:Me(a)?r?kc(a):et(a):a}}class yc extends vc{constructor(t=!1){super(!1,t)}set(t,s,n,r){let i=t[s];if(!this._isShallow){const l=Ss(i);if(!xt(n)&&!Ss(n)&&(i=xe(i),n=xe(n)),!le(t)&&nt(i)&&!nt(n))return l?!1:(i.value=n,!0)}const o=le(t)&&Io(s)?Number(s)<t.length:$e(t,s),a=Reflect.set(t,s,n,nt(t)?t:r);return t===xe(r)&&(o?ws(n,i)&&Qt(t,"set",s,n):Qt(t,"add",s,n)),a}deleteProperty(t,s){const n=$e(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&Qt(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!At(s)||!gc.has(s))&&tt(t,"has",s),n}ownKeys(t){return tt(t,"iterate",le(t)?"length":Us),Reflect.ownKeys(t)}}class mf extends vc{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const gf=new yc,vf=new mf,yf=new yc(!0);const to=e=>e,pr=e=>Reflect.getPrototypeOf(e);function bf(e,t,s){return function(...n){const r=this.__v_raw,i=xe(r),o=sn(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,d=r[e](...n),u=s?to:t?jr:Qe;return!t&&tt(i,"iterate",l?eo:Us),{next(){const{value:f,done:h}=d.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function mr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function _f(e,t){const s={get(r){const i=this.__v_raw,o=xe(i),a=xe(r);e||(ws(r,a)&&tt(o,"get",r),tt(o,"get",a));const{has:l}=pr(o),d=t?to:e?jr:Qe;if(l.call(o,r))return d(i.get(r));if(l.call(o,a))return d(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&tt(xe(r),"iterate",Us),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=xe(i),a=xe(r);return e||(ws(r,a)&&tt(o,"has",r),tt(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=xe(a),d=t?to:e?jr:Qe;return!e&&tt(l,"iterate",Us),a.forEach((u,f)=>r.call(i,d(u),d(f),o))}};return We(s,e?{add:mr("add"),set:mr("set"),delete:mr("delete"),clear:mr("clear")}:{add(r){!t&&!xt(r)&&!Ss(r)&&(r=xe(r));const i=xe(this);return pr(i).has.call(i,r)||(i.add(r),Qt(i,"add",r,r)),this},set(r,i){!t&&!xt(i)&&!Ss(i)&&(i=xe(i));const o=xe(this),{has:a,get:l}=pr(o);let d=a.call(o,r);d||(r=xe(r),d=a.call(o,r));const u=l.call(o,r);return o.set(r,i),d?ws(i,u)&&Qt(o,"set",r,i):Qt(o,"add",r,i),this},delete(r){const i=xe(this),{has:o,get:a}=pr(i);let l=o.call(i,r);l||(r=xe(r),l=o.call(i,r)),a&&a.call(i,r);const d=i.delete(r);return l&&Qt(i,"delete",r,void 0),d},clear(){const r=xe(this),i=r.size!==0,o=r.clear();return i&&Qt(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=bf(r,e,t)}),s}function Ho(e,t){const s=_f(e,t);return(n,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get($e(s,r)&&r in n?s:n,r,i)}const wf={get:Ho(!1,!1)},xf={get:Ho(!1,!0)},kf={get:Ho(!0,!1)};const bc=new WeakMap,_c=new WeakMap,wc=new WeakMap,Sf=new WeakMap;function $f(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ef(e){return e.__v_skip||!Object.isExtensible(e)?0:$f(Yd(e))}function et(e){return Ss(e)?e:qo(e,!1,gf,wf,bc)}function xc(e){return qo(e,!1,yf,xf,_c)}function kc(e){return qo(e,!0,vf,kf,wc)}function qo(e,t,s,n,r){if(!Me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Ef(e);if(i===0)return e;const o=r.get(e);if(o)return o;const a=new Proxy(e,i===2?n:s);return r.set(e,a),a}function nn(e){return Ss(e)?nn(e.__v_raw):!!(e&&e.__v_isReactive)}function Ss(e){return!!(e&&e.__v_isReadonly)}function xt(e){return!!(e&&e.__v_isShallow)}function Vo(e){return e?!!e.__v_raw:!1}function xe(e){const t=e&&e.__v_raw;return t?xe(t):e}function Tf(e){return!$e(e,"__v_skip")&&Object.isExtensible(e)&&rc(e,"__v_skip",!0),e}const Qe=e=>Me(e)?et(e):e,jr=e=>Me(e)?kc(e):e;function nt(e){return e?e.__v_isRef===!0:!1}function U(e){return $c(e,!1)}function Sc(e){return $c(e,!0)}function $c(e,t){return nt(e)?e:new Cf(e,t)}class Cf{constructor(t,s){this.dep=new Bo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:xe(t),this._value=s?t:Qe(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||xt(t)||Ss(t);t=n?t:xe(t),ws(t,s)&&(this._rawValue=t,this._value=n?t:Qe(t),this.dep.trigger())}}function B(e){return nt(e)?e.value:e}const Of={get:(e,t,s)=>t==="__v_raw"?e:B(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return nt(r)&&!nt(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function Ec(e){return nn(e)?e:new Proxy(e,Of)}class Af{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Bo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Kn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Le!==this)return uc(this,!0),!0}get value(){const t=this.dep.track();return hc(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Pf(e,t,s=!1){let n,r;return he(e)?n=e:(n=e.get,r=e.set),new Af(n,r,s)}const gr={},Ir=new WeakMap;let Ds;function Rf(e,t=!1,s=Ds){if(s){let n=Ir.get(s);n||Ir.set(s,n=[]),n.push(e)}}function Df(e,t,s=Pe){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,d=D=>r?D:xt(D)||r===!1||r===0?Zt(D,1):Zt(D);let u,f,h,p,b=!1,v=!1;if(nt(e)?(f=()=>e.value,b=xt(e)):nn(e)?(f=()=>d(e),b=!0):le(e)?(v=!0,b=e.some(D=>nn(D)||xt(D)),f=()=>e.map(D=>{if(nt(D))return D.value;if(nn(D))return d(D);if(he(D))return l?l(D,2):D()})):he(e)?t?f=l?()=>l(e,2):e:f=()=>{if(h){ss();try{h()}finally{ns()}}const D=Ds;Ds=u;try{return l?l(e,3,[p]):e(p)}finally{Ds=D}}:f=qt,t&&r){const D=f,J=r===!0?1/0:r;f=()=>Zt(D(),J)}const g=lf(),E=()=>{u.stop(),g&&g.active&&jo(g.effects,u)};if(i&&t){const D=t;t=(...J)=>{D(...J),E()}}let x=v?new Array(e.length).fill(gr):gr;const T=D=>{if(!(!(u.flags&1)||!u.dirty&&!D))if(t){const J=u.run();if(r||b||(v?J.some((M,S)=>ws(M,x[S])):ws(J,x))){h&&h();const M=Ds;Ds=u;try{const S=[J,x===gr?void 0:v&&x[0]===gr?[]:x,p];x=J,l?l(t,3,S):t(...S)}finally{Ds=M}}}else u.run()};return a&&a(T),u=new lc(f),u.scheduler=o?()=>o(T,!1):T,p=D=>Rf(D,!1,u),h=u.onStop=()=>{const D=Ir.get(u);if(D){if(l)l(D,4);else for(const J of D)J();Ir.delete(u)}},t?n?T(!0):x=u.run():o?o(T.bind(null,!0),!0):u.run(),E.pause=u.pause.bind(u),E.resume=u.resume.bind(u),E.stop=E,E}function Zt(e,t=1/0,s){if(t<=0||!Me(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,nt(e))Zt(e.value,t,s);else if(le(e))for(let n=0;n<e.length;n++)Zt(e[n],t,s);else if(mn(e)||sn(e))e.forEach(n=>{Zt(n,t,s)});else if(nc(e)){for(const n in e)Zt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Zt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function or(e,t,s,n){try{return n?e(...n):e()}catch(r){ni(r,t,s)}}function Pt(e,t,s,n){if(he(e)){const r=or(e,t,s,n);return r&&tc(r)&&r.catch(i=>{ni(i,t,s)}),r}if(le(e)){const r=[];for(let i=0;i<e.length;i++)r.push(Pt(e[i],t,s,n));return r}}function ni(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Pe;if(t){let a=t.parent;const l=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,d)===!1)return}a=a.parent}if(i){ss(),or(i,null,10,[e,l,d]),ns();return}}Mf(e,s,r,n,o)}function Mf(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const at=[];let Ut=-1;const rn=[];let hs=null,Zs=0;const Tc=Promise.resolve();let Lr=null;function Ot(e){const t=Lr||Tc;return e?t.then(this?e.bind(this):e):t}function jf(e){let t=Ut+1,s=at.length;for(;t<s;){const n=t+s>>>1,r=at[n],i=Gn(r);i<e||i===e&&r.flags&2?t=n+1:s=n}return t}function Wo(e){if(!(e.flags&1)){const t=Gn(e),s=at[at.length-1];!s||!(e.flags&2)&&t>=Gn(s)?at.push(e):at.splice(jf(t),0,e),e.flags|=1,Cc()}}function Cc(){Lr||(Lr=Tc.then(Ac))}function If(e){le(e)?rn.push(...e):hs&&e.id===-1?hs.splice(Zs+1,0,e):e.flags&1||(rn.push(e),e.flags|=1),Cc()}function wa(e,t,s=Ut+1){for(;s<at.length;s++){const n=at[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;at.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Oc(e){if(rn.length){const t=[...new Set(rn)].sort((s,n)=>Gn(s)-Gn(n));if(rn.length=0,hs){hs.push(...t);return}for(hs=t,Zs=0;Zs<hs.length;Zs++){const s=hs[Zs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}hs=null,Zs=0}}const Gn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ac(e){try{for(Ut=0;Ut<at.length;Ut++){const t=at[Ut];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),or(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ut<at.length;Ut++){const t=at[Ut];t&&(t.flags&=-2)}Ut=-1,at.length=0,Oc(),Lr=null,(at.length||rn.length)&&Ac()}}let Ye=null,Pc=null;function Fr(e){const t=Ye;return Ye=e,Pc=e&&e.type.__scopeId||null,t}function _e(e,t=Ye,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&ja(-1);const i=Fr(t);let o;try{o=e(...r)}finally{Fr(i),n._d&&ja(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function ce(e,t){if(Ye===null)return e;const s=ci(Ye),n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,o,a,l=Pe]=t[r];i&&(he(i)&&(i={mounted:i,updated:i}),i.deep&&Zt(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Cs(e,t,s,n){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(ss(),Pt(l,s,8,[e.el,a,e,t]),ns())}}const Rc=Symbol("_vte"),Dc=e=>e.__isTeleport,jn=e=>e&&(e.disabled||e.disabled===""),xa=e=>e&&(e.defer||e.defer===""),ka=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Sa=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,so=(e,t)=>{const s=e&&e.to;return Be(s)?t?t(s):null:s},Mc={name:"Teleport",__isTeleport:!0,process(e,t,s,n,r,i,o,a,l,d){const{mc:u,pc:f,pbc:h,o:{insert:p,querySelector:b,createText:v,createComment:g}}=d,E=jn(t.props);let{shapeFlag:x,children:T,dynamicChildren:D}=t;if(e==null){const J=t.el=v(""),M=t.anchor=v("");p(J,s,n),p(M,s,n);const S=(R,z)=>{x&16&&(r&&r.isCE&&(r.ce._teleportTarget=R),u(T,R,z,r,i,o,a,l))},F=()=>{const R=t.target=so(t.props,b),z=jc(R,t,v,p);R&&(o!=="svg"&&ka(R)?o="svg":o!=="mathml"&&Sa(R)&&(o="mathml"),E||(S(R,z),Ar(t,!1)))};E&&(S(s,M),Ar(t,!0)),xa(t.props)?(t.el.__isMounted=!1,ot(()=>{F(),delete t.el.__isMounted},i)):F()}else{if(xa(t.props)&&e.el.__isMounted===!1){ot(()=>{Mc.process(e,t,s,n,r,i,o,a,l,d)},i);return}t.el=e.el,t.targetStart=e.targetStart;const J=t.anchor=e.anchor,M=t.target=e.target,S=t.targetAnchor=e.targetAnchor,F=jn(e.props),R=F?s:M,z=F?J:S;if(o==="svg"||ka(M)?o="svg":(o==="mathml"||Sa(M))&&(o="mathml"),D?(h(e.dynamicChildren,D,R,r,i,o,a),Jo(e,t,!0)):l||f(e,t,R,z,r,i,o,a,!1),E)F?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):vr(t,s,J,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const te=t.target=so(t.props,b);te&&vr(t,te,null,d,0)}else F&&vr(t,M,S,d,1);Ar(t,E)}},remove(e,t,s,{um:n,o:{remove:r}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:d,targetAnchor:u,target:f,props:h}=e;if(f&&(r(d),r(u)),i&&r(l),o&16){const p=i||!jn(h);for(let b=0;b<a.length;b++){const v=a[b];n(v,t,s,p,!!v.dynamicChildren)}}},move:vr,hydrate:Lf};function vr(e,t,s,{o:{insert:n},m:r},i=2){i===0&&n(e.targetAnchor,t,s);const{el:o,anchor:a,shapeFlag:l,children:d,props:u}=e,f=i===2;if(f&&n(o,t,s),(!f||jn(u))&&l&16)for(let h=0;h<d.length;h++)r(d[h],t,s,2);f&&n(a,t,s)}function Lf(e,t,s,n,r,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:d,createText:u}},f){const h=t.target=so(t.props,l);if(h){const p=jn(t.props),b=h._lpa||h.firstChild;if(t.shapeFlag&16)if(p)t.anchor=f(o(e),t,a(e),s,n,r,i),t.targetStart=b,t.targetAnchor=b&&o(b);else{t.anchor=o(e);let v=b;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,h._lpa=t.targetAnchor&&o(t.targetAnchor);break}}v=o(v)}t.targetAnchor||jc(h,t,u,d),f(b&&o(b),t,h,s,n,r,i)}Ar(t,p)}return t.anchor&&o(t.anchor)}const Ff=Mc;function Ar(e,t){const s=e.ctx;if(s&&s.ut){let n,r;for(t?(n=e.el,r=e.anchor):(n=e.targetStart,r=e.targetAnchor);n&&n!==r;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function jc(e,t,s,n){const r=t.targetStart=s(""),i=t.targetAnchor=s("");return r[Rc]=i,e&&(n(r,e),n(i,e)),i}const ps=Symbol("_leaveCb"),yr=Symbol("_enterCb");function Ic(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Fe(()=>{e.isMounted=!0}),Vc(()=>{e.isUnmounting=!0}),e}const wt=[Function,Array],Lc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:wt,onEnter:wt,onAfterEnter:wt,onEnterCancelled:wt,onBeforeLeave:wt,onLeave:wt,onAfterLeave:wt,onLeaveCancelled:wt,onBeforeAppear:wt,onAppear:wt,onAfterAppear:wt,onAppearCancelled:wt},Fc=e=>{const t=e.subTree;return t.component?Fc(t.component):t},Nf={name:"BaseTransition",props:Lc,setup(e,{slots:t}){const s=li(),n=Ic();return()=>{const r=t.default&&Ko(t.default(),!0);if(!r||!r.length)return;const i=Nc(r),o=xe(e),{mode:a}=o;if(n.isLeaving)return Oi(i);const l=$a(i);if(!l)return Oi(i);let d=Yn(l,o,n,s,f=>d=f);l.type!==st&&Bs(l,d);let u=s.subTree&&$a(s.subTree);if(u&&u.type!==st&&!Is(l,u)&&Fc(s).type!==st){let f=Yn(u,o,n,s);if(Bs(u,f),a==="out-in"&&l.type!==st)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete f.afterLeave,u=void 0},Oi(i);a==="in-out"&&l.type!==st?f.delayLeave=(h,p,b)=>{const v=Uc(n,u);v[String(u.key)]=u,h[ps]=()=>{p(),h[ps]=void 0,delete d.delayedLeave,u=void 0},d.delayedLeave=()=>{b(),delete d.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function Nc(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==st){t=s;break}}return t}const Uf=Nf;function Uc(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function Yn(e,t,s,n,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:d,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:h,onLeave:p,onAfterLeave:b,onLeaveCancelled:v,onBeforeAppear:g,onAppear:E,onAfterAppear:x,onAppearCancelled:T}=t,D=String(e.key),J=Uc(s,e),M=(R,z)=>{R&&Pt(R,n,9,z)},S=(R,z)=>{const te=z[1];M(R,z),le(R)?R.every($=>$.length<=1)&&te():R.length<=1&&te()},F={mode:o,persisted:a,beforeEnter(R){let z=l;if(!s.isMounted)if(i)z=g||l;else return;R[ps]&&R[ps](!0);const te=J[D];te&&Is(e,te)&&te.el[ps]&&te.el[ps](),M(z,[R])},enter(R){let z=d,te=u,$=f;if(!s.isMounted)if(i)z=E||d,te=x||u,$=T||f;else return;let m=!1;const w=R[yr]=A=>{m||(m=!0,A?M($,[R]):M(te,[R]),F.delayedLeave&&F.delayedLeave(),R[yr]=void 0)};z?S(z,[R,w]):w()},leave(R,z){const te=String(e.key);if(R[yr]&&R[yr](!0),s.isUnmounting)return z();M(h,[R]);let $=!1;const m=R[ps]=w=>{$||($=!0,z(),w?M(v,[R]):M(b,[R]),R[ps]=void 0,J[te]===e&&delete J[te])};J[te]=e,p?S(p,[R,m]):m()},clone(R){const z=Yn(R,t,s,n,r);return r&&r(z),z}};return F}function Oi(e){if(ri(e))return e=rs(e),e.children=null,e}function $a(e){if(!ri(e))return Dc(e.type)&&e.children?Nc(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&he(s.default))return s.default()}}function Bs(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Bs(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ko(e,t=!1,s){let n=[],r=0;for(let i=0;i<e.length;i++){let o=e[i];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:i);o.type===oe?(o.patchFlag&128&&r++,n=n.concat(Ko(o.children,t,a))):(t||o.type!==st)&&n.push(a!=null?rs(o,{key:a}):o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function ke(e,t){return he(e)?We({name:e.name},t,{setup:e}):e}function Bf(){const e=li();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function Bc(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Nr(e,t,s,n,r=!1){if(le(e)){e.forEach((b,v)=>Nr(b,t&&(le(t)?t[v]:t),s,n,r));return}if(on(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Nr(e,t,s,n.component.subTree);return}const i=n.shapeFlag&4?ci(n.component):n.el,o=r?null:i,{i:a,r:l}=e,d=t&&t.r,u=a.refs===Pe?a.refs={}:a.refs,f=a.setupState,h=xe(f),p=f===Pe?()=>!1:b=>$e(h,b);if(d!=null&&d!==l&&(Be(d)?(u[d]=null,p(d)&&(f[d]=null)):nt(d)&&(d.value=null)),he(l))or(l,a,12,[o,u]);else{const b=Be(l),v=nt(l);if(b||v){const g=()=>{if(e.f){const E=b?p(l)?f[l]:u[l]:l.value;r?le(E)&&jo(E,i):le(E)?E.includes(i)||E.push(i):b?(u[l]=[i],p(l)&&(f[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else b?(u[l]=o,p(l)&&(f[l]=o)):v&&(l.value=o,e.k&&(u[e.k]=o))};o?(g.id=-1,ot(g,s)):g()}}}ei().requestIdleCallback;ei().cancelIdleCallback;const on=e=>!!e.type.__asyncLoader,ri=e=>e.type.__isKeepAlive;function Hf(e,t){Hc(e,"a",t)}function qf(e,t){Hc(e,"da",t)}function Hc(e,t,s=Xe){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(ii(t,n,s),s){let r=s.parent;for(;r&&r.parent;)ri(r.parent.vnode)&&Vf(n,t,s,r),r=r.parent}}function Vf(e,t,s,n){const r=ii(t,e,n,!0);_t(()=>{jo(n[t],r)},s)}function ii(e,t,s=Xe,n=!1){if(s){const r=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{ss();const a=ar(s),l=Pt(t,s,e,o);return a(),ns(),l});return n?r.unshift(i):r.push(i),i}}const os=e=>(t,s=Xe)=>{(!Zn||e==="sp")&&ii(e,(...n)=>t(...n),s)},Wf=os("bm"),Fe=os("m"),Kf=os("bu"),qc=os("u"),Vc=os("bum"),_t=os("um"),zf=os("sp"),Gf=os("rtg"),Yf=os("rtc");function Jf(e,t=Xe){ii("ec",e,t)}const Wc="components";function zo(e,t){return zc(Wc,e,!0,t)||e}const Kc=Symbol.for("v-ndc");function Qf(e){return Be(e)?zc(Wc,e,!1)||e:e||Kc}function zc(e,t,s=!0,n=!1){const r=Ye||Xe;if(r){const i=r.type;{const a=Nh(i,!1);if(a&&(a===t||a===kt(t)||a===Xr(kt(t))))return i}const o=Ea(r[e]||i[e],t)||Ea(r.appContext[e],t);return!o&&n?i:o}}function Ea(e,t){return e&&(e[t]||e[kt(t)]||e[Xr(kt(t))])}function ge(e,t,s,n){let r;const i=s,o=le(e);if(o||Be(e)){const a=o&&nn(e);let l=!1,d=!1;a&&(l=!xt(e),d=Ss(e),e=si(e)),r=new Array(e.length);for(let u=0,f=e.length;u<f;u++)r[u]=t(l?d?jr(Qe(e[u])):Qe(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,i)}else if(Me(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,d=a.length;l<d;l++){const u=a[l];r[l]=t(e[u],u,l,i)}}else r=[];return r}function Zf(e,t,s={},n,r){if(Ye.ce||Ye.parent&&on(Ye.parent)&&Ye.parent.ce)return C(),Xt(oe,null,[H("slot",s,n)],64);let i=e[t];i&&i._c&&(i._d=!1),C();const o=i&&Gc(i(s)),a=s.key||o&&o.key,l=Xt(oe,{key:(a&&!At(a)?a:`_${t}`)+""},o||[],o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Gc(e){return e.some(t=>Qn(t)?!(t.type===st||t.type===oe&&!Gc(t.children)):!0)?e:null}const no=e=>e?fu(e)?ci(e):no(e.parent):null,In=We(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>no(e.parent),$root:e=>no(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Jc(e),$forceUpdate:e=>e.f||(e.f=()=>{Wo(e.update)}),$nextTick:e=>e.n||(e.n=Ot.bind(e.proxy)),$watch:e=>bh.bind(e)}),Ai=(e,t)=>e!==Pe&&!e.__isScriptSetup&&$e(e,t),Xf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=e;let d;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return i[t]}else{if(Ai(n,t))return o[t]=1,n[t];if(r!==Pe&&$e(r,t))return o[t]=2,r[t];if((d=e.propsOptions[0])&&$e(d,t))return o[t]=3,i[t];if(s!==Pe&&$e(s,t))return o[t]=4,s[t];ro&&(o[t]=0)}}const u=In[t];let f,h;if(u)return t==="$attrs"&&tt(e.attrs,"get",""),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(s!==Pe&&$e(s,t))return o[t]=4,s[t];if(h=l.config.globalProperties,$e(h,t))return h[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:i}=e;return Ai(r,t)?(r[t]=s,!0):n!==Pe&&$e(n,t)?(n[t]=s,!0):$e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:i}},o){let a;return!!s[o]||e!==Pe&&$e(e,o)||Ai(t,o)||(a=i[0])&&$e(a,o)||$e(n,o)||$e(In,o)||$e(r.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:$e(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Ta(e){return le(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let ro=!0;function eh(e){const t=Jc(e),s=e.proxy,n=e.ctx;ro=!1,t.beforeCreate&&Ca(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:d,created:u,beforeMount:f,mounted:h,beforeUpdate:p,updated:b,activated:v,deactivated:g,beforeDestroy:E,beforeUnmount:x,destroyed:T,unmounted:D,render:J,renderTracked:M,renderTriggered:S,errorCaptured:F,serverPrefetch:R,expose:z,inheritAttrs:te,components:$,directives:m,filters:w}=t;if(d&&th(d,n,null),o)for(const re in o){const Q=o[re];he(Q)&&(n[re]=Q.bind(s))}if(r){const re=r.call(s,s);Me(re)&&(e.data=et(re))}if(ro=!0,i)for(const re in i){const Q=i[re],W=he(Q)?Q.bind(s,s):he(Q.get)?Q.get.bind(s,s):qt,Oe=!he(Q)&&he(Q.set)?Q.set.bind(s):qt,V=K({get:W,set:Oe});Object.defineProperty(n,re,{enumerable:!0,configurable:!0,get:()=>V.value,set:pe=>V.value=pe})}if(a)for(const re in a)Yc(a[re],n,s,re);if(l){const re=he(l)?l.call(s):l;Reflect.ownKeys(re).forEach(Q=>{ct(Q,re[Q])})}u&&Ca(u,e,"c");function ne(re,Q){le(Q)?Q.forEach(W=>re(W.bind(s))):Q&&re(Q.bind(s))}if(ne(Wf,f),ne(Fe,h),ne(Kf,p),ne(qc,b),ne(Hf,v),ne(qf,g),ne(Jf,F),ne(Yf,M),ne(Gf,S),ne(Vc,x),ne(_t,D),ne(zf,R),le(z))if(z.length){const re=e.exposed||(e.exposed={});z.forEach(Q=>{Object.defineProperty(re,Q,{get:()=>s[Q],set:W=>s[Q]=W})})}else e.exposed||(e.exposed={});J&&e.render===qt&&(e.render=J),te!=null&&(e.inheritAttrs=te),$&&(e.components=$),m&&(e.directives=m),R&&Bc(e)}function th(e,t,s=qt){le(e)&&(e=io(e));for(const n in e){const r=e[n];let i;Me(r)?"default"in r?i=Ue(r.from||n,r.default,!0):i=Ue(r.from||n):i=Ue(r),nt(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function Ca(e,t,s){Pt(le(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Yc(e,t,s,n){let r=n.includes(".")?au(s,n):()=>s[n];if(Be(e)){const i=t[e];he(i)&&Vt(r,i)}else if(he(e))Vt(r,e.bind(s));else if(Me(e))if(le(e))e.forEach(i=>Yc(i,t,s,n));else{const i=he(e.handler)?e.handler.bind(s):t[e.handler];he(i)&&Vt(r,i,e)}}function Jc(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!s&&!n?l=t:(l={},r.length&&r.forEach(d=>Ur(l,d,o,!0)),Ur(l,t,o)),Me(t)&&i.set(t,l),l}function Ur(e,t,s,n=!1){const{mixins:r,extends:i}=t;i&&Ur(e,i,s,!0),r&&r.forEach(o=>Ur(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const a=sh[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const sh={data:Oa,props:Aa,emits:Aa,methods:On,computed:On,beforeCreate:rt,created:rt,beforeMount:rt,mounted:rt,beforeUpdate:rt,updated:rt,beforeDestroy:rt,beforeUnmount:rt,destroyed:rt,unmounted:rt,activated:rt,deactivated:rt,errorCaptured:rt,serverPrefetch:rt,components:On,directives:On,watch:rh,provide:Oa,inject:nh};function Oa(e,t){return t?e?function(){return We(he(e)?e.call(this,this):e,he(t)?t.call(this,this):t)}:t:e}function nh(e,t){return On(io(e),io(t))}function io(e){if(le(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function rt(e,t){return e?[...new Set([].concat(e,t))]:t}function On(e,t){return e?We(Object.create(null),e,t):t}function Aa(e,t){return e?le(e)&&le(t)?[...new Set([...e,...t])]:We(Object.create(null),Ta(e),Ta(t??{})):t}function rh(e,t){if(!e)return t;if(!t)return e;const s=We(Object.create(null),e);for(const n in t)s[n]=rt(e[n],t[n]);return s}function Qc(){return{app:null,config:{isNativeTag:zd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ih=0;function oh(e,t){return function(n,r=null){he(n)||(n=We({},n)),r!=null&&!Me(r)&&(r=null);const i=Qc(),o=new WeakSet,a=[];let l=!1;const d=i.app={_uid:ih++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Bh,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&he(u.install)?(o.add(u),u.install(d,...f)):he(u)&&(o.add(u),u(d,...f))),d},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),d},component(u,f){return f?(i.components[u]=f,d):i.components[u]},directive(u,f){return f?(i.directives[u]=f,d):i.directives[u]},mount(u,f,h){if(!l){const p=d._ceVNode||H(n,r);return p.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),e(p,u,h),l=!0,d._container=u,u.__vue_app__=d,ci(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Pt(a,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(u,f){return i.provides[u]=f,d},runWithContext(u){const f=an;an=d;try{return u()}finally{an=f}}};return d}}let an=null;function ct(e,t){if(Xe){let s=Xe.provides;const n=Xe.parent&&Xe.parent.provides;n===s&&(s=Xe.provides=Object.create(n)),s[e]=t}}function Ue(e,t,s=!1){const n=Xe||Ye;if(n||an){let r=an?an._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&he(t)?t.call(n&&n.proxy):t}}const Zc={},Xc=()=>Object.create(Zc),eu=e=>Object.getPrototypeOf(e)===Zc;function ah(e,t,s,n=!1){const r={},i=Xc();e.propsDefaults=Object.create(null),tu(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);s?e.props=n?r:xc(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function lh(e,t,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=xe(r),[l]=e.propsOptions;let d=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(oi(e.emitsOptions,h))continue;const p=t[h];if(l)if($e(i,h))p!==i[h]&&(i[h]=p,d=!0);else{const b=kt(h);r[b]=oo(l,a,b,p,e,!1)}else p!==i[h]&&(i[h]=p,d=!0)}}}else{tu(e,t,r,i)&&(d=!0);let u;for(const f in a)(!t||!$e(t,f)&&((u=Hs(f))===f||!$e(t,u)))&&(l?s&&(s[f]!==void 0||s[u]!==void 0)&&(r[f]=oo(l,a,f,void 0,e,!0)):delete r[f]);if(i!==a)for(const f in i)(!t||!$e(t,f))&&(delete i[f],d=!0)}d&&Qt(e.attrs,"set","")}function tu(e,t,s,n){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Rn(l))continue;const d=t[l];let u;r&&$e(r,u=kt(l))?!i||!i.includes(u)?s[u]=d:(a||(a={}))[u]=d:oi(e.emitsOptions,l)||(!(l in n)||d!==n[l])&&(n[l]=d,o=!0)}if(i){const l=xe(s),d=a||Pe;for(let u=0;u<i.length;u++){const f=i[u];s[f]=oo(r,l,f,d[f],e,!$e(d,f))}}return o}function oo(e,t,s,n,r,i){const o=e[s];if(o!=null){const a=$e(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&he(l)){const{propsDefaults:d}=r;if(s in d)n=d[s];else{const u=ar(r);n=d[s]=l.call(null,t),u()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Hs(s))&&(n=!0))}return n}const ch=new WeakMap;function su(e,t,s=!1){const n=s?ch:t.propsCache,r=n.get(e);if(r)return r;const i=e.props,o={},a=[];let l=!1;if(!he(e)){const u=f=>{l=!0;const[h,p]=su(f,t,!0);We(o,h),p&&a.push(...p)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return Me(e)&&n.set(e,tn),tn;if(le(i))for(let u=0;u<i.length;u++){const f=kt(i[u]);Pa(f)&&(o[f]=Pe)}else if(i)for(const u in i){const f=kt(u);if(Pa(f)){const h=i[u],p=o[f]=le(h)||he(h)?{type:h}:We({},h),b=p.type;let v=!1,g=!0;if(le(b))for(let E=0;E<b.length;++E){const x=b[E],T=he(x)&&x.name;if(T==="Boolean"){v=!0;break}else T==="String"&&(g=!1)}else v=he(b)&&b.name==="Boolean";p[0]=v,p[1]=g,(v||$e(p,"default"))&&a.push(f)}}const d=[o,a];return Me(e)&&n.set(e,d),d}function Pa(e){return e[0]!=="$"&&!Rn(e)}const Go=e=>e[0]==="_"||e==="$stable",Yo=e=>le(e)?e.map(Bt):[Bt(e)],uh=(e,t,s)=>{if(t._n)return t;const n=_e((...r)=>Yo(t(...r)),s);return n._c=!1,n},nu=(e,t,s)=>{const n=e._ctx;for(const r in e){if(Go(r))continue;const i=e[r];if(he(i))t[r]=uh(r,i,n);else if(i!=null){const o=Yo(i);t[r]=()=>o}}},ru=(e,t)=>{const s=Yo(t);e.slots.default=()=>s},iu=(e,t,s)=>{for(const n in t)(s||!Go(n))&&(e[n]=t[n])},dh=(e,t,s)=>{const n=e.slots=Xc();if(e.vnode.shapeFlag&32){const r=t._;r?(iu(n,t,s),s&&rc(n,"_",r,!0)):nu(t,n)}else t&&ru(e,t)},fh=(e,t,s)=>{const{vnode:n,slots:r}=e;let i=!0,o=Pe;if(n.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:iu(r,t,s):(i=!t.$stable,nu(t,r)),o=t}else t&&(ru(e,t),o={default:1});if(i)for(const a in r)!Go(a)&&o[a]==null&&delete r[a]},ot=Eh;function hh(e){return ph(e)}function ph(e,t){const s=ei();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:d,setElementText:u,parentNode:f,nextSibling:h,setScopeId:p=qt,insertStaticContent:b}=e,v=(y,_,k,j=null,N=null,L=null,Z=void 0,Y=null,G=!!_.dynamicChildren)=>{if(y===_)return;y&&!Is(y,_)&&(j=I(y),pe(y,N,L,!0),y=null),_.patchFlag===-2&&(G=!1,_.dynamicChildren=null);const{type:q,ref:ue,shapeFlag:ee}=_;switch(q){case ai:g(y,_,k,j);break;case st:E(y,_,k,j);break;case Pr:y==null&&x(_,k,j,Z);break;case oe:$(y,_,k,j,N,L,Z,Y,G);break;default:ee&1?J(y,_,k,j,N,L,Z,Y,G):ee&6?m(y,_,k,j,N,L,Z,Y,G):(ee&64||ee&128)&&q.process(y,_,k,j,N,L,Z,Y,G,ie)}ue!=null&&N&&Nr(ue,y&&y.ref,L,_||y,!_)},g=(y,_,k,j)=>{if(y==null)n(_.el=a(_.children),k,j);else{const N=_.el=y.el;_.children!==y.children&&d(N,_.children)}},E=(y,_,k,j)=>{y==null?n(_.el=l(_.children||""),k,j):_.el=y.el},x=(y,_,k,j)=>{[y.el,y.anchor]=b(y.children,_,k,j,y.el,y.anchor)},T=({el:y,anchor:_},k,j)=>{let N;for(;y&&y!==_;)N=h(y),n(y,k,j),y=N;n(_,k,j)},D=({el:y,anchor:_})=>{let k;for(;y&&y!==_;)k=h(y),r(y),y=k;r(_)},J=(y,_,k,j,N,L,Z,Y,G)=>{_.type==="svg"?Z="svg":_.type==="math"&&(Z="mathml"),y==null?M(_,k,j,N,L,Z,Y,G):R(y,_,N,L,Z,Y,G)},M=(y,_,k,j,N,L,Z,Y)=>{let G,q;const{props:ue,shapeFlag:ee,transition:ae,dirs:fe}=y;if(G=y.el=o(y.type,L,ue&&ue.is,ue),ee&8?u(G,y.children):ee&16&&F(y.children,G,null,j,N,Pi(y,L),Z,Y),fe&&Cs(y,null,j,"created"),S(G,y,y.scopeId,Z,j),ue){for(const je in ue)je!=="value"&&!Rn(je)&&i(G,je,null,ue[je],L,j);"value"in ue&&i(G,"value",null,ue.value,L),(q=ue.onVnodeBeforeMount)&&Ft(q,j,y)}fe&&Cs(y,null,j,"beforeMount");const we=mh(N,ae);we&&ae.beforeEnter(G),n(G,_,k),((q=ue&&ue.onVnodeMounted)||we||fe)&&ot(()=>{q&&Ft(q,j,y),we&&ae.enter(G),fe&&Cs(y,null,j,"mounted")},N)},S=(y,_,k,j,N)=>{if(k&&p(y,k),j)for(let L=0;L<j.length;L++)p(y,j[L]);if(N){let L=N.subTree;if(_===L||cu(L.type)&&(L.ssContent===_||L.ssFallback===_)){const Z=N.vnode;S(y,Z,Z.scopeId,Z.slotScopeIds,N.parent)}}},F=(y,_,k,j,N,L,Z,Y,G=0)=>{for(let q=G;q<y.length;q++){const ue=y[q]=Y?ms(y[q]):Bt(y[q]);v(null,ue,_,k,j,N,L,Z,Y)}},R=(y,_,k,j,N,L,Z)=>{const Y=_.el=y.el;let{patchFlag:G,dynamicChildren:q,dirs:ue}=_;G|=y.patchFlag&16;const ee=y.props||Pe,ae=_.props||Pe;let fe;if(k&&Os(k,!1),(fe=ae.onVnodeBeforeUpdate)&&Ft(fe,k,_,y),ue&&Cs(_,y,k,"beforeUpdate"),k&&Os(k,!0),(ee.innerHTML&&ae.innerHTML==null||ee.textContent&&ae.textContent==null)&&u(Y,""),q?z(y.dynamicChildren,q,Y,k,j,Pi(_,N),L):Z||Q(y,_,Y,null,k,j,Pi(_,N),L,!1),G>0){if(G&16)te(Y,ee,ae,k,N);else if(G&2&&ee.class!==ae.class&&i(Y,"class",null,ae.class,N),G&4&&i(Y,"style",ee.style,ae.style,N),G&8){const we=_.dynamicProps;for(let je=0;je<we.length;je++){const Ee=we[je],gt=ee[Ee],ut=ae[Ee];(ut!==gt||Ee==="value")&&i(Y,Ee,gt,ut,N,k)}}G&1&&y.children!==_.children&&u(Y,_.children)}else!Z&&q==null&&te(Y,ee,ae,k,N);((fe=ae.onVnodeUpdated)||ue)&&ot(()=>{fe&&Ft(fe,k,_,y),ue&&Cs(_,y,k,"updated")},j)},z=(y,_,k,j,N,L,Z)=>{for(let Y=0;Y<_.length;Y++){const G=y[Y],q=_[Y],ue=G.el&&(G.type===oe||!Is(G,q)||G.shapeFlag&198)?f(G.el):k;v(G,q,ue,null,j,N,L,Z,!0)}},te=(y,_,k,j,N)=>{if(_!==k){if(_!==Pe)for(const L in _)!Rn(L)&&!(L in k)&&i(y,L,_[L],null,N,j);for(const L in k){if(Rn(L))continue;const Z=k[L],Y=_[L];Z!==Y&&L!=="value"&&i(y,L,Y,Z,N,j)}"value"in k&&i(y,"value",_.value,k.value,N)}},$=(y,_,k,j,N,L,Z,Y,G)=>{const q=_.el=y?y.el:a(""),ue=_.anchor=y?y.anchor:a("");let{patchFlag:ee,dynamicChildren:ae,slotScopeIds:fe}=_;fe&&(Y=Y?Y.concat(fe):fe),y==null?(n(q,k,j),n(ue,k,j),F(_.children||[],k,ue,N,L,Z,Y,G)):ee>0&&ee&64&&ae&&y.dynamicChildren?(z(y.dynamicChildren,ae,k,N,L,Z,Y),(_.key!=null||N&&_===N.subTree)&&Jo(y,_,!0)):Q(y,_,k,ue,N,L,Z,Y,G)},m=(y,_,k,j,N,L,Z,Y,G)=>{_.slotScopeIds=Y,y==null?_.shapeFlag&512?N.ctx.activate(_,k,j,Z,G):w(_,k,j,N,L,Z,G):A(y,_,G)},w=(y,_,k,j,N,L,Z)=>{const Y=y.component=Mh(y,j,N);if(ri(y)&&(Y.ctx.renderer=ie),jh(Y,!1,Z),Y.asyncDep){if(N&&N.registerDep(Y,ne,Z),!y.el){const G=Y.subTree=H(st);E(null,G,_,k)}}else ne(Y,y,_,k,N,L,Z)},A=(y,_,k)=>{const j=_.component=y.component;if(Sh(y,_,k))if(j.asyncDep&&!j.asyncResolved){re(j,_,k);return}else j.next=_,j.update();else _.el=y.el,j.vnode=_},ne=(y,_,k,j,N,L,Z)=>{const Y=()=>{if(y.isMounted){let{next:ee,bu:ae,u:fe,parent:we,vnode:je}=y;{const It=ou(y);if(It){ee&&(ee.el=je.el,re(y,ee,Z)),It.asyncDep.then(()=>{y.isUnmounted||Y()});return}}let Ee=ee,gt;Os(y,!1),ee?(ee.el=je.el,re(y,ee,Z)):ee=je,ae&&Or(ae),(gt=ee.props&&ee.props.onVnodeBeforeUpdate)&&Ft(gt,we,ee,je),Os(y,!0);const ut=Da(y),jt=y.subTree;y.subTree=ut,v(jt,ut,f(jt.el),I(jt),y,N,L),ee.el=ut.el,Ee===null&&$h(y,ut.el),fe&&ot(fe,N),(gt=ee.props&&ee.props.onVnodeUpdated)&&ot(()=>Ft(gt,we,ee,je),N)}else{let ee;const{el:ae,props:fe}=_,{bm:we,m:je,parent:Ee,root:gt,type:ut}=y,jt=on(_);Os(y,!1),we&&Or(we),!jt&&(ee=fe&&fe.onVnodeBeforeMount)&&Ft(ee,Ee,_),Os(y,!0);{gt.ce&&gt.ce._injectChildStyle(ut);const It=y.subTree=Da(y);v(null,It,k,j,y,N,L),_.el=It.el}if(je&&ot(je,N),!jt&&(ee=fe&&fe.onVnodeMounted)){const It=_;ot(()=>Ft(ee,Ee,It),N)}(_.shapeFlag&256||Ee&&on(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&y.a&&ot(y.a,N),y.isMounted=!0,_=k=j=null}};y.scope.on();const G=y.effect=new lc(Y);y.scope.off();const q=y.update=G.run.bind(G),ue=y.job=G.runIfDirty.bind(G);ue.i=y,ue.id=y.uid,G.scheduler=()=>Wo(ue),Os(y,!0),q()},re=(y,_,k)=>{_.component=y;const j=y.vnode.props;y.vnode=_,y.next=null,lh(y,_.props,j,k),fh(y,_.children,k),ss(),wa(y),ns()},Q=(y,_,k,j,N,L,Z,Y,G=!1)=>{const q=y&&y.children,ue=y?y.shapeFlag:0,ee=_.children,{patchFlag:ae,shapeFlag:fe}=_;if(ae>0){if(ae&128){Oe(q,ee,k,j,N,L,Z,Y,G);return}else if(ae&256){W(q,ee,k,j,N,L,Z,Y,G);return}}fe&8?(ue&16&&Je(q,N,L),ee!==q&&u(k,ee)):ue&16?fe&16?Oe(q,ee,k,j,N,L,Z,Y,G):Je(q,N,L,!0):(ue&8&&u(k,""),fe&16&&F(ee,k,j,N,L,Z,Y,G))},W=(y,_,k,j,N,L,Z,Y,G)=>{y=y||tn,_=_||tn;const q=y.length,ue=_.length,ee=Math.min(q,ue);let ae;for(ae=0;ae<ee;ae++){const fe=_[ae]=G?ms(_[ae]):Bt(_[ae]);v(y[ae],fe,k,null,N,L,Z,Y,G)}q>ue?Je(y,N,L,!0,!1,ee):F(_,k,j,N,L,Z,Y,G,ee)},Oe=(y,_,k,j,N,L,Z,Y,G)=>{let q=0;const ue=_.length;let ee=y.length-1,ae=ue-1;for(;q<=ee&&q<=ae;){const fe=y[q],we=_[q]=G?ms(_[q]):Bt(_[q]);if(Is(fe,we))v(fe,we,k,null,N,L,Z,Y,G);else break;q++}for(;q<=ee&&q<=ae;){const fe=y[ee],we=_[ae]=G?ms(_[ae]):Bt(_[ae]);if(Is(fe,we))v(fe,we,k,null,N,L,Z,Y,G);else break;ee--,ae--}if(q>ee){if(q<=ae){const fe=ae+1,we=fe<ue?_[fe].el:j;for(;q<=ae;)v(null,_[q]=G?ms(_[q]):Bt(_[q]),k,we,N,L,Z,Y,G),q++}}else if(q>ae)for(;q<=ee;)pe(y[q],N,L,!0),q++;else{const fe=q,we=q,je=new Map;for(q=we;q<=ae;q++){const vt=_[q]=G?ms(_[q]):Bt(_[q]);vt.key!=null&&je.set(vt.key,q)}let Ee,gt=0;const ut=ae-we+1;let jt=!1,It=0;const yn=new Array(ut);for(q=0;q<ut;q++)yn[q]=0;for(q=fe;q<=ee;q++){const vt=y[q];if(gt>=ut){pe(vt,N,L,!0);continue}let Lt;if(vt.key!=null)Lt=je.get(vt.key);else for(Ee=we;Ee<=ae;Ee++)if(yn[Ee-we]===0&&Is(vt,_[Ee])){Lt=Ee;break}Lt===void 0?pe(vt,N,L,!0):(yn[Lt-we]=q+1,Lt>=It?It=Lt:jt=!0,v(vt,_[Lt],k,null,N,L,Z,Y,G),gt++)}const ma=jt?gh(yn):tn;for(Ee=ma.length-1,q=ut-1;q>=0;q--){const vt=we+q,Lt=_[vt],ga=vt+1<ue?_[vt+1].el:j;yn[q]===0?v(null,Lt,k,ga,N,L,Z,Y,G):jt&&(Ee<0||q!==ma[Ee]?V(Lt,k,ga,2):Ee--)}}},V=(y,_,k,j,N=null)=>{const{el:L,type:Z,transition:Y,children:G,shapeFlag:q}=y;if(q&6){V(y.component.subTree,_,k,j);return}if(q&128){y.suspense.move(_,k,j);return}if(q&64){Z.move(y,_,k,ie);return}if(Z===oe){n(L,_,k);for(let ee=0;ee<G.length;ee++)V(G[ee],_,k,j);n(y.anchor,_,k);return}if(Z===Pr){T(y,_,k);return}if(j!==2&&q&1&&Y)if(j===0)Y.beforeEnter(L),n(L,_,k),ot(()=>Y.enter(L),N);else{const{leave:ee,delayLeave:ae,afterLeave:fe}=Y,we=()=>{y.ctx.isUnmounted?r(L):n(L,_,k)},je=()=>{ee(L,()=>{we(),fe&&fe()})};ae?ae(L,we,je):je()}else n(L,_,k)},pe=(y,_,k,j=!1,N=!1)=>{const{type:L,props:Z,ref:Y,children:G,dynamicChildren:q,shapeFlag:ue,patchFlag:ee,dirs:ae,cacheIndex:fe}=y;if(ee===-2&&(N=!1),Y!=null&&(ss(),Nr(Y,null,k,y,!0),ns()),fe!=null&&(_.renderCache[fe]=void 0),ue&256){_.ctx.deactivate(y);return}const we=ue&1&&ae,je=!on(y);let Ee;if(je&&(Ee=Z&&Z.onVnodeBeforeUnmount)&&Ft(Ee,_,y),ue&6)$t(y.component,k,j);else{if(ue&128){y.suspense.unmount(k,j);return}we&&Cs(y,null,_,"beforeUnmount"),ue&64?y.type.remove(y,_,k,ie,j):q&&!q.hasOnce&&(L!==oe||ee>0&&ee&64)?Je(q,_,k,!1,!0):(L===oe&&ee&384||!N&&ue&16)&&Je(G,_,k),j&&He(y)}(je&&(Ee=Z&&Z.onVnodeUnmounted)||we)&&ot(()=>{Ee&&Ft(Ee,_,y),we&&Cs(y,null,_,"unmounted")},k)},He=y=>{const{type:_,el:k,anchor:j,transition:N}=y;if(_===oe){qe(k,j);return}if(_===Pr){D(y);return}const L=()=>{r(k),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(y.shapeFlag&1&&N&&!N.persisted){const{leave:Z,delayLeave:Y}=N,G=()=>Z(k,L);Y?Y(y.el,L,G):G()}else L()},qe=(y,_)=>{let k;for(;y!==_;)k=h(y),r(y),y=k;r(_)},$t=(y,_,k)=>{const{bum:j,scope:N,job:L,subTree:Z,um:Y,m:G,a:q,parent:ue,slots:{__:ee}}=y;Ra(G),Ra(q),j&&Or(j),ue&&le(ee)&&ee.forEach(ae=>{ue.renderCache[ae]=void 0}),N.stop(),L&&(L.flags|=8,pe(Z,y,_,k)),Y&&ot(Y,_),ot(()=>{y.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},Je=(y,_,k,j=!1,N=!1,L=0)=>{for(let Z=L;Z<y.length;Z++)pe(y[Z],_,k,j,N)},I=y=>{if(y.shapeFlag&6)return I(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const _=h(y.anchor||y.el),k=_&&_[Rc];return k?h(k):_};let se=!1;const X=(y,_,k)=>{y==null?_._vnode&&pe(_._vnode,null,null,!0):v(_._vnode||null,y,_,null,null,null,k),_._vnode=y,se||(se=!0,wa(),Oc(),se=!1)},ie={p:v,um:pe,m:V,r:He,mt:w,mc:F,pc:Q,pbc:z,n:I,o:e};return{render:X,hydrate:void 0,createApp:oh(X)}}function Pi({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Os({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function mh(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Jo(e,t,s=!1){const n=e.children,r=t.children;if(le(n)&&le(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=ms(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Jo(o,a)),a.type===ai&&(a.el=o.el),a.type===st&&!a.el&&(a.el=o.el)}}function gh(e){const t=e.slice(),s=[0];let n,r,i,o,a;const l=e.length;for(n=0;n<l;n++){const d=e[n];if(d!==0){if(r=s[s.length-1],e[r]<d){t[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<d?i=a+1:o=a;d<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function ou(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ou(t)}function Ra(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const vh=Symbol.for("v-scx"),yh=()=>Ue(vh);function pt(e,t){return Qo(e,null,t)}function Vt(e,t,s){return Qo(e,t,s)}function Qo(e,t,s=Pe){const{immediate:n,deep:r,flush:i,once:o}=s,a=We({},s),l=t&&n||!t&&i!=="post";let d;if(Zn){if(i==="sync"){const p=yh();d=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=qt,p.resume=qt,p.pause=qt,p}}const u=Xe;a.call=(p,b,v)=>Pt(p,u,b,v);let f=!1;i==="post"?a.scheduler=p=>{ot(p,u&&u.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(p,b)=>{b?p():Wo(p)}),a.augmentJob=p=>{t&&(p.flags|=4),f&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const h=Df(e,t,a);return Zn&&(d?d.push(h):l&&h()),h}function bh(e,t,s){const n=this.proxy,r=Be(e)?e.includes(".")?au(n,e):()=>n[e]:e.bind(n,n);let i;he(t)?i=t:(i=t.handler,s=t);const o=ar(this),a=Qo(r,i.bind(n),s);return o(),a}function au(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const _h=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${kt(t)}Modifiers`]||e[`${Hs(t)}Modifiers`];function wh(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Pe;let r=s;const i=t.startsWith("update:"),o=i&&_h(n,t.slice(7));o&&(o.trim&&(r=s.map(u=>Be(u)?u.trim():u)),o.number&&(r=s.map(Mr)));let a,l=n[a=Si(t)]||n[a=Si(kt(t))];!l&&i&&(l=n[a=Si(Hs(t))]),l&&Pt(l,e,6,r);const d=n[a+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Pt(d,e,6,r)}}function lu(e,t,s=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!he(e)){const l=d=>{const u=lu(d,t,!0);u&&(a=!0,We(o,u))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(Me(e)&&n.set(e,null),null):(le(i)?i.forEach(l=>o[l]=null):We(o,i),Me(e)&&n.set(e,o),o)}function oi(e,t){return!e||!Qr(t)?!1:(t=t.slice(2).replace(/Once$/,""),$e(e,t[0].toLowerCase()+t.slice(1))||$e(e,Hs(t))||$e(e,t))}function Da(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:d,renderCache:u,props:f,data:h,setupState:p,ctx:b,inheritAttrs:v}=e,g=Fr(e);let E,x;try{if(s.shapeFlag&4){const D=r||n,J=D;E=Bt(d.call(J,D,u,f,p,h,b)),x=a}else{const D=t;E=Bt(D.length>1?D(f,{attrs:a,slots:o,emit:l}):D(f,null)),x=t.props?a:xh(a)}}catch(D){Ln.length=0,ni(D,e,1),E=H(st)}let T=E;if(x&&v!==!1){const D=Object.keys(x),{shapeFlag:J}=T;D.length&&J&7&&(i&&D.some(Mo)&&(x=kh(x,i)),T=rs(T,x,!1,!0))}return s.dirs&&(T=rs(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(s.dirs):s.dirs),s.transition&&Bs(T,s.transition),E=T,Fr(g),E}const xh=e=>{let t;for(const s in e)(s==="class"||s==="style"||Qr(s))&&((t||(t={}))[s]=e[s]);return t},kh=(e,t)=>{const s={};for(const n in e)(!Mo(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Sh(e,t,s){const{props:n,children:r,component:i}=e,{props:o,children:a,patchFlag:l}=t,d=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Ma(n,o,d):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(o[h]!==n[h]&&!oi(d,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Ma(n,o,d):!0:!!o;return!1}function Ma(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(t[i]!==e[i]&&!oi(s,i))return!0}return!1}function $h({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const cu=e=>e.__isSuspense;function Eh(e,t){t&&t.pendingBranch?le(e)?t.effects.push(...e):t.effects.push(e):If(e)}const oe=Symbol.for("v-fgt"),ai=Symbol.for("v-txt"),st=Symbol.for("v-cmt"),Pr=Symbol.for("v-stc"),Ln=[];let yt=null;function C(e=!1){Ln.push(yt=e?null:[])}function Th(){Ln.pop(),yt=Ln[Ln.length-1]||null}let Jn=1;function ja(e,t=!1){Jn+=e,e<0&&yt&&t&&(yt.hasOnce=!0)}function uu(e){return e.dynamicChildren=Jn>0?yt||tn:null,Th(),Jn>0&&yt&&yt.push(e),e}function O(e,t,s,n,r,i){return uu(c(e,t,s,n,r,i,!0))}function Xt(e,t,s,n,r){return uu(H(e,t,s,n,r,!0))}function Qn(e){return e?e.__v_isVNode===!0:!1}function Is(e,t){return e.type===t.type&&e.key===t.key}const du=({key:e})=>e??null,Rr=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Be(e)||nt(e)||he(e)?{i:Ye,r:e,k:t,f:!!s}:e:null);function c(e,t=null,s=null,n=0,r=null,i=e===oe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&du(t),ref:t&&Rr(t),scopeId:Pc,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ye};return a?(Zo(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=Be(s)?8:16),Jn>0&&!o&&yt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&yt.push(l),l}const H=Ch;function Ch(e,t=null,s=null,n=0,r=null,i=!1){if((!e||e===Kc)&&(e=st),Qn(e)){const a=rs(e,t,!0);return s&&Zo(a,s),Jn>0&&!i&&yt&&(a.shapeFlag&6?yt[yt.indexOf(e)]=a:yt.push(a)),a.patchFlag=-2,a}if(Uh(e)&&(e=e.__vccOpts),t){t=Oh(t);let{class:a,style:l}=t;a&&!Be(a)&&(t.class=Ce(a)),Me(l)&&(Vo(l)&&!le(l)&&(l=We({},l)),t.style=ti(l))}const o=Be(e)?1:cu(e)?128:Dc(e)?64:Me(e)?4:he(e)?2:0;return c(e,t,s,n,r,o,i,!0)}function Oh(e){return e?Vo(e)||eu(e)?We({},e):e:null}function rs(e,t,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=e,d=t?Ph(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&du(d),ref:t&&t.ref?s&&i?le(i)?i.concat(Rr(t)):[i,Rr(t)]:Rr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==oe?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rs(e.ssContent),ssFallback:e.ssFallback&&rs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Bs(u,l.clone(u)),u}function De(e=" ",t=0){return H(ai,null,e,t)}function Ah(e,t){const s=H(Pr,null,e);return s.staticCount=t,s}function Re(e="",t=!1){return t?(C(),Xt(st,null,e)):H(st,null,e)}function Bt(e){return e==null||typeof e=="boolean"?H(st):le(e)?H(oe,null,e.slice()):Qn(e)?ms(e):H(ai,null,String(e))}function ms(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:rs(e)}function Zo(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(le(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),Zo(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!eu(t)?t._ctx=Ye:r===3&&Ye&&(Ye.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else he(t)?(t={default:t,_ctx:Ye},s=32):(t=String(t),n&64?(s=16,t=[De(t)]):s=8);e.children=t,e.shapeFlag|=s}function Ph(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=Ce([t.class,n.class]));else if(r==="style")t.style=ti([t.style,n.style]);else if(Qr(r)){const i=t[r],o=n[r];o&&i!==o&&!(le(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=n[r])}return t}function Ft(e,t,s,n=null){Pt(e,t,7,[s,n])}const Rh=Qc();let Dh=0;function Mh(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||Rh,i={uid:Dh++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new af(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:su(n,r),emitsOptions:lu(n,r),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:n.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=wh.bind(null,i),e.ce&&e.ce(i),i}let Xe=null;const li=()=>Xe||Ye;let Br,ao;{const e=ei(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Br=t("__VUE_INSTANCE_SETTERS__",s=>Xe=s),ao=t("__VUE_SSR_SETTERS__",s=>Zn=s)}const ar=e=>{const t=Xe;return Br(e),e.scope.on(),()=>{e.scope.off(),Br(t)}},Ia=()=>{Xe&&Xe.scope.off(),Br(null)};function fu(e){return e.vnode.shapeFlag&4}let Zn=!1;function jh(e,t=!1,s=!1){t&&ao(t);const{props:n,children:r}=e.vnode,i=fu(e);ah(e,n,i,t),dh(e,r,s||t);const o=i?Ih(e,t):void 0;return t&&ao(!1),o}function Ih(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Xf);const{setup:n}=s;if(n){ss();const r=e.setupContext=n.length>1?Fh(e):null,i=ar(e),o=or(n,e,0,[e.props,r]),a=tc(o);if(ns(),i(),(a||e.sp)&&!on(e)&&Bc(e),a){if(o.then(Ia,Ia),t)return o.then(l=>{La(e,l)}).catch(l=>{ni(l,e,0)});e.asyncDep=o}else La(e,o)}else hu(e)}function La(e,t,s){he(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Me(t)&&(e.setupState=Ec(t)),hu(e)}function hu(e,t,s){const n=e.type;e.render||(e.render=n.render||qt);{const r=ar(e);ss();try{eh(e)}finally{ns(),r()}}}const Lh={get(e,t){return tt(e,"get",""),e[t]}};function Fh(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Lh),slots:e.slots,emit:e.emit,expose:t}}function ci(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ec(Tf(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in In)return In[s](e)},has(t,s){return s in t||s in In}})):e.proxy}function Nh(e,t=!0){return he(e)?e.displayName||e.name:e.name||t&&e.__name}function Uh(e){return he(e)&&"__vccOpts"in e}const K=(e,t)=>Pf(e,t,Zn);function Ge(e,t,s){const n=arguments.length;return n===2?Me(t)&&!le(t)?Qn(t)?H(e,null,[t]):H(e,t):H(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Qn(s)&&(s=[s]),H(e,t,s))}const Bh="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let lo;const Fa=typeof window<"u"&&window.trustedTypes;if(Fa)try{lo=Fa.createPolicy("vue",{createHTML:e=>e})}catch{}const pu=lo?e=>lo.createHTML(e):e=>e,Hh="http://www.w3.org/2000/svg",qh="http://www.w3.org/1998/Math/MathML",Yt=typeof document<"u"?document:null,Na=Yt&&Yt.createElement("template"),Vh={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?Yt.createElementNS(Hh,e):t==="mathml"?Yt.createElementNS(qh,e):s?Yt.createElement(e,{is:s}):Yt.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>Yt.createTextNode(e),createComment:e=>Yt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Yt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,i){const o=s?s.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{Na.innerHTML=pu(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=Na.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},ls="transition",_n="animation",cn=Symbol("_vtc"),mu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},gu=We({},Lc,mu),Wh=e=>(e.displayName="Transition",e.props=gu,e),vu=Wh((e,{slots:t})=>Ge(Uf,yu(e),t)),As=(e,t=[])=>{le(e)?e.forEach(s=>s(...t)):e&&e(...t)},Ua=e=>e?le(e)?e.some(t=>t.length>1):e.length>1:!1;function yu(e){const t={};for(const $ in e)$ in mu||(t[$]=e[$]);if(e.css===!1)return t;const{name:s="v",type:n,duration:r,enterFromClass:i=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=i,appearActiveClass:d=o,appearToClass:u=a,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:h=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=e,b=Kh(r),v=b&&b[0],g=b&&b[1],{onBeforeEnter:E,onEnter:x,onEnterCancelled:T,onLeave:D,onLeaveCancelled:J,onBeforeAppear:M=E,onAppear:S=x,onAppearCancelled:F=T}=t,R=($,m,w,A)=>{$._enterCancelled=A,ds($,m?u:a),ds($,m?d:o),w&&w()},z=($,m)=>{$._isLeaving=!1,ds($,f),ds($,p),ds($,h),m&&m()},te=$=>(m,w)=>{const A=$?S:x,ne=()=>R(m,$,w);As(A,[m,ne]),Ba(()=>{ds(m,$?l:i),Nt(m,$?u:a),Ua(A)||Ha(m,n,v,ne)})};return We(t,{onBeforeEnter($){As(E,[$]),Nt($,i),Nt($,o)},onBeforeAppear($){As(M,[$]),Nt($,l),Nt($,d)},onEnter:te(!1),onAppear:te(!0),onLeave($,m){$._isLeaving=!0;const w=()=>z($,m);Nt($,f),$._enterCancelled?(Nt($,h),co()):(co(),Nt($,h)),Ba(()=>{$._isLeaving&&(ds($,f),Nt($,p),Ua(D)||Ha($,n,g,w))}),As(D,[$,w])},onEnterCancelled($){R($,!1,void 0,!0),As(T,[$])},onAppearCancelled($){R($,!0,void 0,!0),As(F,[$])},onLeaveCancelled($){z($),As(J,[$])}})}function Kh(e){if(e==null)return null;if(Me(e))return[Ri(e.enter),Ri(e.leave)];{const t=Ri(e);return[t,t]}}function Ri(e){return Zd(e)}function Nt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[cn]||(e[cn]=new Set)).add(t)}function ds(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const s=e[cn];s&&(s.delete(t),s.size||(e[cn]=void 0))}function Ba(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let zh=0;function Ha(e,t,s,n){const r=e._endId=++zh,i=()=>{r===e._endId&&n()};if(s!=null)return setTimeout(i,s);const{type:o,timeout:a,propCount:l}=bu(e,t);if(!o)return n();const d=o+"end";let u=0;const f=()=>{e.removeEventListener(d,h),i()},h=p=>{p.target===e&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),e.addEventListener(d,h)}function bu(e,t){const s=window.getComputedStyle(e),n=b=>(s[b]||"").split(", "),r=n(`${ls}Delay`),i=n(`${ls}Duration`),o=qa(r,i),a=n(`${_n}Delay`),l=n(`${_n}Duration`),d=qa(a,l);let u=null,f=0,h=0;t===ls?o>0&&(u=ls,f=o,h=i.length):t===_n?d>0&&(u=_n,f=d,h=l.length):(f=Math.max(o,d),u=f>0?o>d?ls:_n:null,h=u?u===ls?i.length:l.length:0);const p=u===ls&&/\b(transform|all)(,|$)/.test(n(`${ls}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:p}}function qa(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>Va(s)+Va(e[n])))}function Va(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function co(){return document.body.offsetHeight}function Gh(e,t,s){const n=e[cn];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Wa=Symbol("_vod"),Yh=Symbol("_vsh"),Jh=Symbol(""),Qh=/(^|;)\s*display\s*:/;function Zh(e,t,s){const n=e.style,r=Be(s);let i=!1;if(s&&!r){if(t)if(Be(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Dr(n,a,"")}else for(const o in t)s[o]==null&&Dr(n,o,"");for(const o in s)o==="display"&&(i=!0),Dr(n,o,s[o])}else if(r){if(t!==s){const o=n[Jh];o&&(s+=";"+o),n.cssText=s,i=Qh.test(s)}}else t&&e.removeAttribute("style");Wa in e&&(e[Wa]=i?n.display:"",e[Yh]&&(n.display="none"))}const Ka=/\s*!important$/;function Dr(e,t,s){if(le(s))s.forEach(n=>Dr(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Xh(e,t);Ka.test(s)?e.setProperty(Hs(n),s.replace(Ka,""),"important"):e[n]=s}}const za=["Webkit","Moz","ms"],Di={};function Xh(e,t){const s=Di[t];if(s)return s;let n=kt(t);if(n!=="filter"&&n in e)return Di[t]=n;n=Xr(n);for(let r=0;r<za.length;r++){const i=za[r]+n;if(i in e)return Di[t]=i}return t}const Ga="http://www.w3.org/1999/xlink";function Ya(e,t,s,n,r,i=rf(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Ga,t.slice(6,t.length)):e.setAttributeNS(Ga,t,s):s==null||i&&!ic(s)?e.removeAttribute(t):e.setAttribute(t,i?"":At(s)?String(s):s)}function Ja(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?pu(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=ic(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(r||t)}function ys(e,t,s,n){e.addEventListener(t,s,n)}function ep(e,t,s,n){e.removeEventListener(t,s,n)}const Qa=Symbol("_vei");function tp(e,t,s,n,r=null){const i=e[Qa]||(e[Qa]={}),o=i[t];if(n&&o)o.value=n;else{const[a,l]=sp(t);if(n){const d=i[t]=ip(n,r);ys(e,a,d,l)}else o&&(ep(e,a,o,l),i[t]=void 0)}}const Za=/(?:Once|Passive|Capture)$/;function sp(e){let t;if(Za.test(e)){t={};let n;for(;n=e.match(Za);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Hs(e.slice(2)),t]}let Mi=0;const np=Promise.resolve(),rp=()=>Mi||(np.then(()=>Mi=0),Mi=Date.now());function ip(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Pt(op(n,s.value),t,5,[n])};return s.value=e,s.attached=rp(),s}function op(e,t){if(le(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const Xa=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ap=(e,t,s,n,r,i)=>{const o=r==="svg";t==="class"?Gh(e,n,o):t==="style"?Zh(e,s,n):Qr(t)?Mo(t)||tp(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):lp(e,t,n,o))?(Ja(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ya(e,t,n,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Be(n))?Ja(e,kt(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Ya(e,t,n,o))};function lp(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Xa(t)&&he(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Xa(t)&&Be(s)?!1:t in e}const _u=new WeakMap,wu=new WeakMap,Hr=Symbol("_moveCb"),el=Symbol("_enterCb"),cp=e=>(delete e.props.mode,e),up=cp({name:"TransitionGroup",props:We({},gu,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=li(),n=Ic();let r,i;return qc(()=>{if(!r.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!mp(r[0].el,s.vnode.el,o)){r=[];return}r.forEach(fp),r.forEach(hp);const a=r.filter(pp);co(),a.forEach(l=>{const d=l.el,u=d.style;Nt(d,o),u.transform=u.webkitTransform=u.transitionDuration="";const f=d[Hr]=h=>{h&&h.target!==d||(!h||/transform$/.test(h.propertyName))&&(d.removeEventListener("transitionend",f),d[Hr]=null,ds(d,o))};d.addEventListener("transitionend",f)}),r=[]}),()=>{const o=xe(e),a=yu(o);let l=o.tag||oe;if(r=[],i)for(let d=0;d<i.length;d++){const u=i[d];u.el&&u.el instanceof Element&&(r.push(u),Bs(u,Yn(u,a,n,s)),_u.set(u,u.el.getBoundingClientRect()))}i=t.default?Ko(t.default()):[];for(let d=0;d<i.length;d++){const u=i[d];u.key!=null&&Bs(u,Yn(u,a,n,s))}return H(l,null,i)}}}),dp=up;function fp(e){const t=e.el;t[Hr]&&t[Hr](),t[el]&&t[el]()}function hp(e){wu.set(e,e.el.getBoundingClientRect())}function pp(e){const t=_u.get(e),s=wu.get(e),n=t.left-s.left,r=t.top-s.top;if(n||r){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${r}px)`,i.transitionDuration="0s",e}}function mp(e,t,s){const n=e.cloneNode(),r=e[cn];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),s.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(n);const{hasTransform:o}=bu(n);return i.removeChild(n),o}const un=e=>{const t=e.props["onUpdate:modelValue"]||!1;return le(t)?s=>Or(t,s):t};function gp(e){e.target.composing=!0}function tl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const es=Symbol("_assign"),ye={created(e,{modifiers:{lazy:t,trim:s,number:n}},r){e[es]=un(r);const i=n||r.props&&r.props.type==="number";ys(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;s&&(a=a.trim()),i&&(a=Mr(a)),e[es](a)}),s&&ys(e,"change",()=>{e.value=e.value.trim()}),t||(ys(e,"compositionstart",gp),ys(e,"compositionend",tl),ys(e,"change",tl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},o){if(e[es]=un(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?Mr(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||r&&e.value.trim()===l)||(e.value=l))}},Fn={deep:!0,created(e,t,s){e[es]=un(s),ys(e,"change",()=>{const n=e._modelValue,r=Xn(e),i=e.checked,o=e[es];if(le(n)){const a=Lo(n,r),l=a!==-1;if(i&&!l)o(n.concat(r));else if(!i&&l){const d=[...n];d.splice(a,1),o(d)}}else if(mn(n)){const a=new Set(n);i?a.add(r):a.delete(r),o(a)}else o(xu(e,i))})},mounted:sl,beforeUpdate(e,t,s){e[es]=un(s),sl(e,t,s)}};function sl(e,{value:t,oldValue:s},n){e._modelValue=t;let r;if(le(t))r=Lo(t,n.props.value)>-1;else if(mn(t))r=t.has(n.props.value);else{if(t===s)return;r=ir(t,xu(e,!0))}e.checked!==r&&(e.checked=r)}const Wt={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const r=mn(t);ys(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>s?Mr(Xn(o)):Xn(o));e[es](e.multiple?r?new Set(i):i:i[0]),e._assigning=!0,Ot(()=>{e._assigning=!1})}),e[es]=un(n)},mounted(e,{value:t}){nl(e,t)},beforeUpdate(e,t,s){e[es]=un(s)},updated(e,{value:t}){e._assigning||nl(e,t)}};function nl(e,t){const s=e.multiple,n=le(t);if(!(s&&!n&&!mn(t))){for(let r=0,i=e.options.length;r<i;r++){const o=e.options[r],a=Xn(o);if(s)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(d=>String(d)===String(a)):o.selected=Lo(t,a)>-1}else o.selected=t.has(a);else if(ir(Xn(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Xn(e){return"_value"in e?e._value:e.value}function xu(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const vp=["ctrl","shift","alt","meta"],yp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>vp.some(s=>e[`${s}Key`]&&!t.includes(s))},is=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(r,...i)=>{for(let o=0;o<t.length;o++){const a=yp[t[o]];if(a&&a(r,t))return}return e(r,...i)})},bp=We({patchProp:ap},Vh);let rl;function _p(){return rl||(rl=hh(bp))}const wp=(...e)=>{const t=_p().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=kp(n);if(!r)return;const i=t._component;!he(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,xp(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function xp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function kp(e){return Be(e)?document.querySelector(e):e}const Sp="modulepreload",$p=function(e){return"/vasa-bolt.new-version/"+e},il={},lr=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(s.map(l=>{if(l=$p(l),l in il)return;il[l]=!0;const d=l.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Sp,d||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Ep=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>lr(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)};class Xo extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class Tp extends Xo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Cp extends Xo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Op extends Xo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var uo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(uo||(uo={}));var Ap=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function l(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):r(u.value).then(a,l)}d((n=n.apply(e,t||[])).next())})};class Pp{constructor(t,{headers:s={},customFetch:n,region:r=uo.Any}={}){this.url=t,this.headers=s,this.region=r,this.fetch=Ep(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var n;return Ap(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let d;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:d}).catch(b=>{throw new Tp(b)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new Cp(u);if(!u.ok)throw new Op(u);let h=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="text/event-stream"?p=u:h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(r){return{data:null,error:r}}})}}var St=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),s}var ht={},ea={},ui={},cr={},di={},fi={},Dp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},dn=Dp();const Mp=dn.fetch,ku=dn.fetch.bind(dn),Su=dn.Headers,jp=dn.Request,Ip=dn.Response,gn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Su,Request:jp,Response:Ip,default:ku,fetch:Mp},Symbol.toStringTag,{value:"Module"})),Lp=Rp(gn);var hi={};Object.defineProperty(hi,"__esModule",{value:!0});let Fp=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};hi.default=Fp;var $u=St&&St.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fi,"__esModule",{value:!0});const Np=$u(Lp),Up=$u(hi);let Bp=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Np.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let r=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let d=null,u=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const E=await i.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=E:u=JSON.parse(E))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(u=[],d=null,h=200,p="OK")}catch{i.status===404&&v===""?(h=204,p="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((l=d==null?void 0:d.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,h=200,p="OK"),d&&this.shouldThrowOnError)throw new Up.default(d)}return{error:d,data:u,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(t,s)}returns(){return this}overrideTypes(){return this}};fi.default=Bp;var Hp=St&&St.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(di,"__esModule",{value:!0});const qp=Hp(fi);let Vp=class extends qp.default{select(t){let s=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!s?"":(r==='"'&&(s=!s),r)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:n=s}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,s,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,s?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};di.default=Vp;var Wp=St&&St.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cr,"__esModule",{value:!0});const Kp=Wp(di);let zp=class extends Kp.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const n=Array.from(new Set(s)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${s}`),this}match(t){return Object.entries(t).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(t,s,n){return this.url.searchParams.append(t,`not.${s}.${n}`),this}or(t,{foreignTable:s,referencedTable:n=s}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,s,n){return this.url.searchParams.append(t,`${s}.${n}`),this}};cr.default=zp;var Gp=St&&St.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ui,"__esModule",{value:!0});const wn=Gp(cr);let Yp=class{constructor(t,{headers:s={},schema:n,fetch:r}){this.url=t,this.headers=s,this.schema=n,this.fetch=r}select(t,{head:s=!1,count:n}={}){const r=s?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new wn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:n=!0}={}){const r="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new wn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(l.length>0){const d=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new wn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const n="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),s&&r.push(`count=${s}`),this.headers.Prefer=r.join(","),new wn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new wn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ui.default=Yp;var pi={},mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.version=void 0;mi.version="0.0.0-automated";Object.defineProperty(pi,"__esModule",{value:!0});pi.DEFAULT_HEADERS=void 0;const Jp=mi;pi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Jp.version}`};var Eu=St&&St.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ea,"__esModule",{value:!0});const Qp=Eu(ui),Zp=Eu(cr),Xp=pi;let em=class Tu{constructor(t,{headers:s={},schema:n,fetch:r}={}){this.url=t,this.headers=Object.assign(Object.assign({},Xp.DEFAULT_HEADERS),s),this.schemaName=n,this.fetch=r}from(t){const s=new URL(`${this.url}/${t}`);return new Qp.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Tu(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:n=!1,get:r=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||r?(o=n?"HEAD":"GET",Object.entries(s).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{a.searchParams.append(u,f)})):(o="POST",l=s);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new Zp.default({method:o,url:a,headers:d,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ea.default=em;var vn=St&&St.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ht,"__esModule",{value:!0});ht.PostgrestError=ht.PostgrestBuilder=ht.PostgrestTransformBuilder=ht.PostgrestFilterBuilder=ht.PostgrestQueryBuilder=ht.PostgrestClient=void 0;const Cu=vn(ea);ht.PostgrestClient=Cu.default;const Ou=vn(ui);ht.PostgrestQueryBuilder=Ou.default;const Au=vn(cr);ht.PostgrestFilterBuilder=Au.default;const Pu=vn(di);ht.PostgrestTransformBuilder=Pu.default;const Ru=vn(fi);ht.PostgrestBuilder=Ru.default;const Du=vn(hi);ht.PostgrestError=Du.default;var tm=ht.default={PostgrestClient:Cu.default,PostgrestQueryBuilder:Ou.default,PostgrestFilterBuilder:Au.default,PostgrestTransformBuilder:Pu.default,PostgrestBuilder:Ru.default,PostgrestError:Du.default};const{PostgrestClient:sm,PostgrestQueryBuilder:b$,PostgrestFilterBuilder:_$,PostgrestTransformBuilder:w$,PostgrestBuilder:x$,PostgrestError:k$}=tm;let fo;typeof window>"u"?fo=require("ws"):fo=window.WebSocket;const nm="2.11.10",rm={"X-Client-Info":`realtime-js/${nm}`},im="1.0.0",Mu=1e4,om=1e3;var ln;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ln||(ln={}));var it;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(it||(it={}));var Tt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Tt||(Tt={}));var ho;(function(e){e.websocket="websocket"})(ho||(ho={}));var Ls;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ls||(Ls={}));class am{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,s,n)}_decodeBroadcast(t,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+r));o=o+r;const l=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:d}}}class ju{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ie||(Ie={}));const ol=(e,t,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=lm(o,e,t,r),i),{})},lm=(e,t,s,n)=>{const r=t.find(a=>a.name===e),i=r==null?void 0:r.type,o=s[e];return i&&!n.includes(i)?Iu(i,o):po(o)},Iu=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return fm(t,s)}switch(e){case Ie.bool:return cm(t);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return um(t);case Ie.json:case Ie.jsonb:return dm(t);case Ie.timestamp:return hm(t);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return po(t);default:return po(t)}},po=e=>e,cm=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},um=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},dm=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},fm=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Iu(t,a))}return e},hm=e=>typeof e=="string"?e.replace(" ","T"):e,Lu=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ji{constructor(t,s,n={},r=Mu){this.channel=t,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var al;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(al||(al={}));class Nn{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nn.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=Nn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Nn.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,r){const i=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(i,(d,u)=>{o[d]||(l[d]=u)}),this.map(o,(d,u)=>{const f=i[d];if(f){const h=u.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),b=u.filter(g=>p.indexOf(g.presence_ref)<0),v=f.filter(g=>h.indexOf(g.presence_ref)<0);b.length>0&&(a[d]=b),v.length>0&&(l[d]=v)}else a[d]=u}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(t,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var d;const u=(d=t[a])!==null&&d!==void 0?d:[];if(t[a]=this.cloneDeep(l),u.length>0){const f=t[a].map(p=>p.presence_ref),h=u.filter(p=>f.indexOf(p.presence_ref)<0);t[a].unshift(...h)}n(a,u,l)}),this.map(o,(a,l)=>{let d=t[a];if(!d)return;const u=l.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[a]=d,r(a,d,l),d.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const r=t[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ll;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ll||(ll={}));var cl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cl||(cl={}));var Jt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Jt||(Jt={}));class ta{constructor(t,s={config:{}},n){this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ji(this,Tt.join,this.params,this.timeout),this.rejoinTimer=new ju(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tt.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Nn(this),this.broadcastEndpointURL=Lu(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(Jt.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Jt.CLOSED));const l={},d={broadcast:i,presence:o,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(Jt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,b=[];for(let v=0;v<p;v++){const g=h[v],{filter:{event:E,schema:x,table:T,filter:D}}=g,J=u&&u[v];if(J&&J.event===E&&J.schema===x&&J.table===T&&J.filter===D)b.push(Object.assign(Object.assign({},g),{id:J.id}));else{this.unsubscribe(),this.state=it.errored,t==null||t(Jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Jt.SUBSCRIBED);return}}).receive("error",u=>{this.state=it.errored,t==null||t(Jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this._on(t,s,n)}async send(t,s={}){var n,r;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=d.body)===null||r===void 0?void 0:r.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const d=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=it.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const r=new ji(this,Tt.leave,{},t);r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new ji(this,t,s,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var r,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:d,join:u}=Tt;if(n&&[a,l,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,s,n);if(s&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(p=>{var b,v,g;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((g=(v=p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var b,v,g,E,x,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const D=p.id,J=(b=p.filter)===null||b===void 0?void 0:b.event;return D&&((v=s.ids)===null||v===void 0?void 0:v.includes(D))&&(J==="*"||(J==null?void 0:J.toLocaleLowerCase())===((g=s.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const D=(x=(E=p==null?void 0:p.filter)===null||E===void 0?void 0:E.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return D==="*"||D===((T=s==null?void 0:s.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:v,table:g,commit_timestamp:E,type:x,errors:T}=b;h=Object.assign(Object.assign({},{schema:v,table:g,commit_timestamp:E,eventType:x,new:{},old:{},errors:T}),this._getPayloadRecords(b))}p.callback(h,n)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const r=t.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ta.isEqual(r.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Tt.close,{},t)}_onError(t){this._on(Tt.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=ol(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=ol(t.columns,t.old_record)),s}}const ul=()=>{},pm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mm{constructor(t,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=rm,this.params={},this.timeout=Mu,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ul,this.ref=0,this.logger=ul,this.conn=null,this.sendBuffer=[],this.serializer=new am,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>lr(async()=>{const{default:l}=await Promise.resolve().then(()=>gn);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${ho.websocket}`,this.httpEndpoint=Lu(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const r=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ju(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=fo),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new gm(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:im}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ln.connecting:return Ls.Connecting;case ln.open:return Ls.Open;case ln.closing:return Ls.Closing;default:return Ls.Closed}}isConnected(){return this.connectionState()===Ls.Open}channel(t,s={config:{}}){const n=`realtime:${t}`,r=this.getChannels().find(i=>i.topic===n);if(r)return r;{const i=new ta(`realtime:${t}`,s,this);return this.channels.push(i),i}}push(t){const{topic:s,event:n,payload:r,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Tt.access_token,{access_token:s})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(om,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:n,event:r,payload:i,ref:o}=s;n==="phoenix"&&r==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Tt.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${t}${n}${r}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([pm],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class gm{constructor(t,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ln.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class sa extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ke(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class vm extends sa{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class mo extends sa{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var ym=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function l(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):r(u.value).then(a,l)}d((n=n.apply(e,t||[])).next())})};const Fu=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>lr(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},bm=()=>ym(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield lr(()=>Promise.resolve().then(()=>gn),void 0)).Response:Response}),go=e=>{if(Array.isArray(e))return e.map(s=>go(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=go(n)}),t};var qs=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function l(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):r(u.value).then(a,l)}d((n=n.apply(e,t||[])).next())})};const Ii=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_m=(e,t,s)=>qs(void 0,void 0,void 0,function*(){const n=yield bm();e instanceof n&&!(s!=null&&s.noResolveJson)?e.json().then(r=>{t(new vm(Ii(r),e.status||500))}).catch(r=>{t(new mo(Ii(r),r))}):t(new mo(Ii(e),e))}),wm=(e,t,s,n)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(r.body=JSON.stringify(n)),Object.assign(Object.assign({},r),s))};function ur(e,t,s,n,r,i){return qs(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,wm(t,n,r,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>_m(l,a,n))})})}function qr(e,t,s,n){return qs(this,void 0,void 0,function*(){return ur(e,"GET",t,s,n)})}function gs(e,t,s,n,r){return qs(this,void 0,void 0,function*(){return ur(e,"POST",t,n,r,s)})}function xm(e,t,s,n,r){return qs(this,void 0,void 0,function*(){return ur(e,"PUT",t,n,r,s)})}function km(e,t,s,n){return qs(this,void 0,void 0,function*(){return ur(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function Nu(e,t,s,n,r){return qs(this,void 0,void 0,function*(){return ur(e,"DELETE",t,n,r,s)})}var dt=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function l(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):r(u.value).then(a,l)}d((n=n.apply(e,t||[])).next())})};const Sm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dl={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $m{constructor(t,s={},n,r){this.url=t,this.headers=s,this.bucketId=n,this.fetch=Fu(r)}uploadOrUpdate(t,s,n,r){return dt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},dl),r);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const d=this._removeEmptyFolders(s),u=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:d,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}upload(t,s,n){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,n)})}uploadToSignedUrl(t,s,n,r){return dt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const d=Object.assign({upsert:dl.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",d.cacheControl)):(l=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Ke(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return dt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const r=Object.assign({},this.headers);s!=null&&s.upsert&&(r["x-upsert"]="true");const i=yield gs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new sa("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}update(t,s,n){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,n)})}move(t,s,n){return dt(this,void 0,void 0,function*(){try{return{data:yield gs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}copy(t,s,n){return dt(this,void 0,void 0,function*(){try{return{data:{path:(yield gs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}createSignedUrl(t,s,n){return dt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=yield gs(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}createSignedUrls(t,s,n){return dt(this,void 0,void 0,function*(){try{const r=yield gs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}download(t,s){return dt(this,void 0,void 0,function*(){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield qr(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}})}info(t){return dt(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const n=yield qr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:go(n),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}exists(t){return dt(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield km(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ke(n)&&n instanceof mo){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,s){const n=this._getFinalPath(t),r=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&r.push(l);let d=r.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${d}`)}}}remove(t){return dt(this,void 0,void 0,function*(){try{return{data:yield Nu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}list(t,s,n){return dt(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Sm),s),{prefix:t||""});return{data:yield gs(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const Em="2.7.1",Tm={"X-Client-Info":`storage-js/${Em}`};var Ks=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function l(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):r(u.value).then(a,l)}d((n=n.apply(e,t||[])).next())})};class Cm{constructor(t,s={},n){this.url=t,this.headers=Object.assign(Object.assign({},Tm),s),this.fetch=Fu(n)}listBuckets(){return Ks(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ke(t))return{data:null,error:t};throw t}})}getBucket(t){return Ks(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return Ks(this,void 0,void 0,function*(){try{return{data:yield gs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return Ks(this,void 0,void 0,function*(){try{return{data:yield xm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ks(this,void 0,void 0,function*(){try{return{data:yield gs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Ks(this,void 0,void 0,function*(){try{return{data:yield Nu(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}}class Om extends Cm{constructor(t,s={},n){super(t,s,n)}from(t){return new $m(this.url,this.headers,t,this.fetch)}}const Am="2.50.0";let An="";typeof Deno<"u"?An="deno":typeof document<"u"?An="web":typeof navigator<"u"&&navigator.product==="ReactNative"?An="react-native":An="node";const Pm={"X-Client-Info":`supabase-js-${An}/${Am}`},Rm={headers:Pm},Dm={schema:"public"},Mm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jm={};var Im=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function l(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):r(u.value).then(a,l)}d((n=n.apply(e,t||[])).next())})};const Lm=e=>{let t;return e?t=e:typeof fetch>"u"?t=ku:t=fetch,(...s)=>t(...s)},Fm=()=>typeof Headers>"u"?Su:Headers,Nm=(e,t,s)=>{const n=Lm(s),r=Fm();return(i,o)=>Im(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let d=new r(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var Um=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function l(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):r(u.value).then(a,l)}d((n=n.apply(e,t||[])).next())})};function Bm(e){return e.endsWith("/")?e:e+"/"}function Hm(e,t){var s,n;const{db:r,auth:i,realtime:o,global:a}=e,{db:l,auth:d,realtime:u,global:f}=t,h={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(s=f==null?void 0:f.headers)!==null&&s!==void 0?s:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Um(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Uu="2.70.0",Xs=30*1e3,vo=3,Li=vo*Xs,qm="http://localhost:9999",Vm="supabase.auth.token",Wm={"X-Client-Info":`gotrue-js/${Uu}`},yo="X-Supabase-Api-Version",Bu={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Km=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zm=6e5;class na extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Gm extends na{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function Ym(e){return me(e)&&e.name==="AuthApiError"}class Hu extends na{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Es extends na{constructor(t,s,n,r){super(t,n,r),this.name=s,this.status=n}}class fs extends Es{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jm(e){return me(e)&&e.name==="AuthSessionMissingError"}class br extends Es{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _r extends Es{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wr extends Es{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qm(e){return me(e)&&e.name==="AuthImplicitGrantRedirectError"}class fl extends Es{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bo extends Es{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Fi(e){return me(e)&&e.name==="AuthRetryableFetchError"}class hl extends Es{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class Un extends Es{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pl=` 	
\r=`.split(""),Zm=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<pl.length;t+=1)e[pl[t].charCodeAt(0)]=-2;for(let t=0;t<Vr.length;t+=1)e[Vr[t].charCodeAt(0)]=t;return e})();function ml(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(Vr[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(Vr[n]),t.queuedBits-=6}}function qu(e,t,s){const n=Zm[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function gl(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{tg(o,n,s)};for(let o=0;o<e.length;o+=1)qu(e.charCodeAt(o),r,i);return t.join("")}function Xm(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function eg(e,t){for(let s=0;s<e.length;s+=1){let n=e.charCodeAt(s);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(e.charCodeAt(s+1)-56320&65535|r)+65536,s+=1}Xm(n,t)}}function tg(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function sg(e){const t=[],s={queue:0,queuedBits:0},n=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)qu(e.charCodeAt(r),s,n);return new Uint8Array(t)}function ng(e){const t=[];return eg(e,s=>t.push(s)),new Uint8Array(t)}function rg(e){const t=[],s={queue:0,queuedBits:0},n=r=>{t.push(r)};return e.forEach(r=>ml(r,s,n)),ml(null,s,n),t.join("")}function ig(e){return Math.round(Date.now()/1e3)+e}function og(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Et=()=>typeof window<"u"&&typeof document<"u",Ps={tested:!1,writable:!1},Bn=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ps.tested)return Ps.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ps.tested=!0,Ps.writable=!0}catch{Ps.tested=!0,Ps.writable=!1}return Ps.writable};function ag(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{t[r]=n}),t}const Vu=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>lr(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},lg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Wu=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},xr=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},kr=async(e,t)=>{await e.removeItem(t)};class gi{constructor(){this.promise=new gi.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}gi.promiseConstructor=Promise;function Ni(e){const t=e.split(".");if(t.length!==3)throw new Un("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Km.test(t[n]))throw new Un("JWT not in base64url format");return{header:JSON.parse(gl(t[0])),payload:JSON.parse(gl(t[1])),signature:sg(t[2]),raw:{header:t[0],payload:t[1]}}}async function cg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ug(e,t){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){r(o);return}}})()})}function dg(e){return("0"+e.toString(16)).substr(-2)}function fg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(t),Array.from(t,dg).join("")}async function hg(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function pg(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await hg(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zs(e,t,s=!1){const n=fg();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await Wu(e,`${t}-code-verifier`,r);const i=await pg(n);return[i,n===i?"plain":"s256"]}const mg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gg(e){const t=e.headers.get(yo);if(!t||!t.match(mg))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vg(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yg(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gs(e){if(!bg.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var _g=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const Ms=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wg=[502,503,504];async function vl(e){var t;if(!lg(e))throw new bo(Ms(e),0);if(wg.includes(e.status))throw new bo(Ms(e),e.status);let s;try{s=await e.json()}catch(i){throw new Hu(Ms(i),i)}let n;const r=gg(e);if(r&&r.getTime()>=Bu["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new hl(Ms(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new fs}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new hl(Ms(s),e.status,s.weak_password.reasons);throw new Gm(Ms(s),e.status||500,n)}const xg=(e,t,s,n)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function be(e,t,s,n){var r;const i=Object.assign({},n==null?void 0:n.headers);i[yo]||(i[yo]=Bu["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await kg(e,t,s+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function kg(e,t,s,n,r,i){const o=xg(t,n,r,i);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new bo(Ms(l),0)}if(a.ok||await vl(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await vl(l)}}function Gt(e){var t;let s=null;Tg(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=ig(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function yl(e){const t=Gt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Sg(e){return{data:e,error:null}}function $g(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=e,o=_g(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Eg(e){return e}function Tg(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ui=["global","local","others"];var Cg=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};class Og{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=Vu(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=Ui[0]){if(Ui.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ui.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:bs})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=Cg(t,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:$g,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(me(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bs})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,r,i,o,a,l;try{const d={nextPage:null,lastPage:0,total:0},u=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Eg});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(b.split(";")[1].split("=")[1]);d[`${g}Page`]=v}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(me(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Gs(t);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bs})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Gs(t);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:bs})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){Gs(t);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:bs})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Gs(t.userId);try{const{data:s,error:n}=await be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(me(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Gs(t.userId),Gs(t.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}}}const Ag={getItem:e=>Bn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Bn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Bn()&&globalThis.localStorage.removeItem(e)}};function bl(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function Pg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ys={debug:!!(globalThis&&Bn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ku extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Rg extends Ku{}async function Dg(e,t,s){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await s()}finally{Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Rg(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ys.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Pg();const Mg={url:qm,storageKey:Vm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _l(e,t,s){return await s()}class er{constructor(t){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=er.nextInstanceID,er.nextInstanceID+=1,this.instanceID>0&&Et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Mg),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Og({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Vu(r.fetch),this.lock=r.lock||_l,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Et()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Dg:this.lock=_l,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Bn()?this.storage=Ag:(this.memoryStorage={},this.storage=bl(this.memoryStorage)):(this.memoryStorage={},this.storage=bl(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Uu}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=ag(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),Et()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Qm(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return me(s)?{error:s}:{error:new Hu("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,r;try{const i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:Gt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,n,r;try{let i;if("email"in t){const{email:u,password:f,options:h}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await zs(this.storage,this.storageKey)),i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:b},xform:Gt})}else if("phone"in t){const{phone:u,password:f,options:h}=t;i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(r=h==null?void 0:h.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gt})}else throw new _r("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:a}=t;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:yl})}else if("phone"in t){const{phone:i,password:o,options:a}=t;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:yl})}else throw new _r("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new br}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,n,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,n,r,i,o,a,l,d,u,f,h,p;let b,v;if("message"in t)b=t.message,v=t.signature;else{const{chain:g,wallet:E,statement:x,options:T}=t;let D;if(Et())if(typeof E=="object")D=E;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))D=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=E}const J=new URL((s=T==null?void 0:T.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in D&&D.signIn){const M=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),x?{statement:x}:null));let S;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")S=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)S=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)b=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${J.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(r=(n=T==null?void 0:T.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=T==null?void 0:T.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((o=T==null?void 0:T.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((a=T==null?void 0:T.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((l=T==null?void 0:T.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((d=T==null?void 0:T.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((f=(u=T==null?void 0:T.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...T.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const M=await D.signMessage(new TextEncoder().encode(b),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=M}}try{const{data:g,error:E}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:rg(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Gt});if(E)throw E;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new br}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:E})}catch(g){if(me(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const s=await xr(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:o}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Gt});if(await kr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new br}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(me(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=t,a=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Gt}),{data:l,error:d}=a;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new br}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,n,r,i,o;try{if("email"in t){const{email:a,options:l}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await zs(this.storage,this.storageKey));const{error:f}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:d,error:u}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new _r("You must provide either an email or phone number.")}catch(a){if(me(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,n;try{let r,i;"options"in t&&(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Gt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,d=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var s,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await zs(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Sg})}catch(i){if(me(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new fs;const{error:r}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:r,options:i}=t,{error:o}=await be(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:r,options:i}=t,{data:o,error:a}=await be(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new _r("You must provide either an email or phone number and a type")}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await xr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Li:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,u))})}return{data:{session:t},error:null}}const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bs}):await this._useSession(async s=>{var n,r,i;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fs}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:bs})})}catch(s){if(me(s))return Jm(s)&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new fs;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await zs(this.storage,this.storageKey));const{data:d,error:u}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:bs});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new fs;const s=Date.now()/1e3;let n=s,r=!0,i=null;const{payload:o}=Ni(t.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(me(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new fs;const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Et())throw new wr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new fl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fl("No code detected.");const{data:x,error:T}=await this._exchangeCodeForSession(t.code);if(T)throw T;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:d}=t;if(!i||!a||!o||!d)throw new wr("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let h=u+f;l&&(h=parseInt(l));const p=h-u;p*1e3<=Xs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const b=h-f;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,u);const{data:v,error:g}=await this._getUser(i);if(g)throw g;const E={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(n){if(me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await xr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Ym(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=og(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await zs(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(me(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,d,u;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return Et()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(me(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(me(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await ug(async r=>(r>0&&await cg(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gt})),(r,i)=>{const o=200*Math.pow(2,r);return i&&Fi(i)&&Date.now()+o-n<Xs})}catch(n){if(this._debug(s,"error",n),me(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),Et()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await xr(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const r=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Li;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${Li}s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Fi(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new fs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new gi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new fs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),me(i)){const o={session:null,error:i};return Fi(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,s,n=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Wu(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await kr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-t)/Xs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Xs}ms, refresh threshold is ${vo} ticks`),r<=vo&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ku)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await zs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(me(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:d}=await be(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(me(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(me(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(me(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(t==null?void 0:t.factors)||[],r=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,n;const{data:{session:r},error:i}=t;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ni(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,s={keys:[]}){let n=s.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+zm>Date.now()))return n;const{data:r,error:i}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||r.keys.length===0)throw new Un("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),n=r.keys.find(o=>o.kid===t),!n)throw new Un("No matching signing key found in JWKS");return n}async getClaims(t,s={keys:[]}){try{let n=t;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return{data:null,error:b};n=p.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:l}}=Ni(n);if(vg(i.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:r,signature:o},error:null}}const d=yg(r.alg),u=await this.fetchJwk(r.kid,s),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,ng(`${a}.${l}`)))throw new Un("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}}er.nextInstanceID=0;const jg=er;class Ig extends jg{constructor(t){super(t)}}var Lg=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function l(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):r(u.value).then(a,l)}d((n=n.apply(e,t||[])).next())})};class Fg{constructor(t,s,n){var r,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Bm(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const d=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Dm,realtime:jm,auth:Object.assign(Object.assign({},Mm),{storageKey:d}),global:Rm},f=Hm(n??{},u);this.storageKey=(r=f.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Nm(s,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new sm(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Pp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Om(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},n={}){return this.rest.rpc(t,s,n)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return Lg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,lock:a,debug:l},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ig({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:r,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new mm(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,s,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ng=(e,t,s)=>new Fg(e,t,s),Ug="https://wjtynzmzevgazgyfwayw.supabase.co",Bg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndqdHluem16ZXZnYXpneWZ3YXl3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAwOTM0NjgsImV4cCI6MjA2NTY2OTQ2OH0.OtOqBMvk_BES8hp4jzdpIYCyCbUWWRtHPFknuH2gjEM",de=Ng(Ug,Bg);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const en=typeof document<"u";function zu(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Hg(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&zu(e.default)}const Se=Object.assign;function Bi(e,t){const s={};for(const n in t){const r=t[n];s[n]=Rt(r)?r.map(e):e(r)}return s}const Hn=()=>{},Rt=Array.isArray,Gu=/#/g,qg=/&/g,Vg=/\//g,Wg=/=/g,Kg=/\?/g,Yu=/\+/g,zg=/%5B/g,Gg=/%5D/g,Ju=/%5E/g,Yg=/%60/g,Qu=/%7B/g,Jg=/%7C/g,Zu=/%7D/g,Qg=/%20/g;function ra(e){return encodeURI(""+e).replace(Jg,"|").replace(zg,"[").replace(Gg,"]")}function Zg(e){return ra(e).replace(Qu,"{").replace(Zu,"}").replace(Ju,"^")}function _o(e){return ra(e).replace(Yu,"%2B").replace(Qg,"+").replace(Gu,"%23").replace(qg,"%26").replace(Yg,"`").replace(Qu,"{").replace(Zu,"}").replace(Ju,"^")}function Xg(e){return _o(e).replace(Wg,"%3D")}function ev(e){return ra(e).replace(Gu,"%23").replace(Kg,"%3F")}function tv(e){return e==null?"":ev(e).replace(Vg,"%2F")}function tr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const sv=/\/$/,nv=e=>e.replace(sv,"");function Hi(e,t,s="/"){let n,r={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),r=e(i)),a>-1&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=av(n??t,s),{fullPath:n+(i&&"?")+i+o,path:n,query:r,hash:tr(o)}}function rv(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function wl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function iv(e,t,s){const n=t.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&fn(t.matched[n],s.matched[r])&&Xu(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function fn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Xu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!ov(e[s],t[s]))return!1;return!0}function ov(e,t){return Rt(e)?xl(e,t):Rt(t)?xl(t,e):e===t}function xl(e,t){return Rt(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function av(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const cs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var sr;(function(e){e.pop="pop",e.push="push"})(sr||(sr={}));var qn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(qn||(qn={}));function lv(e){if(!e)if(en){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),nv(e)}const cv=/^[^#]+#/;function uv(e,t){return e.replace(cv,"#")+t}function dv(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const vi=()=>({left:window.scrollX,top:window.scrollY});function fv(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=dv(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function kl(e,t){return(history.state?history.state.position-t:-1)+e}const wo=new Map;function hv(e,t){wo.set(e,t)}function pv(e){const t=wo.get(e);return wo.delete(e),t}let mv=()=>location.protocol+"//"+location.host;function ed(e,t){const{pathname:s,search:n,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),wl(l,"")}return wl(s,e)+n+r}function gv(e,t,s,n){let r=[],i=[],o=null;const a=({state:h})=>{const p=ed(e,location),b=s.value,v=t.value;let g=0;if(h){if(s.value=p,t.value=h,o&&o===b){o=null;return}g=v?h.position-v.position:0}else n(p);r.forEach(E=>{E(s.value,b,{delta:g,type:sr.pop,direction:g?g>0?qn.forward:qn.back:qn.unknown})})};function l(){o=s.value}function d(h){r.push(h);const p=()=>{const b=r.indexOf(h);b>-1&&r.splice(b,1)};return i.push(p),p}function u(){const{history:h}=window;h.state&&h.replaceState(Se({},h.state,{scroll:vi()}),"")}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:d,destroy:f}}function Sl(e,t,s,n=!1,r=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:r?vi():null}}function vv(e){const{history:t,location:s}=window,n={value:ed(e,s)},r={value:t.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,d,u){const f=e.indexOf("#"),h=f>-1?(s.host&&document.querySelector("base")?e:e.slice(f))+l:mv()+e+l;try{t[u?"replaceState":"pushState"](d,"",h),r.value=d}catch(p){console.error(p),s[u?"replace":"assign"](h)}}function o(l,d){const u=Se({},t.state,Sl(r.value.back,l,r.value.forward,!0),d,{position:r.value.position});i(l,u,!0),n.value=l}function a(l,d){const u=Se({},r.value,t.state,{forward:l,scroll:vi()});i(u.current,u,!0);const f=Se({},Sl(n.value,l,null),{position:u.position+1},d);i(l,f,!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function yv(e){e=lv(e);const t=vv(e),s=gv(e,t.state,t.location,t.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=Se({location:"",base:e,go:n,createHref:uv.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function bv(e){return typeof e=="string"||e&&typeof e=="object"}function td(e){return typeof e=="string"||typeof e=="symbol"}const sd=Symbol("");var $l;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})($l||($l={}));function hn(e,t){return Se(new Error,{type:e,[sd]:!0},t)}function zt(e,t){return e instanceof Error&&sd in e&&(t==null||!!(e.type&t))}const El="[^/]+?",_v={sensitive:!1,strict:!1,start:!0,end:!0},wv=/[.+*?^${}()[\]/\\]/g;function xv(e,t){const s=Se({},_v,t),n=[];let r=s.start?"^":"";const i=[];for(const d of e){const u=d.length?[]:[90];s.strict&&!d.length&&(r+="/");for(let f=0;f<d.length;f++){const h=d[f];let p=40+(s.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(wv,"\\$&"),p+=40;else if(h.type===1){const{value:b,repeatable:v,optional:g,regexp:E}=h;i.push({name:b,repeatable:v,optional:g});const x=E||El;if(x!==El){p+=10;try{new RegExp(`(${x})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${b}" (${x}): `+D.message)}}let T=v?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;f||(T=g&&d.length<2?`(?:/${T})`:"/"+T),g&&(T+="?"),r+=T,p+=20,g&&(p+=-8),v&&(p+=-20),x===".*"&&(p+=-50)}u.push(p)}n.push(u)}if(s.strict&&s.end){const d=n.length-1;n[d][n[d].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(d){const u=d.match(o),f={};if(!u)return null;for(let h=1;h<u.length;h++){const p=u[h]||"",b=i[h-1];f[b.name]=p&&b.repeatable?p.split("/"):p}return f}function l(d){let u="",f=!1;for(const h of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const p of h)if(p.type===0)u+=p.value;else if(p.type===1){const{value:b,repeatable:v,optional:g}=p,E=b in d?d[b]:"";if(Rt(E)&&!v)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const x=Rt(E)?E.join("/"):E;if(!x)if(g)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${b}"`);u+=x}}return u||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function kv(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function nd(e,t){let s=0;const n=e.score,r=t.score;for(;s<n.length&&s<r.length;){const i=kv(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(Tl(n))return 1;if(Tl(r))return-1}return r.length-n.length}function Tl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Sv={type:0,value:""},$v=/[a-zA-Z0-9_]/;function Ev(e){if(!e)return[[]];if(e==="/")return[[Sv]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${s})/"${d}": ${p}`)}let s=0,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,d="",u="";function f(){d&&(s===0?i.push({type:0,value:d}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),d="")}function h(){d+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(d&&f(),o()):l===":"?(f(),s=1):h();break;case 4:h(),s=n;break;case 1:l==="("?s=2:$v.test(l)?h():(f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=3:u+=l;break;case 3:f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${d}"`),f(),o(),r}function Tv(e,t,s){const n=xv(Ev(e.path),s),r=Se(n,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Cv(e,t){const s=[],n=new Map;t=Pl({strict:!1,end:!0,sensitive:!1},t);function r(f){return n.get(f)}function i(f,h,p){const b=!p,v=Ol(f);v.aliasOf=p&&p.record;const g=Pl(t,f),E=[v];if("alias"in f){const D=typeof f.alias=="string"?[f.alias]:f.alias;for(const J of D)E.push(Ol(Se({},v,{components:p?p.record.components:v.components,path:J,aliasOf:p?p.record:v})))}let x,T;for(const D of E){const{path:J}=D;if(h&&J[0]!=="/"){const M=h.record.path,S=M[M.length-1]==="/"?"":"/";D.path=h.record.path+(J&&S+J)}if(x=Tv(D,h,g),p?p.alias.push(x):(T=T||x,T!==x&&T.alias.push(x),b&&f.name&&!Al(x)&&o(f.name)),rd(x)&&l(x),v.children){const M=v.children;for(let S=0;S<M.length;S++)i(M[S],x,p&&p.children[S])}p=p||x}return T?()=>{o(T)}:Hn}function o(f){if(td(f)){const h=n.get(f);h&&(n.delete(f),s.splice(s.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=s.indexOf(f);h>-1&&(s.splice(h,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return s}function l(f){const h=Pv(f,s);s.splice(h,0,f),f.record.name&&!Al(f)&&n.set(f.record.name,f)}function d(f,h){let p,b={},v,g;if("name"in f&&f.name){if(p=n.get(f.name),!p)throw hn(1,{location:f});g=p.record.name,b=Se(Cl(h.params,p.keys.filter(T=>!T.optional).concat(p.parent?p.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),f.params&&Cl(f.params,p.keys.map(T=>T.name))),v=p.stringify(b)}else if(f.path!=null)v=f.path,p=s.find(T=>T.re.test(v)),p&&(b=p.parse(v),g=p.record.name);else{if(p=h.name?n.get(h.name):s.find(T=>T.re.test(h.path)),!p)throw hn(1,{location:f,currentLocation:h});g=p.record.name,b=Se({},h.params,f.params),v=p.stringify(b)}const E=[];let x=p;for(;x;)E.unshift(x.record),x=x.parent;return{name:g,path:v,params:b,matched:E,meta:Av(E)}}e.forEach(f=>i(f));function u(){s.length=0,n.clear()}return{addRoute:i,resolve:d,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function Cl(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function Ol(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Ov(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Ov(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function Al(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Av(e){return e.reduce((t,s)=>Se(t,s.meta),{})}function Pl(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function Pv(e,t){let s=0,n=t.length;for(;s!==n;){const i=s+n>>1;nd(e,t[i])<0?n=i:s=i+1}const r=Rv(e);return r&&(n=t.lastIndexOf(r,n-1)),n}function Rv(e){let t=e;for(;t=t.parent;)if(rd(t)&&nd(e,t)===0)return t}function rd({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Dv(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(Yu," "),o=i.indexOf("="),a=tr(o<0?i:i.slice(0,o)),l=o<0?null:tr(i.slice(o+1));if(a in t){let d=t[a];Rt(d)||(d=t[a]=[d]),d.push(l)}else t[a]=l}return t}function Rl(e){let t="";for(let s in e){const n=e[s];if(s=Xg(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(Rt(n)?n.map(i=>i&&_o(i)):[n&&_o(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function Mv(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=Rt(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return t}const jv=Symbol(""),Dl=Symbol(""),yi=Symbol(""),ia=Symbol(""),xo=Symbol("");function xn(){let e=[];function t(n){return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function vs(e,t,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const d=h=>{h===!1?l(hn(4,{from:s,to:t})):h instanceof Error?l(h):bv(h)?l(hn(2,{from:t,to:h})):(o&&n.enterCallbacks[r]===o&&typeof h=="function"&&o.push(h),a())},u=i(()=>e.call(n&&n.instances[r],t,s,d));let f=Promise.resolve(u);e.length<3&&(f=f.then(d)),f.catch(h=>l(h))})}function qi(e,t,s,n,r=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(zu(l)){const u=(l.__vccOpts||l)[t];u&&i.push(vs(u,s,n,o,a,r))}else{let d=l();i.push(()=>d.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=Hg(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const p=(f.__vccOpts||f)[t];return p&&vs(p,s,n,o,a,r)()}))}}return i}function Ml(e){const t=Ue(yi),s=Ue(ia),n=K(()=>{const l=B(e.to);return t.resolve(l)}),r=K(()=>{const{matched:l}=n.value,{length:d}=l,u=l[d-1],f=s.matched;if(!u||!f.length)return-1;const h=f.findIndex(fn.bind(null,u));if(h>-1)return h;const p=jl(l[d-2]);return d>1&&jl(u)===p&&f[f.length-1].path!==p?f.findIndex(fn.bind(null,l[d-2])):h}),i=K(()=>r.value>-1&&Uv(s.params,n.value.params)),o=K(()=>r.value>-1&&r.value===s.matched.length-1&&Xu(s.params,n.value.params));function a(l={}){if(Nv(l)){const d=t[B(e.replace)?"replace":"push"](B(e.to)).catch(Hn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:n,href:K(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function Iv(e){return e.length===1?e[0]:e}const Lv=ke({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ml,setup(e,{slots:t}){const s=et(Ml(e)),{options:n}=Ue(yi),r=K(()=>({[Il(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Il(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&Iv(t.default(s));return e.custom?i:Ge("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),Fv=Lv;function Nv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Uv(e,t){for(const s in t){const n=t[s],r=e[s];if(typeof n=="string"){if(n!==r)return!1}else if(!Rt(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function jl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Il=(e,t,s)=>e??t??s,Bv=ke({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=Ue(xo),r=K(()=>e.route||n.value),i=Ue(Dl,0),o=K(()=>{let d=B(i);const{matched:u}=r.value;let f;for(;(f=u[d])&&!f.components;)d++;return d}),a=K(()=>r.value.matched[o.value]);ct(Dl,K(()=>o.value+1)),ct(jv,a),ct(xo,r);const l=U();return Vt(()=>[l.value,a.value,e.name],([d,u,f],[h,p,b])=>{u&&(u.instances[f]=d,p&&p!==u&&d&&d===h&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),d&&u&&(!p||!fn(u,p)||!h)&&(u.enterCallbacks[f]||[]).forEach(v=>v(d))},{flush:"post"}),()=>{const d=r.value,u=e.name,f=a.value,h=f&&f.components[u];if(!h)return Ll(s.default,{Component:h,route:d});const p=f.props[u],b=p?p===!0?d.params:typeof p=="function"?p(d):p:null,g=Ge(h,Se({},b,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Ll(s.default,{Component:g,route:d})||g}}});function Ll(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Hv=Bv;function qv(e){const t=Cv(e.routes,e),s=e.parseQuery||Dv,n=e.stringifyQuery||Rl,r=e.history,i=xn(),o=xn(),a=xn(),l=Sc(cs);let d=cs;en&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Bi.bind(null,I=>""+I),f=Bi.bind(null,tv),h=Bi.bind(null,tr);function p(I,se){let X,ie;return td(I)?(X=t.getRecordMatcher(I),ie=se):ie=I,t.addRoute(ie,X)}function b(I){const se=t.getRecordMatcher(I);se&&t.removeRoute(se)}function v(){return t.getRoutes().map(I=>I.record)}function g(I){return!!t.getRecordMatcher(I)}function E(I,se){if(se=Se({},se||l.value),typeof I=="string"){const k=Hi(s,I,se.path),j=t.resolve({path:k.path},se),N=r.createHref(k.fullPath);return Se(k,j,{params:h(j.params),hash:tr(k.hash),redirectedFrom:void 0,href:N})}let X;if(I.path!=null)X=Se({},I,{path:Hi(s,I.path,se.path).path});else{const k=Se({},I.params);for(const j in k)k[j]==null&&delete k[j];X=Se({},I,{params:f(k)}),se.params=f(se.params)}const ie=t.resolve(X,se),Ae=I.hash||"";ie.params=u(h(ie.params));const y=rv(n,Se({},I,{hash:Zg(Ae),path:ie.path})),_=r.createHref(y);return Se({fullPath:y,hash:Ae,query:n===Rl?Mv(I.query):I.query||{}},ie,{redirectedFrom:void 0,href:_})}function x(I){return typeof I=="string"?Hi(s,I,l.value.path):Se({},I)}function T(I,se){if(d!==I)return hn(8,{from:se,to:I})}function D(I){return S(I)}function J(I){return D(Se(x(I),{replace:!0}))}function M(I){const se=I.matched[I.matched.length-1];if(se&&se.redirect){const{redirect:X}=se;let ie=typeof X=="function"?X(I):X;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=x(ie):{path:ie},ie.params={}),Se({query:I.query,hash:I.hash,params:ie.path!=null?{}:I.params},ie)}}function S(I,se){const X=d=E(I),ie=l.value,Ae=I.state,y=I.force,_=I.replace===!0,k=M(X);if(k)return S(Se(x(k),{state:typeof k=="object"?Se({},Ae,k.state):Ae,force:y,replace:_}),se||X);const j=X;j.redirectedFrom=se;let N;return!y&&iv(n,ie,X)&&(N=hn(16,{to:j,from:ie}),V(ie,ie,!0,!1)),(N?Promise.resolve(N):z(j,ie)).catch(L=>zt(L)?zt(L,2)?L:Oe(L):Q(L,j,ie)).then(L=>{if(L){if(zt(L,2))return S(Se({replace:_},x(L.to),{state:typeof L.to=="object"?Se({},Ae,L.to.state):Ae,force:y}),se||j)}else L=$(j,ie,!0,_,Ae);return te(j,ie,L),L})}function F(I,se){const X=T(I,se);return X?Promise.reject(X):Promise.resolve()}function R(I){const se=qe.values().next().value;return se&&typeof se.runWithContext=="function"?se.runWithContext(I):I()}function z(I,se){let X;const[ie,Ae,y]=Vv(I,se);X=qi(ie.reverse(),"beforeRouteLeave",I,se);for(const k of ie)k.leaveGuards.forEach(j=>{X.push(vs(j,I,se))});const _=F.bind(null,I,se);return X.push(_),Je(X).then(()=>{X=[];for(const k of i.list())X.push(vs(k,I,se));return X.push(_),Je(X)}).then(()=>{X=qi(Ae,"beforeRouteUpdate",I,se);for(const k of Ae)k.updateGuards.forEach(j=>{X.push(vs(j,I,se))});return X.push(_),Je(X)}).then(()=>{X=[];for(const k of y)if(k.beforeEnter)if(Rt(k.beforeEnter))for(const j of k.beforeEnter)X.push(vs(j,I,se));else X.push(vs(k.beforeEnter,I,se));return X.push(_),Je(X)}).then(()=>(I.matched.forEach(k=>k.enterCallbacks={}),X=qi(y,"beforeRouteEnter",I,se,R),X.push(_),Je(X))).then(()=>{X=[];for(const k of o.list())X.push(vs(k,I,se));return X.push(_),Je(X)}).catch(k=>zt(k,8)?k:Promise.reject(k))}function te(I,se,X){a.list().forEach(ie=>R(()=>ie(I,se,X)))}function $(I,se,X,ie,Ae){const y=T(I,se);if(y)return y;const _=se===cs,k=en?history.state:{};X&&(ie||_?r.replace(I.fullPath,Se({scroll:_&&k&&k.scroll},Ae)):r.push(I.fullPath,Ae)),l.value=I,V(I,se,X,_),Oe()}let m;function w(){m||(m=r.listen((I,se,X)=>{if(!$t.listening)return;const ie=E(I),Ae=M(ie);if(Ae){S(Se(Ae,{replace:!0,force:!0}),ie).catch(Hn);return}d=ie;const y=l.value;en&&hv(kl(y.fullPath,X.delta),vi()),z(ie,y).catch(_=>zt(_,12)?_:zt(_,2)?(S(Se(x(_.to),{force:!0}),ie).then(k=>{zt(k,20)&&!X.delta&&X.type===sr.pop&&r.go(-1,!1)}).catch(Hn),Promise.reject()):(X.delta&&r.go(-X.delta,!1),Q(_,ie,y))).then(_=>{_=_||$(ie,y,!1),_&&(X.delta&&!zt(_,8)?r.go(-X.delta,!1):X.type===sr.pop&&zt(_,20)&&r.go(-1,!1)),te(ie,y,_)}).catch(Hn)}))}let A=xn(),ne=xn(),re;function Q(I,se,X){Oe(I);const ie=ne.list();return ie.length?ie.forEach(Ae=>Ae(I,se,X)):console.error(I),Promise.reject(I)}function W(){return re&&l.value!==cs?Promise.resolve():new Promise((I,se)=>{A.add([I,se])})}function Oe(I){return re||(re=!I,w(),A.list().forEach(([se,X])=>I?X(I):se()),A.reset()),I}function V(I,se,X,ie){const{scrollBehavior:Ae}=e;if(!en||!Ae)return Promise.resolve();const y=!X&&pv(kl(I.fullPath,0))||(ie||!X)&&history.state&&history.state.scroll||null;return Ot().then(()=>Ae(I,se,y)).then(_=>_&&fv(_)).catch(_=>Q(_,I,se))}const pe=I=>r.go(I);let He;const qe=new Set,$t={currentRoute:l,listening:!0,addRoute:p,removeRoute:b,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:v,resolve:E,options:e,push:D,replace:J,go:pe,back:()=>pe(-1),forward:()=>pe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ne.add,isReady:W,install(I){const se=this;I.component("RouterLink",Fv),I.component("RouterView",Hv),I.config.globalProperties.$router=se,Object.defineProperty(I.config.globalProperties,"$route",{enumerable:!0,get:()=>B(l)}),en&&!He&&l.value===cs&&(He=!0,D(r.location).catch(Ae=>{}));const X={};for(const Ae in cs)Object.defineProperty(X,Ae,{get:()=>l.value[Ae],enumerable:!0});I.provide(yi,se),I.provide(ia,xc(X)),I.provide(xo,l);const ie=I.unmount;qe.add(I),I.unmount=function(){qe.delete(I),qe.size<1&&(d=cs,m&&m(),m=null,l.value=cs,He=!1,re=!1),ie()}}};function Je(I){return I.reduce((se,X)=>se.then(()=>R(X)),Promise.resolve())}return $t}function Vv(e,t){const s=[],n=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(d=>fn(d,a))?n.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(d=>fn(d,l))||r.push(l))}return[s,n,r]}function Wv(){return Ue(yi)}function Kv(e){return Ue(ia)}const Sr=et([]);function as(){const e=s=>{const n=Date.now().toString(),r={id:n,duration:5e3,...s};Sr.push(r),r.duration&&r.duration>0&&setTimeout(()=>{t(n)},r.duration)},t=s=>{const n=Sr.findIndex(r=>r.id===s);n>-1&&Sr.splice(n,1)};return{toasts:Sr,addToast:e,removeToast:t}}const Js=U(null),kn=U(!1);function oa(){const e=Wv(),{addToast:t}=as(),s=K(()=>!!Js.value);return{user:Js,loading:kn,isAuthenticated:s,signIn:async(o,a)=>{kn.value=!0;try{const{data:l,error:d}=await de.auth.signInWithPassword({email:o,password:a});if(d)throw d;Js.value=l.user,t({type:"success",title:"Welcome back!",message:"You have been successfully logged in."}),e.push("/")}catch(l){t({type:"error",title:"Login Failed",message:l.message||"Invalid email or password"})}finally{kn.value=!1}},signOut:async()=>{kn.value=!0;try{const{error:o}=await de.auth.signOut();if(o)throw o;Js.value=null,t({type:"success",title:"Logged out",message:"You have been successfully logged out."}),e.push("/login")}catch(o){t({type:"error",title:"Logout Failed",message:o.message})}finally{kn.value=!1}},initializeAuth:async()=>{const{data:{session:o}}=await de.auth.getSession();Js.value=(o==null?void 0:o.user)||null,de.auth.onAuthStateChange((a,l)=>{Js.value=(l==null?void 0:l.user)||null})}}}function zv(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})])}function Wr(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"})])}function Kr(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function Gv(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function bi(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function _i(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function Yv(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function nr(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function id(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function od(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function ad(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"})])}function Jv(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})])}function Qv(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function Zv(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function ld(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function ts(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function ko(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})])}function Xv(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function aa(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}function cd(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"})])}function la(e,t){return C(),O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const e0={class:"bg-white w-64 min-h-screen shadow-lg border-r border-gray-200"},t0={class:"px-4 pb-4"},s0={class:"space-y-2"},n0={class:"absolute bottom-0 left-0 right-0 p-4 bg-gray-50 border-t border-gray-200"},r0={class:"flex items-center justify-between"},i0={class:"flex items-center space-x-3"},o0={class:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center"},a0=ke({__name:"Sidebar",setup(e){const t=Kv(),{signOut:s}=oa(),n=[{name:"Dashboard",to:"/",icon:Zv},{name:"Appointments",to:"/appointments",icon:Wr},{name:"Clients",to:"/clients",icon:ko},{name:"Services",to:"/services",icon:cd},{name:"Barbers",to:"/barbers",icon:aa},{name:"Expenses",to:"/expenses",icon:nr},{name:"Daily Collections",to:"/daily-collections",icon:id},{name:"Reports",to:"/reports",icon:Kr}],r=o=>t.path===o,i=()=>{s()};return(o,a)=>{const l=zo("router-link");return C(),O("div",e0,[a[1]||(a[1]=Ah('<div class="p-6"><div class="flex items-center space-x-3"><div class="w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center"><span class="text-white font-bold text-lg">VS</span></div><div><h1 class="text-xl font-bold text-gray-900">VASA SALOON</h1><p class="text-sm text-gray-500">Management System</p></div></div></div>',1)),c("nav",t0,[c("ul",s0,[(C(),O(oe,null,ge(n,d=>c("li",{key:d.name},[H(l,{to:d.to,class:Ce(["flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors","hover:bg-gray-100",r(d.to)?"bg-primary-50 text-primary-700 border-r-2 border-primary-600":"text-gray-700"])},{default:_e(()=>[(C(),Xt(Qf(d.icon),{class:"w-5 h-5"})),c("span",null,P(d.name),1)]),_:2},1032,["to","class"])])),64))])]),c("div",n0,[c("div",r0,[c("div",i0,[c("div",o0,[H(B(Xv),{class:"w-5 h-5 text-gray-600"})]),a[0]||(a[0]=c("div",null,[c("p",{class:"text-sm font-medium text-gray-900"},"Admin"),c("p",{class:"text-xs text-gray-500"},"Administrator")],-1))]),c("button",{onClick:i,class:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-200 transition-colors",title:"Sign Out"},[H(B(zv),{class:"w-5 h-5"})])])])])}}}),l0={class:"fixed top-4 right-4 z-50 space-y-2"},c0={class:"flex-1 min-w-0"},u0={class:"text-sm font-medium text-gray-900"},d0={key:0,class:"mt-1 text-sm text-gray-500"},f0=["onClick"],h0=ke({__name:"Toast",setup(e){const{toasts:t,removeToast:s}=as(),n={success:"border-success-500",error:"border-error-500",warning:"border-warning-500",info:"border-primary-500"},r={success:"text-success-500",error:"text-error-500",warning:"text-warning-500",info:"text-primary-500"};return(i,o)=>(C(),O("div",l0,[H(dp,{name:"toast",tag:"div"},{default:_e(()=>[(C(!0),O(oe,null,ge(B(t),a=>(C(),O("div",{key:a.id,class:Ce(["flex items-start space-x-3 p-4 rounded-lg shadow-lg max-w-sm","bg-white border-l-4",n[a.type]])},[c("div",{class:Ce(["flex-shrink-0 w-5 h-5",r[a.type]])},[a.type==="success"?(C(),Xt(B(Gv),{key:0})):a.type==="error"?(C(),Xt(B(Jv),{key:1})):a.type==="warning"?(C(),Xt(B(Qv),{key:2})):(C(),Xt(B(ld),{key:3}))],2),c("div",c0,[c("p",u0,P(a.title),1),a.message?(C(),O("p",d0,P(a.message),1)):Re("",!0)]),c("button",{onClick:l=>B(s)(a.id),class:"flex-shrink-0 ml-4 text-gray-400 hover:text-gray-600"},[H(B(la),{class:"w-5 h-5"})],8,f0)],2))),128))]),_:1})]))}}),p0=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},m0=p0(h0,[["__scopeId","data-v-c721752e"]]),g0={id:"app"},v0={key:0,class:"min-h-screen"},y0={key:1,class:"flex min-h-screen bg-gray-50"},b0={class:"flex-1 overflow-auto"},_0={class:"p-6"},w0=ke({__name:"App",setup(e){const{isAuthenticated:t,initializeAuth:s}=oa();return Fe(()=>{s()}),(n,r)=>{const i=zo("router-view");return C(),O("div",g0,[B(t)?(C(),O("div",y0,[H(a0),c("main",b0,[c("div",_0,[H(i)])])])):(C(),O("div",v0,[H(i)])),H(m0)])}}}),x0={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},k0={class:"max-w-md w-full space-y-8"},S0={class:"space-y-4"},$0=["disabled"],E0={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},T0=ke({__name:"Login",setup(e){const{signIn:t,loading:s}=oa(),n=et({email:"",password:""}),r=async()=>{n.email&&n.password&&await t(n.email,n.password)};return(i,o)=>(C(),O("div",x0,[c("div",k0,[o[5]||(o[5]=c("div",null,[c("div",{class:"mx-auto h-20 w-20 bg-primary-600 rounded-full flex items-center justify-center"},[c("span",{class:"text-white font-bold text-3xl"},"VS")]),c("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," VASA SALOON "),c("p",{class:"mt-2 text-center text-sm text-gray-600"}," Sign in to your management account ")],-1)),c("form",{class:"mt-8 space-y-6",onSubmit:is(r,["prevent"])},[c("div",S0,[c("div",null,[o[2]||(o[2]=c("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email address ",-1)),ce(c("input",{id:"email","onUpdate:modelValue":o[0]||(o[0]=a=>n.email=a),type:"email",required:"",class:"input mt-1",placeholder:"Enter your email"},null,512),[[ye,n.email]])]),c("div",null,[o[3]||(o[3]=c("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Password ",-1)),ce(c("input",{id:"password","onUpdate:modelValue":o[1]||(o[1]=a=>n.password=a),type:"password",required:"",class:"input mt-1",placeholder:"Enter your password"},null,512),[[ye,n.password]])])]),c("div",null,[c("button",{type:"submit",disabled:B(s),class:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[B(s)?(C(),O("span",E0,o[4]||(o[4]=[c("svg",{class:"animate-spin h-5 w-5 text-primary-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):Re("",!0),De(" "+P(B(s)?"Signing in...":"Sign in"),1)],8,$0)])],32)])]))}});function Ve(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Dt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function zr(e,t){const s=Ve(e);return isNaN(t)?Dt(e,NaN):(t&&s.setDate(s.getDate()+t),s)}function ud(e,t){const s=Ve(e);if(isNaN(t))return Dt(e,NaN);if(!t)return s;const n=s.getDate(),r=Dt(e,s.getTime());r.setMonth(s.getMonth()+t+1,0);const i=r.getDate();return n>=i?r:(s.setFullYear(r.getFullYear(),r.getMonth(),n),s)}const dd=6048e5,C0=864e5,fd=6e4,hd=36e5;let O0={};function dr(){return O0}function xs(e,t){var a,l,d,u;const s=dr(),n=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,r=Ve(e),i=r.getDay(),o=(i<n?7:0)+i-n;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function Gr(e){return xs(e,{weekStartsOn:1})}function pd(e){const t=Ve(e),s=t.getFullYear(),n=Dt(e,0);n.setFullYear(s+1,0,4),n.setHours(0,0,0,0);const r=Gr(n),i=Dt(e,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);const o=Gr(i);return t.getTime()>=r.getTime()?s+1:t.getTime()>=o.getTime()?s:s-1}function Yr(e){const t=Ve(e);return t.setHours(0,0,0,0),t}function Fl(e){const t=Ve(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function A0(e,t){const s=Yr(e),n=Yr(t),r=+s-Fl(s),i=+n-Fl(n);return Math.round((r-i)/C0)}function P0(e){const t=pd(e),s=Dt(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),Gr(s)}function md(e,t){const s=t*7;return zr(e,s)}function R0(e){return Dt(e,Date.now())}function So(e,t){const s=Yr(e),n=Yr(t);return+s==+n}function D0(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function M0(e){if(!D0(e)&&typeof e!="number")return!1;const t=Ve(e);return!isNaN(Number(t))}function j0(e){const t=Ve(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function Nl(e,t){const s=Ve(e.start),n=Ve(e.end);let r=+s>+n;const i=r?+s:+n,o=r?n:s;o.setHours(0,0,0,0);let a=1;const l=[];for(;+o<=i;)l.push(Ve(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return r?l.reverse():l}function I0(e){const t=Ve(e);return t.setDate(1),t.setHours(0,0,0,0),t}function L0(e){const t=Ve(e),s=Dt(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}function Ul(e,t){var a,l;const s=dr(),n=s.weekStartsOn??((l=(a=s.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,r=Ve(e),i=r.getDay(),o=(i<n?-7:0)+6-(i-n);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}const F0={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},N0=(e,t,s)=>{let n;const r=F0[e];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function Vi(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const U0={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},B0={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},H0={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},q0={date:Vi({formats:U0,defaultWidth:"full"}),time:Vi({formats:B0,defaultWidth:"full"}),dateTime:Vi({formats:H0,defaultWidth:"full"})},V0={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},W0=(e,t,s,n)=>V0[e];function Sn(e){return(t,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let r;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=s!=null&&s.width?String(s.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=s!=null&&s.width?String(s.width):e.defaultWidth;r=e.values[a]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return r[i]}}const K0={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},z0={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},G0={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Y0={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},J0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Q0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Z0=(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},X0={ordinalNumber:Z0,era:Sn({values:K0,defaultWidth:"wide"}),quarter:Sn({values:z0,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Sn({values:G0,defaultWidth:"wide"}),day:Sn({values:Y0,defaultWidth:"wide"}),dayPeriod:Sn({values:J0,defaultWidth:"wide",formattingValues:Q0,defaultFormattingWidth:"wide"})};function $n(e){return(t,s={})=>{const n=s.width,r=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(r);if(!i)return null;const o=i[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?ty(a,f=>f.test(o)):ey(a,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(l):l,d=s.valueCallback?s.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function ey(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function ty(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function sy(e){return(t,s={})=>{const n=t.match(e.matchPattern);if(!n)return null;const r=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const a=t.slice(r.length);return{value:o,rest:a}}}const ny=/^(\d+)(th|st|nd|rd)?/i,ry=/\d+/i,iy={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oy={any:[/^b/i,/^(a|c)/i]},ay={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ly={any:[/1/i,/2/i,/3/i,/4/i]},cy={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uy={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dy={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fy={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hy={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},py={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},my={ordinalNumber:sy({matchPattern:ny,parsePattern:ry,valueCallback:e=>parseInt(e,10)}),era:$n({matchPatterns:iy,defaultMatchWidth:"wide",parsePatterns:oy,defaultParseWidth:"any"}),quarter:$n({matchPatterns:ay,defaultMatchWidth:"wide",parsePatterns:ly,defaultParseWidth:"any",valueCallback:e=>e+1}),month:$n({matchPatterns:cy,defaultMatchWidth:"wide",parsePatterns:uy,defaultParseWidth:"any"}),day:$n({matchPatterns:dy,defaultMatchWidth:"wide",parsePatterns:fy,defaultParseWidth:"any"}),dayPeriod:$n({matchPatterns:hy,defaultMatchWidth:"any",parsePatterns:py,defaultParseWidth:"any"})},gy={code:"en-US",formatDistance:N0,formatLong:q0,formatRelative:W0,localize:X0,match:my,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vy(e){const t=Ve(e);return A0(t,L0(t))+1}function yy(e){const t=Ve(e),s=+Gr(t)-+P0(t);return Math.round(s/dd)+1}function gd(e,t){var u,f,h,p;const s=Ve(e),n=s.getFullYear(),r=dr(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Dt(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const a=xs(o,t),l=Dt(e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const d=xs(l,t);return s.getTime()>=a.getTime()?n+1:s.getTime()>=d.getTime()?n:n-1}function by(e,t){var a,l,d,u;const s=dr(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,r=gd(e,t),i=Dt(e,0);return i.setFullYear(r,0,n),i.setHours(0,0,0,0),xs(i,t)}function _y(e,t){const s=Ve(e),n=+xs(s,t)-+by(s,t);return Math.round(n/dd)+1}function Te(e,t){const s=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return s+n}const us={y(e,t){const s=e.getFullYear(),n=s>0?s:1-s;return Te(t==="yy"?n%100:n,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):Te(s+1,2)},d(e,t){return Te(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return Te(e.getHours()%12||12,t.length)},H(e,t){return Te(e.getHours(),t.length)},m(e,t){return Te(e.getMinutes(),t.length)},s(e,t){return Te(e.getSeconds(),t.length)},S(e,t){const s=t.length,n=e.getMilliseconds(),r=Math.trunc(n*Math.pow(10,s-3));return Te(r,t.length)}},Qs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bl={G:function(e,t,s){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const n=e.getFullYear(),r=n>0?n:1-n;return s.ordinalNumber(r,{unit:"year"})}return us.y(e,t)},Y:function(e,t,s,n){const r=gd(e,n),i=r>0?r:1-r;if(t==="YY"){const o=i%100;return Te(o,2)}return t==="Yo"?s.ordinalNumber(i,{unit:"year"}):Te(i,t.length)},R:function(e,t){const s=pd(e);return Te(s,t.length)},u:function(e,t){const s=e.getFullYear();return Te(s,t.length)},Q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Te(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Te(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,s){const n=e.getMonth();switch(t){case"M":case"MM":return us.M(e,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,s){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Te(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,s,n){const r=_y(e,n);return t==="wo"?s.ordinalNumber(r,{unit:"week"}):Te(r,t.length)},I:function(e,t,s){const n=yy(e);return t==="Io"?s.ordinalNumber(n,{unit:"week"}):Te(n,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):us.d(e,t)},D:function(e,t,s){const n=vy(e);return t==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):Te(n,t.length)},E:function(e,t,s){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,s,n){const r=e.getDay(),i=(r-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Te(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,s,n){const r=e.getDay(),i=(r-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Te(i,t.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,s){const n=e.getDay(),r=n===0?7:n;switch(t){case"i":return String(r);case"ii":return Te(r,t.length);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,s){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,s){const n=e.getHours();let r;switch(n===12?r=Qs.noon:n===0?r=Qs.midnight:r=n/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,s){const n=e.getHours();let r;switch(n>=17?r=Qs.evening:n>=12?r=Qs.afternoon:n>=4?r=Qs.morning:r=Qs.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return us.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):us.H(e,t)},K:function(e,t,s){const n=e.getHours()%12;return t==="Ko"?s.ordinalNumber(n,{unit:"hour"}):Te(n,t.length)},k:function(e,t,s){let n=e.getHours();return n===0&&(n=24),t==="ko"?s.ordinalNumber(n,{unit:"hour"}):Te(n,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):us.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):us.s(e,t)},S:function(e,t){return us.S(e,t)},X:function(e,t,s){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return ql(n);case"XXXX":case"XX":return js(n);case"XXXXX":case"XXX":default:return js(n,":")}},x:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"x":return ql(n);case"xxxx":case"xx":return js(n);case"xxxxx":case"xxx":default:return js(n,":")}},O:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Hl(n,":");case"OOOO":default:return"GMT"+js(n,":")}},z:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Hl(n,":");case"zzzz":default:return"GMT"+js(n,":")}},t:function(e,t,s){const n=Math.trunc(e.getTime()/1e3);return Te(n,t.length)},T:function(e,t,s){const n=e.getTime();return Te(n,t.length)}};function Hl(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),r=Math.trunc(n/60),i=n%60;return i===0?s+String(r):s+String(r)+t+Te(i,2)}function ql(e,t){return e%60===0?(e>0?"-":"+")+Te(Math.abs(e)/60,2):js(e,t)}function js(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),r=Te(Math.trunc(n/60),2),i=Te(n%60,2);return s+r+t+i}const Vl=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},vd=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wy=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],n=s[1],r=s[2];if(!r)return Vl(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Vl(n,t)).replace("{{time}}",vd(r,t))},xy={p:vd,P:wy},ky=/^D+$/,Sy=/^Y+$/,$y=["D","DD","YY","YYYY"];function Ey(e){return ky.test(e)}function Ty(e){return Sy.test(e)}function Cy(e,t,s){const n=Oy(e,t,s);if(console.warn(n),$y.includes(e))throw new RangeError(n)}function Oy(e,t,s){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ay=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Py=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ry=/^'([^]*?)'?$/,Dy=/''/g,My=/[a-zA-Z]/;function Ne(e,t,s){var u,f,h,p,b,v,g,E;const n=dr(),r=(s==null?void 0:s.locale)??n.locale??gy,i=(s==null?void 0:s.firstWeekContainsDate)??((f=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(s==null?void 0:s.weekStartsOn)??((v=(b=s==null?void 0:s.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((E=(g=n.locale)==null?void 0:g.options)==null?void 0:E.weekStartsOn)??0,a=Ve(e);if(!M0(a))throw new RangeError("Invalid time value");let l=t.match(Py).map(x=>{const T=x[0];if(T==="p"||T==="P"){const D=xy[T];return D(x,r.formatLong)}return x}).join("").match(Ay).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const T=x[0];if(T==="'")return{isToken:!1,value:jy(x)};if(Bl[T])return{isToken:!0,value:x};if(T.match(My))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:x}});r.localize.preprocessor&&(l=r.localize.preprocessor(a,l));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:r};return l.map(x=>{if(!x.isToken)return x.value;const T=x.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&Ty(T)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&Ey(T))&&Cy(T,t,String(e));const D=Bl[T[0]];return D(a,T,r.localize,d)}).join("")}function jy(e){const t=e.match(Ry);return t?t[1].replace(Dy,"'"):e}function Iy(e,t){const s=Ve(e),n=Ve(t);return s.getFullYear()===n.getFullYear()&&s.getMonth()===n.getMonth()}function yd(e){return So(e,R0(e))}function Ly(e,t){return zr(e,-1)}function lt(e,t){const s=(t==null?void 0:t.additionalDigits)??2,n=By(e);let r;if(n.date){const l=Hy(n.date,s);r=qy(l.restDateString,l.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);const i=r.getTime();let o=0,a;if(n.time&&(o=Vy(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(a=Wy(n.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(i+o),d=new Date(0);return d.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),d.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),d}return new Date(i+o+a)}const $r={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Fy=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ny=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Uy=/^([+-])(\d{2})(?::?(\d{2}))?$/;function By(e){const t={},s=e.split($r.dateTimeDelimiter);let n;if(s.length>2)return t;if(/:/.test(s[0])?n=s[0]:(t.date=s[0],n=s[1],$r.timeZoneDelimiter.test(t.date)&&(t.date=e.split($r.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const r=$r.timezone.exec(n);r?(t.time=n.replace(r[1],""),t.timezone=r[1]):t.time=n}return t}function Hy(e,t){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(s);if(!n)return{year:NaN,restDateString:""};const r=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?r:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function qy(e,t){if(t===null)return new Date(NaN);const s=e.match(Fy);if(!s)return new Date(NaN);const n=!!s[4],r=En(s[1]),i=En(s[2])-1,o=En(s[3]),a=En(s[4]),l=En(s[5])-1;if(n)return Jy(t,a,l)?Ky(t,a,l):new Date(NaN);{const d=new Date(0);return!Gy(t,i,o)||!Yy(t,r)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(r,o)),d)}}function En(e){return e?parseInt(e):1}function Vy(e){const t=e.match(Ny);if(!t)return NaN;const s=Wi(t[1]),n=Wi(t[2]),r=Wi(t[3]);return Qy(s,n,r)?s*hd+n*fd+r*1e3:NaN}function Wi(e){return e&&parseFloat(e.replace(",","."))||0}function Wy(e){if(e==="Z")return 0;const t=e.match(Uy);if(!t)return 0;const s=t[1]==="+"?-1:1,n=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return Zy(n,r)?s*(n*hd+r*fd):NaN}function Ky(e,t,s){const n=new Date(0);n.setUTCFullYear(e,0,4);const r=n.getUTCDay()||7,i=(t-1)*7+s+1-r;return n.setUTCDate(n.getUTCDate()+i),n}const zy=[31,null,31,30,31,30,31,31,30,31,30,31];function bd(e){return e%400===0||e%4===0&&e%100!==0}function Gy(e,t,s){return t>=0&&t<=11&&s>=1&&s<=(zy[t]||(bd(e)?29:28))}function Yy(e,t){return t>=1&&t<=(bd(e)?366:365)}function Jy(e,t,s){return t>=1&&t<=53&&s>=0&&s<=6}function Qy(e,t,s){return e===24?t===0&&s===0:s>=0&&s<60&&t>=0&&t<60&&e>=0&&e<25}function Zy(e,t){return t>=0&&t<=59}function Xy(e,t){return ud(e,-1)}function eb(e,t){return md(e,-1)}const tb={class:"space-y-6"},sb={class:"flex items-center justify-between"},nb={class:"text-sm text-gray-500"},rb={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},ib={class:"card"},ob={class:"card-content"},ab={class:"flex items-center"},lb={class:"flex-shrink-0"},cb={class:"ml-4"},ub={class:"text-2xl font-bold text-gray-900"},db={class:"card"},fb={class:"card-content"},hb={class:"flex items-center"},pb={class:"flex-shrink-0"},mb={class:"ml-4"},gb={class:"text-2xl font-bold text-gray-900"},vb={class:"card"},yb={class:"card-content"},bb={class:"flex items-center"},_b={class:"flex-shrink-0"},wb={class:"ml-4"},xb={class:"text-2xl font-bold text-gray-900"},kb={class:"card"},Sb={class:"card-content"},$b={class:"flex items-center"},Eb={class:"flex-shrink-0"},Tb={class:"ml-4"},Cb={class:"text-2xl font-bold text-gray-900"},Ob={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Ab={class:"card"},Pb={class:"card-content"},Rb={class:"grid grid-cols-2 gap-4"},Db={class:"card"},Mb={class:"card-content"},jb={class:"space-y-3"},Ib={class:"font-medium text-gray-900"},Lb={class:"text-sm text-gray-500"},Fb={class:"text-right"},Nb={class:"text-sm font-medium text-gray-900"},Ub={key:0,class:"text-center py-4 text-gray-500"},Bb={key:1,class:"text-center"},Hb=ke({__name:"Dashboard",setup(e){const t=U([]),s=U([]),n=U([]),r=U(!0),i=K(()=>t.value.filter(u=>{const f=lt(u.start_time);return yd(f)})),o=K(()=>{const u=i.value,f=u.filter(h=>h.status==="completed"&&h.total_amount).reduce((h,p)=>h+(p.total_amount||0),0);return{appointments:u.length,revenue:f.toFixed(2)}}),a=K(()=>({clients:s.value.length,barbers:n.value.filter(u=>u.is_active).length})),l=u=>({booked:"badge-default",confirmed:"badge-success",completed:"badge-success",cancelled:"badge-error","no-show":"badge-warning"})[u]||"badge-default",d=async()=>{try{r.value=!0;const{data:u}=await de.from("appointments").select(`
        *,
        client:clients(*),
        barber:barbers(*)
      `).order("start_time",{ascending:!0});u&&(t.value=u);const{data:f}=await de.from("clients").select("*").order("name");f&&(s.value=f);const{data:h}=await de.from("barbers").select("*").order("name");h&&(n.value=h)}catch(u){console.error("Error fetching dashboard data:",u)}finally{r.value=!1}};return Fe(()=>{d()}),(u,f)=>{const h=zo("router-link");return C(),O("div",tb,[c("div",sb,[f[0]||(f[0]=c("h1",{class:"text-2xl font-bold text-gray-900"},"Dashboard",-1)),c("div",nb,P(B(Ne)(new Date,"EEEE, MMMM d, yyyy")),1)]),c("div",rb,[c("div",ib,[c("div",ob,[c("div",ab,[c("div",lb,[H(B(Wr),{class:"h-8 w-8 text-primary-600"})]),c("div",cb,[f[1]||(f[1]=c("div",{class:"text-sm font-medium text-gray-500"},"Today's Appointments",-1)),c("div",ub,P(o.value.appointments),1)])])])]),c("div",db,[c("div",fb,[c("div",hb,[c("div",pb,[H(B(nr),{class:"h-8 w-8 text-success-600"})]),c("div",mb,[f[2]||(f[2]=c("div",{class:"text-sm font-medium text-gray-500"},"Today's Revenue",-1)),c("div",gb,"$"+P(o.value.revenue),1)])])])]),c("div",vb,[c("div",yb,[c("div",bb,[c("div",_b,[H(B(ko),{class:"h-8 w-8 text-secondary-600"})]),c("div",wb,[f[3]||(f[3]=c("div",{class:"text-sm font-medium text-gray-500"},"Total Clients",-1)),c("div",xb,P(a.value.clients),1)])])])]),c("div",kb,[c("div",Sb,[c("div",$b,[c("div",Eb,[H(B(aa),{class:"h-8 w-8 text-accent-600"})]),c("div",Tb,[f[4]||(f[4]=c("div",{class:"text-sm font-medium text-gray-500"},"Active Barbers",-1)),c("div",Cb,P(a.value.barbers),1)])])])])]),c("div",Ob,[c("div",Ab,[f[9]||(f[9]=c("div",{class:"card-header"},[c("h3",{class:"text-lg font-medium text-gray-900"},"Quick Actions")],-1)),c("div",Pb,[c("div",Rb,[H(h,{to:"/appointments",class:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"},{default:_e(()=>[H(B(Wr),{class:"h-6 w-6 text-primary-600 mr-3"}),f[5]||(f[5]=c("span",{class:"font-medium"},"New Appointment",-1))]),_:1,__:[5]}),H(h,{to:"/clients",class:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"},{default:_e(()=>[H(B(ko),{class:"h-6 w-6 text-secondary-600 mr-3"}),f[6]||(f[6]=c("span",{class:"font-medium"},"Add Client",-1))]),_:1,__:[6]}),H(h,{to:"/expenses",class:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"},{default:_e(()=>[H(B(nr),{class:"h-6 w-6 text-success-600 mr-3"}),f[7]||(f[7]=c("span",{class:"font-medium"},"Log Expense",-1))]),_:1,__:[7]}),H(h,{to:"/reports",class:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"},{default:_e(()=>[H(B(Kr),{class:"h-6 w-6 text-accent-600 mr-3"}),f[8]||(f[8]=c("span",{class:"font-medium"},"View Reports",-1))]),_:1,__:[8]})])])]),c("div",Db,[f[10]||(f[10]=c("div",{class:"card-header"},[c("h3",{class:"text-lg font-medium text-gray-900"},"Today's Appointments")],-1)),c("div",Mb,[c("div",jb,[(C(!0),O(oe,null,ge(i.value.slice(0,5),p=>{var b,v;return C(),O("div",{key:p.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[c("div",null,[c("div",Ib,P((b=p.client)==null?void 0:b.name),1),c("div",Lb,P((v=p.barber)==null?void 0:v.name),1)]),c("div",Fb,[c("div",Nb,P(B(Ne)(B(lt)(p.start_time),"h:mm a")),1),c("div",{class:Ce(["badge",l(p.status)])},P(p.status),3)])])}),128)),i.value.length===0?(C(),O("div",Ub," No appointments scheduled for today ")):Re("",!0),i.value.length>5?(C(),O("div",Bb,[H(h,{to:"/appointments",class:"text-primary-600 hover:text-primary-700 font-medium"},{default:_e(()=>[De(" View all "+P(i.value.length)+" appointments ",1)]),_:1})])):Re("",!0)])])])])])}}}),qb={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Vb={class:"p-4 border-b border-gray-200"},Wb={class:"flex items-center justify-between"},Kb={class:"flex items-center space-x-4"},zb={class:"flex items-center space-x-2"},Gb=["onClick"],Yb={class:"flex items-center space-x-2"},Jb={class:"text-lg font-medium text-gray-900 min-w-[200px] text-center"},Qb={class:"p-4"},Zb={key:0,class:"space-y-4"},Xb={class:"grid grid-cols-8 gap-4"},e_={class:"text-sm font-medium text-gray-900"},t_={class:"text-2xl font-bold text-gray-900 mt-1"},s_={class:"grid grid-cols-8 gap-4 overflow-y-auto max-h-96"},n_={class:"space-y-4"},r_=["onClick"],i_=["onClick"],o_={class:"font-medium truncate"},a_={class:"text-xs opacity-75 truncate"},l_={key:1,class:"space-y-4"},c_={class:"flex items-center justify-between"},u_={class:"text-lg font-medium text-gray-900"},d_=["value"],f_={class:"grid grid-cols-1 gap-2 max-h-96 overflow-y-auto"},h_={class:"w-16 text-sm text-gray-500"},p_={class:"flex-1 grid grid-cols-3 gap-2"},m_=["onClick"],g_={class:"font-medium"},v_={class:"text-sm opacity-75"},y_={class:"text-xs opacity-75"},b_={key:2,class:"grid grid-cols-7 gap-1"},__=["onClick"],w_={class:"flex items-center justify-between"},x_={class:"text-xs text-gray-400"},k_={class:"mt-1 space-y-1"},S_=["onClick"],$_={key:0,class:"text-xs text-gray-500"},E_=ke({__name:"AppointmentCalendar",props:{appointments:{},barbers:{},loading:{type:Boolean,default:!1}},emits:["new-appointment","edit-appointment","date-change"],setup(e,{emit:t}){const s=e,n=t,r=U(new Date),i=U("week"),o=U(""),a=[{label:"Day",value:"day"},{label:"Week",value:"week"},{label:"Month",value:"month"}],l=Array.from({length:12},(S,F)=>F+9),d=K(()=>{switch(i.value){case"day":return Ne(r.value,"EEEE, MMMM d, yyyy");case"week":const S=xs(r.value),F=Ul(r.value);return`${Ne(S,"MMM d")} - ${Ne(F,"MMM d, yyyy")}`;case"month":return Ne(r.value,"MMMM yyyy");default:return""}}),u=K(()=>{const S=xs(r.value);return Nl({start:S,end:zr(S,6)}).map(F=>({date:F}))}),f=K(()=>{const S=I0(r.value),F=j0(r.value),R=xs(S),z=Ul(F);return Nl({start:R,end:z}).map(te=>({date:te,isCurrentMonth:Iy(te,r.value),isToday:yd(te)}))}),h=K(()=>{let S=s.appointments;return o.value&&(S=S.filter(F=>F.barber_id===o.value)),S}),p=(S,F)=>h.value.filter(R=>{const z=lt(R.start_time);return So(z,S)&&z.getHours()===F}),b=S=>h.value.filter(F=>{const R=lt(F.start_time);return So(R,S)}),v=S=>{const F={booked:"bg-blue-100 text-blue-800 border-blue-200",confirmed:"bg-green-100 text-green-800 border-green-200",completed:"bg-gray-100 text-gray-800 border-gray-200",cancelled:"bg-red-100 text-red-800 border-red-200","no-show":"bg-yellow-100 text-yellow-800 border-yellow-200"};return F[S]||F.booked},g=S=>{const F=lt(S.start_time),z=(lt(S.end_time).getTime()-F.getTime())/(1e3*60);return{height:`${Math.min(z/60*100,100)}%`,top:"0%"}},E=S=>{const F=new Date;return F.setHours(S,0,0,0),Ne(F,"h:mm a")},x=()=>{switch(i.value){case"day":r.value=Ly(r.value);break;case"week":r.value=eb(r.value);break;case"month":r.value=Xy(r.value);break}n("date-change",r.value)},T=()=>{switch(i.value){case"day":r.value=zr(r.value,1);break;case"week":r.value=md(r.value,1);break;case"month":r.value=ud(r.value,1);break}n("date-change",r.value)},D=()=>{r.value=new Date,n("date-change",r.value)},J=S=>{r.value=S,i.value="day",n("date-change",S)},M=(S,F)=>{n("new-appointment",S,F)};return(S,F)=>(C(),O("div",qb,[c("div",Vb,[c("div",Wb,[c("div",Kb,[F[2]||(F[2]=c("h2",{class:"text-lg font-semibold text-gray-900"},"Appointments",-1)),c("div",zb,[(C(),O(oe,null,ge(a,R=>c("button",{key:R.value,onClick:z=>i.value=R.value,class:Ce(["px-3 py-1 rounded-md text-sm font-medium transition-colors",i.value===R.value?"bg-primary-100 text-primary-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"])},P(R.label),11,Gb)),64))])]),c("div",Yb,[c("button",{onClick:x,class:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100"},[H(B(bi),{class:"w-5 h-5"})]),c("div",Jb,P(d.value),1),c("button",{onClick:T,class:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100"},[H(B(_i),{class:"w-5 h-5"})]),c("button",{onClick:D,class:"ml-4 btn btn-outline"}," Today "),c("button",{onClick:F[0]||(F[0]=R=>S.$emit("new-appointment")),class:"btn btn-primary"},[H(B(ts),{class:"w-4 h-4 mr-2"}),F[3]||(F[3]=De(" New Appointment "))])])])]),c("div",Qb,[i.value==="week"?(C(),O("div",Zb,[c("div",Xb,[F[4]||(F[4]=c("div",{class:"text-sm font-medium text-gray-500"},"Time",-1)),(C(!0),O(oe,null,ge(u.value,R=>(C(),O("div",{key:R.date.toISOString(),class:"text-center"},[c("div",e_,P(B(Ne)(R.date,"EEE")),1),c("div",t_,P(B(Ne)(R.date,"d")),1)]))),128))]),c("div",s_,[c("div",n_,[(C(!0),O(oe,null,ge(B(l),R=>(C(),O("div",{key:R,class:"h-16 flex items-center text-xs text-gray-500 border-r border-gray-100 pr-2"},P(E(R)),1))),128))]),(C(!0),O(oe,null,ge(u.value,R=>(C(),O("div",{key:R.date.toISOString(),class:"space-y-1"},[(C(!0),O(oe,null,ge(B(l),z=>(C(),O("div",{key:`${R.date}-${z}`,class:"h-16 border border-gray-100 rounded-md p-1 hover:bg-gray-50 cursor-pointer relative",onClick:te=>M(R.date,z)},[(C(!0),O(oe,null,ge(p(R.date,z),te=>{var $,m;return C(),O("div",{key:te.id,class:Ce(["absolute inset-x-1 rounded-md p-1 text-xs cursor-pointer","hover:shadow-md transition-shadow",v(te.status)]),style:ti(g(te)),onClick:is(w=>S.$emit("edit-appointment",te),["stop"])},[c("div",o_,P(($=te.client)==null?void 0:$.name),1),c("div",a_,P((m=te.barber)==null?void 0:m.name),1)],14,i_)}),128))],8,r_))),128))]))),128))])])):i.value==="day"?(C(),O("div",l_,[c("div",c_,[c("h3",u_,P(B(Ne)(r.value,"EEEE, MMMM d, yyyy")),1),ce(c("select",{"onUpdate:modelValue":F[1]||(F[1]=R=>o.value=R),class:"select"},[F[5]||(F[5]=c("option",{value:""},"All Barbers",-1)),(C(!0),O(oe,null,ge(S.barbers,R=>(C(),O("option",{key:R.id,value:R.id},P(R.name),9,d_))),128))],512),[[Wt,o.value]])]),c("div",f_,[(C(!0),O(oe,null,ge(B(l),R=>(C(),O("div",{key:R,class:"flex items-center space-x-4 p-2 border border-gray-100 rounded-md hover:bg-gray-50"},[c("div",h_,P(E(R)),1),c("div",p_,[(C(!0),O(oe,null,ge(p(r.value,R),z=>{var te,$,m;return C(),O("div",{key:z.id,class:Ce(["p-2 rounded-md cursor-pointer hover:shadow-md transition-shadow",v(z.status)]),onClick:w=>S.$emit("edit-appointment",z)},[c("div",g_,P((te=z.client)==null?void 0:te.name),1),c("div",v_,P(($=z.barber)==null?void 0:$.name),1),c("div",y_,P((m=z.services)==null?void 0:m.map(w=>{var A;return(A=w.service)==null?void 0:A.name}).join(", ")),1)],10,m_)}),128))])]))),128))])])):(C(),O("div",b_,[(C(),O(oe,null,ge(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],R=>c("div",{key:R,class:"p-2 text-center text-sm font-medium text-gray-500 border-b border-gray-200"},P(R),1)),64)),(C(!0),O(oe,null,ge(f.value,R=>(C(),O("div",{key:R.date.toISOString(),class:Ce(["min-h-[100px] p-1 border border-gray-100 hover:bg-gray-50 cursor-pointer",R.isCurrentMonth?"bg-white":"bg-gray-50",R.isToday?"bg-primary-50 border-primary-200":""]),onClick:z=>J(R.date)},[c("div",w_,[c("span",{class:Ce(["text-sm font-medium",R.isCurrentMonth?"text-gray-900":"text-gray-400",R.isToday?"text-primary-600":""])},P(B(Ne)(R.date,"d")),3),c("span",x_,P(b(R.date).length),1)]),c("div",k_,[(C(!0),O(oe,null,ge(b(R.date).slice(0,3),z=>{var te;return C(),O("div",{key:z.id,class:Ce(["text-xs p-1 rounded truncate cursor-pointer",v(z.status)]),onClick:is($=>S.$emit("edit-appointment",z),["stop"])},P((te=z.client)==null?void 0:te.name),11,S_)}),128)),b(R.date).length>3?(C(),O("div",$_," +"+P(b(R.date).length-3)+" more ",1)):Re("",!0)])],10,__))),128))]))])]))}});function ca(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function fr(){let e=[],t={addEventListener(s,n,r,i){return s.addEventListener(n,r,i),t.add(()=>s.removeEventListener(n,r,i))},requestAnimationFrame(...s){let n=requestAnimationFrame(...s);t.add(()=>cancelAnimationFrame(n))},nextFrame(...s){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...s)})},setTimeout(...s){let n=setTimeout(...s);t.add(()=>clearTimeout(n))},microTask(...s){let n={current:!0};return ca(()=>{n.current&&s[0]()}),t.add(()=>{n.current=!1})},style(s,n,r){let i=s.style.getPropertyValue(n);return Object.assign(s.style,{[n]:r}),this.add(()=>{Object.assign(s.style,{[n]:i})})},group(s){let n=fr();return s(n),this.add(()=>n.dispose())},add(s){return e.push(s),()=>{let n=e.indexOf(s);if(n>=0)for(let r of e.splice(n,1))r()}},dispose(){for(let s of e.splice(0))s()}};return t}var Wl;let T_=Symbol("headlessui.useid"),C_=0;const Vs=(Wl=Bf)!=null?Wl:function(){return Ue(T_,()=>`${++C_}`)()};function ve(e){var t;if(e==null||e.value==null)return null;let s=(t=e.value.$el)!=null?t:e.value;return s instanceof Node?s:null}function Mt(e,t,...s){if(e in t){let r=t[e];return typeof r=="function"?r(...s):r}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Mt),n}var O_=Object.defineProperty,A_=(e,t,s)=>t in e?O_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Kl=(e,t,s)=>(A_(e,typeof t!="symbol"?t+"":t,s),s);let P_=class{constructor(){Kl(this,"current",this.detect()),Kl(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},hr=new P_;function Ts(e){if(hr.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=ve(e);if(t)return t.ownerDocument}return document}let $o=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ht=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Ht||{}),_d=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(_d||{}),R_=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(R_||{});function wd(e=document.body){return e==null?[]:Array.from(e.querySelectorAll($o)).sort((t,s)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(s.tabIndex||Number.MAX_SAFE_INTEGER)))}var ua=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ua||{});function da(e,t=0){var s;return e===((s=Ts(e))==null?void 0:s.body)?!1:Mt(t,{0(){return e.matches($o)},1(){let n=e;for(;n!==null;){if(n.matches($o))return!0;n=n.parentElement}return!1}})}function xd(e){let t=Ts(e);Ot(()=>{t&&!da(t.activeElement,0)&&ks(e)})}var D_=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(D_||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ks(e){e==null||e.focus({preventScroll:!0})}let M_=["textarea","input"].join(",");function j_(e){var t,s;return(s=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,M_))!=null?s:!1}function kd(e,t=s=>s){return e.slice().sort((s,n)=>{let r=t(s),i=t(n);if(r===null||i===null)return 0;let o=r.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function I_(e,t){return Vn(wd(),t,{relativeTo:e})}function Vn(e,t,{sorted:s=!0,relativeTo:n=null,skipElements:r=[]}={}){var i;let o=(i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?i:document,a=Array.isArray(e)?s?kd(e):e:wd(e);r.length>0&&a.length>1&&(a=a.filter(b=>!r.includes(b))),n=n??o.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(n))-1;if(t&4)return Math.max(0,a.indexOf(n))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},f=0,h=a.length,p;do{if(f>=h||f+h<=0)return 0;let b=d+f;if(t&16)b=(b+h)%h;else{if(b<0)return 3;if(b>=h)return 1}p=a[b],p==null||p.focus(u),f+=l}while(p!==o.activeElement);return t&6&&j_(p)&&p.select(),2}function Sd(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function L_(){return/Android/gi.test(window.navigator.userAgent)}function F_(){return Sd()||L_()}function Er(e,t,s){hr.isServer||pt(n=>{document.addEventListener(e,t,s),n(()=>document.removeEventListener(e,t,s))})}function $d(e,t,s){hr.isServer||pt(n=>{window.addEventListener(e,t,s),n(()=>window.removeEventListener(e,t,s))})}function Ed(e,t,s=K(()=>!0)){function n(i,o){if(!s.value||i.defaultPrevented)return;let a=o(i);if(a===null||!a.getRootNode().contains(a))return;let l=function d(u){return typeof u=="function"?d(u()):Array.isArray(u)||u instanceof Set?u:[u]}(e);for(let d of l){if(d===null)continue;let u=d instanceof HTMLElement?d:ve(d);if(u!=null&&u.contains(a)||i.composed&&i.composedPath().includes(u))return}return!da(a,ua.Loose)&&a.tabIndex!==-1&&i.preventDefault(),t(i,a)}let r=U(null);Er("pointerdown",i=>{var o,a;s.value&&(r.value=((a=(o=i.composedPath)==null?void 0:o.call(i))==null?void 0:a[0])||i.target)},!0),Er("mousedown",i=>{var o,a;s.value&&(r.value=((a=(o=i.composedPath)==null?void 0:o.call(i))==null?void 0:a[0])||i.target)},!0),Er("click",i=>{F_()||r.value&&(n(i,()=>r.value),r.value=null)},!0),Er("touchend",i=>n(i,()=>i.target instanceof HTMLElement?i.target:null),!0),$d("blur",i=>n(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function zl(e,t){if(e)return e;let s=t??"button";if(typeof s=="string"&&s.toLowerCase()==="button")return"button"}function N_(e,t){let s=U(zl(e.value.type,e.value.as));return Fe(()=>{s.value=zl(e.value.type,e.value.as)}),pt(()=>{var n;s.value||ve(t)&&ve(t)instanceof HTMLButtonElement&&!((n=ve(t))!=null&&n.hasAttribute("type"))&&(s.value="button")}),s}function Gl(e){return[e.screenX,e.screenY]}function U_(){let e=U([-1,-1]);return{wasMoved(t){let s=Gl(t);return e.value[0]===s[0]&&e.value[1]===s[1]?!1:(e.value=s,!0)},update(t){e.value=Gl(t)}}}function B_({container:e,accept:t,walk:s,enabled:n}){pt(()=>{let r=e.value;if(!r||n!==void 0&&!n.value)return;let i=Ts(e);if(!i)return;let o=Object.assign(l=>t(l),{acceptNode:t}),a=i.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,o,!1);for(;a.nextNode();)s(a.currentNode)})}var pn=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(pn||{}),_s=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(_s||{});function mt({visible:e=!0,features:t=0,ourProps:s,theirProps:n,...r}){var i;let o=Cd(n,s),a=Object.assign(r,{props:o});if(e||t&2&&o.static)return Ki(a);if(t&1){let l=(i=o.unmount)==null||i?0:1;return Mt(l,{0(){return null},1(){return Ki({...r,props:{...o,hidden:!0,style:{display:"none"}}})}})}return Ki(a)}function Ki({props:e,attrs:t,slots:s,slot:n,name:r}){var i,o;let{as:a,...l}=Od(e,["unmount","static"]),d=(i=s.default)==null?void 0:i.call(s,n),u={};if(n){let f=!1,h=[];for(let[p,b]of Object.entries(n))typeof b=="boolean"&&(f=!0),b===!0&&h.push(p);f&&(u["data-headlessui-state"]=h.join(" "))}if(a==="template"){if(d=Td(d??[]),Object.keys(l).length>0||Object.keys(t).length>0){let[f,...h]=d??[];if(!H_(f)||h.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${r} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(t)).map(v=>v.trim()).filter((v,g,E)=>E.indexOf(v)===g).sort((v,g)=>v.localeCompare(g)).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`));let p=Cd((o=f.props)!=null?o:{},l,u),b=rs(f,p,!0);for(let v in p)v.startsWith("on")&&(b.props||(b.props={}),b.props[v]=p[v]);return b}return Array.isArray(d)&&d.length===1?d[0]:d}return Ge(a,Object.assign({},l,u),{default:()=>d})}function Td(e){return e.flatMap(t=>t.type===oe?Td(t.children):[t])}function Cd(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},s={};for(let n of e)for(let r in n)r.startsWith("on")&&typeof n[r]=="function"?(s[r]!=null||(s[r]=[]),s[r].push(n[r])):t[r]=n[r];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(s).map(n=>[n,void 0])));for(let n in s)Object.assign(t,{[n](r,...i){let o=s[n];for(let a of o){if(r instanceof Event&&r.defaultPrevented)return;a(r,...i)}}});return t}function Od(e,t=[]){let s=Object.assign({},e);for(let n of t)n in s&&delete s[n];return s}function H_(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}var Jr=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Jr||{});let Eo=ke({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:s}){return()=>{var n;let{features:r,...i}=e,o={"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return mt({ourProps:o,theirProps:i,slot:{},attrs:s,slots:t,name:"Hidden"})}}}),Ad=Symbol("Context");var Ze=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ze||{});function q_(){return wi()!==null}function wi(){return Ue(Ad,null)}function Pd(e){ct(Ad,e)}var ze=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(ze||{});function V_(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Fs=[];V_(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&Fs[0]!==t.target&&(Fs.unshift(t.target),Fs=Fs.filter(s=>s!=null&&s.isConnected),Fs.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function W_(e){throw new Error("Unexpected object: "+e)}var bt=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(bt||{});function K_(e,t){let s=t.resolveItems();if(s.length<=0)return null;let n=t.resolveActiveIndex(),r=n??-1;switch(e.focus){case 0:{for(let i=0;i<s.length;++i)if(!t.resolveDisabled(s[i],i,s))return i;return n}case 1:{r===-1&&(r=s.length);for(let i=r-1;i>=0;--i)if(!t.resolveDisabled(s[i],i,s))return i;return n}case 2:{for(let i=r+1;i<s.length;++i)if(!t.resolveDisabled(s[i],i,s))return i;return n}case 3:{for(let i=s.length-1;i>=0;--i)if(!t.resolveDisabled(s[i],i,s))return i;return n}case 4:{for(let i=0;i<s.length;++i)if(t.resolveId(s[i],i,s)===e.id)return i;return n}case 5:return null;default:W_(e)}}function Rd(e,t,s,n){hr.isServer||pt(r=>{e=e??window,e.addEventListener(t,s,n),r(()=>e.removeEventListener(t,s,n))})}var Pn=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Pn||{});function z_(){let e=U(0);return $d("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function Dd(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let s of e.value){let n=ve(s);n instanceof HTMLElement&&t.add(n)}return t}var Md=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Md||{});let Tn=Object.assign(ke({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:U(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:s,expose:n}){let r=U(null);n({el:r,$el:r});let i=K(()=>Ts(r)),o=U(!1);Fe(()=>o.value=!0),_t(()=>o.value=!1),Y_({ownerDocument:i},K(()=>o.value&&!!(e.features&16)));let a=J_({ownerDocument:i,container:r,initialFocus:K(()=>e.initialFocus)},K(()=>o.value&&!!(e.features&2)));Q_({ownerDocument:i,container:r,containers:e.containers,previousActiveElement:a},K(()=>o.value&&!!(e.features&8)));let l=z_();function d(p){let b=ve(r);b&&(v=>v())(()=>{Mt(l.value,{[Pn.Forwards]:()=>{Vn(b,Ht.First,{skipElements:[p.relatedTarget]})},[Pn.Backwards]:()=>{Vn(b,Ht.Last,{skipElements:[p.relatedTarget]})}})})}let u=U(!1);function f(p){p.key==="Tab"&&(u.value=!0,requestAnimationFrame(()=>{u.value=!1}))}function h(p){if(!o.value)return;let b=Dd(e.containers);ve(r)instanceof HTMLElement&&b.add(ve(r));let v=p.relatedTarget;v instanceof HTMLElement&&v.dataset.headlessuiFocusGuard!=="true"&&(jd(b,v)||(u.value?Vn(ve(r),Mt(l.value,{[Pn.Forwards]:()=>Ht.Next,[Pn.Backwards]:()=>Ht.Previous})|Ht.WrapAround,{relativeTo:p.target}):p.target instanceof HTMLElement&&ks(p.target)))}return()=>{let p={},b={ref:r,onKeydown:f,onFocusout:h},{features:v,initialFocus:g,containers:E,...x}=e;return Ge(oe,[!!(v&4)&&Ge(Eo,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Jr.Focusable}),mt({ourProps:b,theirProps:{...t,...x},slot:p,attrs:t,slots:s,name:"FocusTrap"}),!!(v&4)&&Ge(Eo,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Jr.Focusable})])}}}),{features:Md});function G_(e){let t=U(Fs.slice());return Vt([e],([s],[n])=>{n===!0&&s===!1?ca(()=>{t.value.splice(0)}):n===!1&&s===!0&&(t.value=Fs.slice())},{flush:"post"}),()=>{var s;return(s=t.value.find(n=>n!=null&&n.isConnected))!=null?s:null}}function Y_({ownerDocument:e},t){let s=G_(t);Fe(()=>{pt(()=>{var n,r;t.value||((n=e.value)==null?void 0:n.activeElement)===((r=e.value)==null?void 0:r.body)&&ks(s())},{flush:"post"})}),_t(()=>{t.value&&ks(s())})}function J_({ownerDocument:e,container:t,initialFocus:s},n){let r=U(null),i=U(!1);return Fe(()=>i.value=!0),_t(()=>i.value=!1),Fe(()=>{Vt([t,s,n],(o,a)=>{if(o.every((d,u)=>(a==null?void 0:a[u])===d)||!n.value)return;let l=ve(t);l&&ca(()=>{var d,u;if(!i.value)return;let f=ve(s),h=(d=e.value)==null?void 0:d.activeElement;if(f){if(f===h){r.value=h;return}}else if(l.contains(h)){r.value=h;return}f?ks(f):Vn(l,Ht.First|Ht.NoScroll)===_d.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),r.value=(u=e.value)==null?void 0:u.activeElement})},{immediate:!0,flush:"post"})}),r}function Q_({ownerDocument:e,container:t,containers:s,previousActiveElement:n},r){var i;Rd((i=e.value)==null?void 0:i.defaultView,"focus",o=>{if(!r.value)return;let a=Dd(s);ve(t)instanceof HTMLElement&&a.add(ve(t));let l=n.value;if(!l)return;let d=o.target;d&&d instanceof HTMLElement?jd(a,d)?(n.value=d,ks(d)):(o.preventDefault(),o.stopPropagation(),ks(l)):ks(n.value)},!0)}function jd(e,t){for(let s of e)if(s.contains(t))return!0;return!1}function Z_(e){let t=Sc(e.getSnapshot());return _t(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function X_(e,t){let s=e(),n=new Set;return{getSnapshot(){return s},subscribe(r){return n.add(r),()=>n.delete(r)},dispatch(r,...i){let o=t[r].call(s,...i);o&&(s=o,n.forEach(a=>a()))}}}function ew(){let e;return{before({doc:t}){var s;let n=t.documentElement;e=((s=t.defaultView)!=null?s:window).innerWidth-n.clientWidth},after({doc:t,d:s}){let n=t.documentElement,r=n.clientWidth-n.offsetWidth,i=e-r;s.style(n,"paddingRight",`${i}px`)}}}function tw(){return Sd()?{before({doc:e,d:t,meta:s}){function n(r){return s.containers.flatMap(i=>i()).some(i=>i.contains(r))}t.microTask(()=>{var r;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=fr();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let i=(r=window.scrollY)!=null?r:window.pageYOffset,o=null;t.addEventListener(e,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:d}=new URL(l.href),u=e.querySelector(d);u&&!n(u)&&(o=u)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(a.target instanceof HTMLElement)if(n(a.target)){let l=a.target;for(;l.parentElement&&n(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(n(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;i!==l&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function sw(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function nw(e){let t={};for(let s of e)Object.assign(t,s(t));return t}let Ns=X_(()=>new Map,{PUSH(e,t){var s;let n=(s=this.get(e))!=null?s:{doc:e,count:0,d:fr(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let s=this.get(e);return s&&(s.count--,s.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:s}){let n={doc:e,d:t,meta:nw(s)},r=[tw(),ew(),sw()];r.forEach(({before:i})=>i==null?void 0:i(n)),r.forEach(({after:i})=>i==null?void 0:i(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Ns.subscribe(()=>{let e=Ns.getSnapshot(),t=new Map;for(let[s]of e)t.set(s,s.documentElement.style.overflow);for(let s of e.values()){let n=t.get(s.doc)==="hidden",r=s.count!==0;(r&&!n||!r&&n)&&Ns.dispatch(s.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",s),s.count===0&&Ns.dispatch("TEARDOWN",s)}});function rw(e,t,s){let n=Z_(Ns),r=K(()=>{let i=e.value?n.value.get(e.value):void 0;return i?i.count>0:!1});return Vt([e,t],([i,o],[a],l)=>{if(!i||!o)return;Ns.dispatch("PUSH",i,s);let d=!1;l(()=>{d||(Ns.dispatch("POP",a??i,s),d=!0)})},{immediate:!0}),r}let zi=new Map,Cn=new Map;function Yl(e,t=U(!0)){pt(s=>{var n;if(!t.value)return;let r=ve(e);if(!r)return;s(function(){var o;if(!r)return;let a=(o=Cn.get(r))!=null?o:1;if(a===1?Cn.delete(r):Cn.set(r,a-1),a!==1)return;let l=zi.get(r);l&&(l["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",l["aria-hidden"]),r.inert=l.inert,zi.delete(r))});let i=(n=Cn.get(r))!=null?n:0;Cn.set(r,i+1),i===0&&(zi.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0)})}function iw({defaultContainers:e=[],portals:t,mainTreeNodeRef:s}={}){let n=U(null),r=Ts(n);function i(){var o,a,l;let d=[];for(let u of e)u!==null&&(u instanceof HTMLElement?d.push(u):"value"in u&&u.value instanceof HTMLElement&&d.push(u.value));if(t!=null&&t.value)for(let u of t.value)d.push(u);for(let u of(o=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?o:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(u.contains(ve(n))||u.contains((l=(a=ve(n))==null?void 0:a.getRootNode())==null?void 0:l.host)||d.some(f=>u.contains(f))||d.push(u));return d}return{resolveContainers:i,contains(o){return i().some(a=>a.contains(o))},mainTreeNodeRef:n,MainTreeNode(){return s!=null?null:Ge(Eo,{features:Jr.Hidden,ref:n})}}}let Id=Symbol("ForcePortalRootContext");function ow(){return Ue(Id,!1)}let Jl=ke({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:s}){return ct(Id,e.force),()=>{let{force:n,...r}=e;return mt({theirProps:r,ourProps:{},slot:{},slots:t,attrs:s,name:"ForcePortalRoot"})}}}),Ld=Symbol("StackContext");var To=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(To||{});function aw(){return Ue(Ld,()=>{})}function lw({type:e,enabled:t,element:s,onUpdate:n}){let r=aw();function i(...o){n==null||n(...o),r(...o)}Fe(()=>{Vt(t,(o,a)=>{o?i(0,e,s):a===!0&&i(1,e,s)},{immediate:!0,flush:"sync"})}),_t(()=>{t.value&&i(1,e,s)}),ct(Ld,i)}let cw=Symbol("DescriptionContext");function uw({slot:e=U({}),name:t="Description",props:s={}}={}){let n=U([]);function r(i){return n.value.push(i),()=>{let o=n.value.indexOf(i);o!==-1&&n.value.splice(o,1)}}return ct(cw,{register:r,slot:e,name:t,props:s}),K(()=>n.value.length>0?n.value.join(" "):void 0)}function dw(e){let t=Ts(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let s=t.getElementById("headlessui-portal-root");if(s)return s;let n=t.createElement("div");return n.setAttribute("id","headlessui-portal-root"),t.body.appendChild(n)}const Co=new WeakMap;function fw(e){var t;return(t=Co.get(e))!=null?t:0}function Ql(e,t){let s=t(fw(e));return s<=0?Co.delete(e):Co.set(e,s),s}let hw=ke({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:s}){let n=U(null),r=K(()=>Ts(n)),i=ow(),o=Ue(Fd,null),a=U(i===!0||o==null?dw(n.value):o.resolveTarget());a.value&&Ql(a.value,h=>h+1);let l=U(!1);Fe(()=>{l.value=!0}),pt(()=>{i||o!=null&&(a.value=o.resolveTarget())});let d=Ue(Oo,null),u=!1,f=li();return Vt(n,()=>{if(u||!d)return;let h=ve(n);h&&(_t(d.register(h),f),u=!0)}),_t(()=>{var h,p;let b=(h=r.value)==null?void 0:h.getElementById("headlessui-portal-root");!b||a.value!==b||Ql(a.value,v=>v-1)||a.value.children.length>0||(p=a.value.parentElement)==null||p.removeChild(a.value)}),()=>{if(!l.value||a.value===null)return null;let h={ref:n,"data-headlessui-portal":""};return Ge(Ff,{to:a.value},mt({ourProps:h,theirProps:e,slot:{},attrs:s,slots:t,name:"Portal"}))}}}),Oo=Symbol("PortalParentContext");function pw(){let e=Ue(Oo,null),t=U([]);function s(i){return t.value.push(i),e&&e.register(i),()=>n(i)}function n(i){let o=t.value.indexOf(i);o!==-1&&t.value.splice(o,1),e&&e.unregister(i)}let r={register:s,unregister:n,portals:t};return[t,ke({name:"PortalWrapper",setup(i,{slots:o}){return ct(Oo,r),()=>{var a;return(a=o.default)==null?void 0:a.call(o)}}})]}let Fd=Symbol("PortalGroupContext"),mw=ke({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:s}){let n=et({resolveTarget(){return e.target}});return ct(Fd,n),()=>{let{target:r,...i}=e;return mt({theirProps:i,ourProps:{},slot:{},attrs:t,slots:s,name:"PortalGroup"})}}});var gw=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(gw||{});let Ao=Symbol("DialogContext");function fa(e){let t=Ue(Ao,null);if(t===null){let s=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,fa),s}return t}let Tr="DC8F892D-2EBD-447C-A4C8-A03058436FF4",vw=ke({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Tr},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:t,attrs:s,slots:n,expose:r}){var i,o;let a=(i=e.id)!=null?i:`headlessui-dialog-${Vs()}`,l=U(!1);Fe(()=>{l.value=!0});let d=!1,u=K(()=>e.role==="dialog"||e.role==="alertdialog"?e.role:(d||(d=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),f=U(0),h=wi(),p=K(()=>e.open===Tr&&h!==null?(h.value&Ze.Open)===Ze.Open:e.open),b=U(null),v=K(()=>Ts(b));if(r({el:b,$el:b}),!(e.open!==Tr||h!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof p.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${p.value===Tr?void 0:e.open}`);let g=K(()=>l.value&&p.value?0:1),E=K(()=>g.value===0),x=K(()=>f.value>1),T=Ue(Ao,null)!==null,[D,J]=pw(),{resolveContainers:M,mainTreeNodeRef:S,MainTreeNode:F}=iw({portals:D,defaultContainers:[K(()=>{var V;return(V=re.panelRef.value)!=null?V:b.value})]}),R=K(()=>x.value?"parent":"leaf"),z=K(()=>h!==null?(h.value&Ze.Closing)===Ze.Closing:!1),te=K(()=>T||z.value?!1:E.value),$=K(()=>{var V,pe,He;return(He=Array.from((pe=(V=v.value)==null?void 0:V.querySelectorAll("body > *"))!=null?pe:[]).find(qe=>qe.id==="headlessui-portal-root"?!1:qe.contains(ve(S))&&qe instanceof HTMLElement))!=null?He:null});Yl($,te);let m=K(()=>x.value?!0:E.value),w=K(()=>{var V,pe,He;return(He=Array.from((pe=(V=v.value)==null?void 0:V.querySelectorAll("[data-headlessui-portal]"))!=null?pe:[]).find(qe=>qe.contains(ve(S))&&qe instanceof HTMLElement))!=null?He:null});Yl(w,m),lw({type:"Dialog",enabled:K(()=>g.value===0),element:b,onUpdate:(V,pe)=>{if(pe==="Dialog")return Mt(V,{[To.Add]:()=>f.value+=1,[To.Remove]:()=>f.value-=1})}});let A=uw({name:"DialogDescription",slot:K(()=>({open:p.value}))}),ne=U(null),re={titleId:ne,panelRef:U(null),dialogState:g,setTitleId(V){ne.value!==V&&(ne.value=V)},close(){t("close",!1)}};ct(Ao,re);let Q=K(()=>!(!E.value||x.value));Ed(M,(V,pe)=>{V.preventDefault(),re.close(),Ot(()=>pe==null?void 0:pe.focus())},Q);let W=K(()=>!(x.value||g.value!==0));Rd((o=v.value)==null?void 0:o.defaultView,"keydown",V=>{W.value&&(V.defaultPrevented||V.key===ze.Escape&&(V.preventDefault(),V.stopPropagation(),re.close()))});let Oe=K(()=>!(z.value||g.value!==0||T));return rw(v,Oe,V=>{var pe;return{containers:[...(pe=V.containers)!=null?pe:[],M]}}),pt(V=>{if(g.value!==0)return;let pe=ve(b);if(!pe)return;let He=new ResizeObserver(qe=>{for(let $t of qe){let Je=$t.target.getBoundingClientRect();Je.x===0&&Je.y===0&&Je.width===0&&Je.height===0&&re.close()}});He.observe(pe),V(()=>He.disconnect())}),()=>{let{open:V,initialFocus:pe,...He}=e,qe={...s,ref:b,id:a,role:u.value,"aria-modal":g.value===0?!0:void 0,"aria-labelledby":ne.value,"aria-describedby":A.value},$t={open:g.value===0};return Ge(Jl,{force:!0},()=>[Ge(hw,()=>Ge(mw,{target:b.value},()=>Ge(Jl,{force:!1},()=>Ge(Tn,{initialFocus:pe,containers:M,features:E.value?Mt(R.value,{parent:Tn.features.RestoreFocus,leaf:Tn.features.All&~Tn.features.FocusLock}):Tn.features.None},()=>Ge(J,{},()=>mt({ourProps:qe,theirProps:{...He,...s},slot:$t,attrs:s,slots:n,visible:g.value===0,features:pn.RenderStrategy|pn.Static,name:"Dialog"})))))),Ge(F)])}}}),yw=ke({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:s,expose:n}){var r;let i=(r=e.id)!=null?r:`headlessui-dialog-panel-${Vs()}`,o=fa("DialogPanel");n({el:o.panelRef,$el:o.panelRef});function a(l){l.stopPropagation()}return()=>{let{...l}=e,d={id:i,ref:o.panelRef,onClick:a};return mt({ourProps:d,theirProps:l,slot:{open:o.dialogState.value===0},attrs:t,slots:s,name:"DialogPanel"})}}}),bw=ke({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(e,{attrs:t,slots:s}){var n;let r=(n=e.id)!=null?n:`headlessui-dialog-title-${Vs()}`,i=fa("DialogTitle");return Fe(()=>{i.setTitleId(r),_t(()=>i.setTitleId(null))}),()=>{let{...o}=e;return mt({ourProps:{id:r},theirProps:o,slot:{open:i.dialogState.value===0},attrs:t,slots:s,name:"DialogTitle"})}}}),Zl=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Xl(e){var t,s;let n=(t=e.innerText)!=null?t:"",r=e.cloneNode(!0);if(!(r instanceof HTMLElement))return n;let i=!1;for(let a of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),i=!0;let o=i?(s=r.innerText)!=null?s:"":n;return Zl.test(o)&&(o=o.replace(Zl,"")),o}function _w(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let s=e.getAttribute("aria-labelledby");if(s){let n=s.split(" ").map(r=>{let i=document.getElementById(r);if(i){let o=i.getAttribute("aria-label");return typeof o=="string"?o.trim():Xl(i).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return Xl(e).trim()}function ww(e){let t=U(""),s=U("");return()=>{let n=ve(e);if(!n)return"";let r=n.innerText;if(t.value===r)return s.value;let i=_w(n).trim().toLowerCase();return t.value=r,s.value=i,i}}var xw=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(xw||{}),kw=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(kw||{});function Sw(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Nd=Symbol("MenuContext");function xi(e){let t=Ue(Nd,null);if(t===null){let s=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,xi),s}return t}let Ud=ke({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:s}){let n=U(1),r=U(null),i=U(null),o=U([]),a=U(""),l=U(null),d=U(1);function u(h=p=>p){let p=l.value!==null?o.value[l.value]:null,b=kd(h(o.value.slice()),g=>ve(g.dataRef.domRef)),v=p?b.indexOf(p):null;return v===-1&&(v=null),{items:b,activeItemIndex:v}}let f={menuState:n,buttonRef:r,itemsRef:i,items:o,searchQuery:a,activeItemIndex:l,activationTrigger:d,closeMenu:()=>{n.value=1,l.value=null},openMenu:()=>n.value=0,goToItem(h,p,b){let v=u(),g=K_(h===bt.Specific?{focus:bt.Specific,id:p}:{focus:h},{resolveItems:()=>v.items,resolveActiveIndex:()=>v.activeItemIndex,resolveId:E=>E.id,resolveDisabled:E=>E.dataRef.disabled});a.value="",l.value=g,d.value=b??1,o.value=v.items},search(h){let p=a.value!==""?0:1;a.value+=h.toLowerCase();let b=(l.value!==null?o.value.slice(l.value+p).concat(o.value.slice(0,l.value+p)):o.value).find(g=>g.dataRef.textValue.startsWith(a.value)&&!g.dataRef.disabled),v=b?o.value.indexOf(b):-1;v===-1||v===l.value||(l.value=v,d.value=1)},clearSearch(){a.value=""},registerItem(h,p){let b=u(v=>[...v,{id:h,dataRef:p}]);o.value=b.items,l.value=b.activeItemIndex,d.value=1},unregisterItem(h){let p=u(b=>{let v=b.findIndex(g=>g.id===h);return v!==-1&&b.splice(v,1),b});o.value=p.items,l.value=p.activeItemIndex,d.value=1}};return Ed([r,i],(h,p)=>{var b;f.closeMenu(),da(p,ua.Loose)||(h.preventDefault(),(b=ve(r))==null||b.focus())},K(()=>n.value===0)),ct(Nd,f),Pd(K(()=>Mt(n.value,{0:Ze.Open,1:Ze.Closed}))),()=>{let h={open:n.value===0,close:f.closeMenu};return mt({ourProps:{},theirProps:e,slot:h,slots:t,attrs:s,name:"Menu"})}}}),Bd=ke({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:s,expose:n}){var r;let i=(r=e.id)!=null?r:`headlessui-menu-button-${Vs()}`,o=xi("MenuButton");n({el:o.buttonRef,$el:o.buttonRef});function a(f){switch(f.key){case ze.Space:case ze.Enter:case ze.ArrowDown:f.preventDefault(),f.stopPropagation(),o.openMenu(),Ot(()=>{var h;(h=ve(o.itemsRef))==null||h.focus({preventScroll:!0}),o.goToItem(bt.First)});break;case ze.ArrowUp:f.preventDefault(),f.stopPropagation(),o.openMenu(),Ot(()=>{var h;(h=ve(o.itemsRef))==null||h.focus({preventScroll:!0}),o.goToItem(bt.Last)});break}}function l(f){switch(f.key){case ze.Space:f.preventDefault();break}}function d(f){e.disabled||(o.menuState.value===0?(o.closeMenu(),Ot(()=>{var h;return(h=ve(o.buttonRef))==null?void 0:h.focus({preventScroll:!0})})):(f.preventDefault(),o.openMenu(),Sw(()=>{var h;return(h=ve(o.itemsRef))==null?void 0:h.focus({preventScroll:!0})})))}let u=N_(K(()=>({as:e.as,type:t.type})),o.buttonRef);return()=>{var f;let h={open:o.menuState.value===0},{...p}=e,b={ref:o.buttonRef,id:i,type:u.value,"aria-haspopup":"menu","aria-controls":(f=ve(o.itemsRef))==null?void 0:f.id,"aria-expanded":o.menuState.value===0,onKeydown:a,onKeyup:l,onClick:d};return mt({ourProps:b,theirProps:p,slot:h,attrs:t,slots:s,name:"MenuButton"})}}}),Hd=ke({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:s,expose:n}){var r;let i=(r=e.id)!=null?r:`headlessui-menu-items-${Vs()}`,o=xi("MenuItems"),a=U(null);n({el:o.itemsRef,$el:o.itemsRef}),B_({container:K(()=>ve(o.itemsRef)),enabled:K(()=>o.menuState.value===0),accept(h){return h.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});function l(h){var p;switch(a.value&&clearTimeout(a.value),h.key){case ze.Space:if(o.searchQuery.value!=="")return h.preventDefault(),h.stopPropagation(),o.search(h.key);case ze.Enter:if(h.preventDefault(),h.stopPropagation(),o.activeItemIndex.value!==null){let b=o.items.value[o.activeItemIndex.value];(p=ve(b.dataRef.domRef))==null||p.click()}o.closeMenu(),xd(ve(o.buttonRef));break;case ze.ArrowDown:return h.preventDefault(),h.stopPropagation(),o.goToItem(bt.Next);case ze.ArrowUp:return h.preventDefault(),h.stopPropagation(),o.goToItem(bt.Previous);case ze.Home:case ze.PageUp:return h.preventDefault(),h.stopPropagation(),o.goToItem(bt.First);case ze.End:case ze.PageDown:return h.preventDefault(),h.stopPropagation(),o.goToItem(bt.Last);case ze.Escape:h.preventDefault(),h.stopPropagation(),o.closeMenu(),Ot(()=>{var b;return(b=ve(o.buttonRef))==null?void 0:b.focus({preventScroll:!0})});break;case ze.Tab:h.preventDefault(),h.stopPropagation(),o.closeMenu(),Ot(()=>I_(ve(o.buttonRef),h.shiftKey?Ht.Previous:Ht.Next));break;default:h.key.length===1&&(o.search(h.key),a.value=setTimeout(()=>o.clearSearch(),350));break}}function d(h){switch(h.key){case ze.Space:h.preventDefault();break}}let u=wi(),f=K(()=>u!==null?(u.value&Ze.Open)===Ze.Open:o.menuState.value===0);return()=>{var h,p;let b={open:o.menuState.value===0},{...v}=e,g={"aria-activedescendant":o.activeItemIndex.value===null||(h=o.items.value[o.activeItemIndex.value])==null?void 0:h.id,"aria-labelledby":(p=ve(o.buttonRef))==null?void 0:p.id,id:i,onKeydown:l,onKeyup:d,role:"menu",tabIndex:0,ref:o.itemsRef};return mt({ourProps:g,theirProps:v,slot:b,attrs:t,slots:s,features:pn.RenderStrategy|pn.Static,visible:f.value,name:"MenuItems"})}}}),Wn=ke({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:s,expose:n}){var r;let i=(r=e.id)!=null?r:`headlessui-menu-item-${Vs()}`,o=xi("MenuItem"),a=U(null);n({el:a,$el:a});let l=K(()=>o.activeItemIndex.value!==null?o.items.value[o.activeItemIndex.value].id===i:!1),d=ww(a),u=K(()=>({disabled:e.disabled,get textValue(){return d()},domRef:a}));Fe(()=>o.registerItem(i,u)),_t(()=>o.unregisterItem(i)),pt(()=>{o.menuState.value===0&&l.value&&o.activationTrigger.value!==0&&Ot(()=>{var E,x;return(x=(E=ve(a))==null?void 0:E.scrollIntoView)==null?void 0:x.call(E,{block:"nearest"})})});function f(E){if(e.disabled)return E.preventDefault();o.closeMenu(),xd(ve(o.buttonRef))}function h(){if(e.disabled)return o.goToItem(bt.Nothing);o.goToItem(bt.Specific,i)}let p=U_();function b(E){p.update(E)}function v(E){p.wasMoved(E)&&(e.disabled||l.value||o.goToItem(bt.Specific,i,0))}function g(E){p.wasMoved(E)&&(e.disabled||l.value&&o.goToItem(bt.Nothing))}return()=>{let{disabled:E,...x}=e,T={active:l.value,disabled:E,close:o.closeMenu};return mt({ourProps:{id:i,ref:a,role:"menuitem",tabIndex:E===!0?void 0:-1,"aria-disabled":E===!0?!0:void 0,onClick:f,onFocus:h,onPointerenter:b,onMouseenter:b,onPointermove:v,onMousemove:v,onPointerleave:g,onMouseleave:g},theirProps:{...s,...x},slot:T,attrs:s,slots:t,name:"MenuItem"})}}});function $w(e){let t={called:!1};return(...s)=>{if(!t.called)return t.called=!0,e(...s)}}function Gi(e,...t){e&&t.length>0&&e.classList.add(...t)}function Cr(e,...t){e&&t.length>0&&e.classList.remove(...t)}var Po=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(Po||{});function Ew(e,t){let s=fr();if(!e)return s.dispose;let{transitionDuration:n,transitionDelay:r}=getComputedStyle(e),[i,o]=[n,r].map(a=>{let[l=0]=a.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,u)=>u-d);return l});return i!==0?s.setTimeout(()=>t("finished"),i+o):t("finished"),s.add(()=>t("cancelled")),s.dispose}function ec(e,t,s,n,r,i){let o=fr(),a=i!==void 0?$w(i):()=>{};return Cr(e,...r),Gi(e,...t,...s),o.nextFrame(()=>{Cr(e,...s),Gi(e,...n),o.add(Ew(e,l=>(Cr(e,...n,...t),Gi(e,...r),a(l))))}),o.add(()=>Cr(e,...t,...s,...n,...r)),o.add(()=>a("cancelled")),o.dispose}function Rs(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let ha=Symbol("TransitionContext");var Tw=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Tw||{});function Cw(){return Ue(ha,null)!==null}function Ow(){let e=Ue(ha,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Aw(){let e=Ue(pa,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let pa=Symbol("NestingContext");function ki(e){return"children"in e?ki(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function qd(e){let t=U([]),s=U(!1);Fe(()=>s.value=!0),_t(()=>s.value=!1);function n(i,o=_s.Hidden){let a=t.value.findIndex(({id:l})=>l===i);a!==-1&&(Mt(o,{[_s.Unmount](){t.value.splice(a,1)},[_s.Hidden](){t.value[a].state="hidden"}}),!ki(t)&&s.value&&(e==null||e()))}function r(i){let o=t.value.find(({id:a})=>a===i);return o?o.state!=="visible"&&(o.state="visible"):t.value.push({id:i,state:"visible"}),()=>n(i,_s.Unmount)}return{children:t,register:r,unregister:n}}let Vd=pn.RenderStrategy,Ro=ke({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:s,slots:n,expose:r}){let i=U(0);function o(){i.value|=Ze.Opening,t("beforeEnter")}function a(){i.value&=~Ze.Opening,t("afterEnter")}function l(){i.value|=Ze.Closing,t("beforeLeave")}function d(){i.value&=~Ze.Closing,t("afterLeave")}if(!Cw()&&q_())return()=>Ge(Wd,{...e,onBeforeEnter:o,onAfterEnter:a,onBeforeLeave:l,onAfterLeave:d},n);let u=U(null),f=K(()=>e.unmount?_s.Unmount:_s.Hidden);r({el:u,$el:u});let{show:h,appear:p}=Ow(),{register:b,unregister:v}=Aw(),g=U(h.value?"visible":"hidden"),E={value:!0},x=Vs(),T={value:!1},D=qd(()=>{!T.value&&g.value!=="hidden"&&(g.value="hidden",v(x),d())});Fe(()=>{let m=b(x);_t(m)}),pt(()=>{if(f.value===_s.Hidden&&x){if(h.value&&g.value!=="visible"){g.value="visible";return}Mt(g.value,{hidden:()=>v(x),visible:()=>b(x)})}});let J=Rs(e.enter),M=Rs(e.enterFrom),S=Rs(e.enterTo),F=Rs(e.entered),R=Rs(e.leave),z=Rs(e.leaveFrom),te=Rs(e.leaveTo);Fe(()=>{pt(()=>{if(g.value==="visible"){let m=ve(u);if(m instanceof Comment&&m.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function $(m){let w=E.value&&!p.value,A=ve(u);!A||!(A instanceof HTMLElement)||w||(T.value=!0,h.value&&o(),h.value||l(),m(h.value?ec(A,J,M,S,F,ne=>{T.value=!1,ne===Po.Finished&&a()}):ec(A,R,z,te,F,ne=>{T.value=!1,ne===Po.Finished&&(ki(D)||(g.value="hidden",v(x),d()))})))}return Fe(()=>{Vt([h],(m,w,A)=>{$(A),E.value=!1},{immediate:!0})}),ct(pa,D),Pd(K(()=>Mt(g.value,{visible:Ze.Open,hidden:Ze.Closed})|i.value)),()=>{let{appear:m,show:w,enter:A,enterFrom:ne,enterTo:re,entered:Q,leave:W,leaveFrom:Oe,leaveTo:V,...pe}=e,He={ref:u},qe={...pe,...p.value&&h.value&&hr.isServer?{class:Ce([s.class,pe.class,...J,...M])}:{}};return mt({theirProps:qe,ourProps:He,slot:{},slots:n,attrs:s,features:Vd,visible:g.value==="visible",name:"TransitionChild"})}}}),Pw=Ro,Wd=ke({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:s,slots:n}){let r=wi(),i=K(()=>e.show===null&&r!==null?(r.value&Ze.Open)===Ze.Open:e.show);pt(()=>{if(![!0,!1].includes(i.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=U(i.value?"visible":"hidden"),a=qd(()=>{o.value="hidden"}),l=U(!0),d={show:i,appear:K(()=>e.appear||!l.value)};return Fe(()=>{pt(()=>{l.value=!1,i.value?o.value="visible":ki(a)||(o.value="hidden")})}),ct(pa,a),ct(ha,d),()=>{let u=Od(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),f={unmount:e.unmount};return mt({ourProps:{...f,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[Ge(Pw,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...s,...f,...u},n.default)]},attrs:{},features:Vd,visible:o.value==="visible",name:"Transition"})}}});const Rw={class:"fixed inset-0 overflow-y-auto"},Dw={class:"flex min-h-full items-center justify-center p-4 text-center"},Mw={class:"flex items-center justify-between mb-4"},jw={class:"mt-2"},$s=ke({__name:"Modal",props:{isOpen:{type:Boolean},title:{},size:{default:"md"}},emits:["close"],setup(e,{emit:t}){const s=t,n={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"},r=()=>{s("close")};return(i,o)=>(C(),Xt(B(Wd),{appear:"",show:i.isOpen,as:"template"},{default:_e(()=>[H(B(vw),{as:"div",class:"relative z-50",onClose:r},{default:_e(()=>[H(B(Ro),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:_e(()=>o[0]||(o[0]=[c("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1,__:[0]}),c("div",Rw,[c("div",Dw,[H(B(Ro),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:_e(()=>[H(B(yw),{class:Ce(["w-full transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",n[i.size]])},{default:_e(()=>[c("div",Mw,[H(B(bw),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:_e(()=>[De(P(i.title),1)]),_:1}),c("button",{onClick:r,class:"text-gray-400 hover:text-gray-600 transition-colors"},[H(B(la),{class:"w-6 h-6"})])]),c("div",jw,[Zf(i.$slots,"default")])]),_:3},8,["class"])]),_:3})])])]),_:3})]),_:3},8,["show"]))}}),Iw={class:"space-y-6"},Lw={class:"grid grid-cols-2 gap-4"},Fw=["value"],Nw=["value"],Uw={class:"grid grid-cols-2 gap-4"},Bw={class:"space-y-2 max-h-32 overflow-y-auto"},Hw=["value"],qw={class:"flex-1"},Vw={class:"font-medium"},Ww={class:"text-sm text-gray-500"},Kw={key:0},zw={key:1},Gw={class:"flex justify-end space-x-3 pt-4"},Yw=["disabled"],Jw=ke({__name:"Appointments",setup(e){const{addToast:t}=as(),s=U([]),n=U([]),r=U([]),i=U([]),o=U(!0),a=U(!1),l=U(!1),d=U(null),u=et({client_id:"",barber_id:"",date:"",time:"",service_ids:[],status:"booked",total_amount:0,notes:""}),f=K(()=>r.value.filter(M=>M.is_active)),h=K(()=>i.value.filter(M=>M.is_active)),p=()=>{Object.assign(u,{client_id:"",barber_id:"",date:"",time:"",service_ids:[],status:"booked",total_amount:0,notes:""})},b=(M,S)=>{d.value=null,p(),M&&(u.date=Ne(M,"yyyy-MM-dd")),S!==void 0&&(u.time=`${S.toString().padStart(2,"0")}:00`),l.value=!0},v=M=>{d.value=M;const S=lt(M.start_time);u.client_id=M.client_id,u.barber_id=M.barber_id,u.date=Ne(S,"yyyy-MM-dd"),u.time=Ne(S,"HH:mm"),u.status=M.status,u.total_amount=M.total_amount||0,u.notes=M.notes||"",M.services&&(u.service_ids=M.services.map(F=>F.service_id)),l.value=!0},g=()=>{l.value=!1,d.value=null,p()},E=async()=>{if(!u.client_id||!u.barber_id||!u.date||!u.time||u.service_ids.length===0){t({type:"error",title:"Validation Error",message:"Please fill in all required fields"});return}a.value=!0;try{const M=i.value.filter(w=>u.service_ids.includes(w.id)),S=M.reduce((w,A)=>w+A.duration_minutes,0),F=new Date(`${u.date}T${u.time}`),R=new Date(F.getTime()+S*6e4),z={client_id:u.client_id,barber_id:u.barber_id,start_time:F.toISOString(),end_time:R.toISOString(),status:u.status,total_amount:u.status==="completed"?u.total_amount:null,notes:u.notes||null};let te;if(d.value){const{error:w}=await de.from("appointments").update(z).eq("id",d.value.id);if(w)throw w;te=d.value.id,await de.from("appointment_services").delete().eq("appointment_id",te)}else{const{data:w,error:A}=await de.from("appointments").insert(z).select().single();if(A)throw A;te=w.id}const $=M.map(w=>({appointment_id:te,service_id:w.id,price_at_booking:w.price,duration_at_booking:w.duration_minutes,quantity:1})),{error:m}=await de.from("appointment_services").insert($);if(m)throw m;t({type:"success",title:"Success",message:`Appointment ${d.value?"updated":"created"} successfully`}),g(),await x()}catch(M){t({type:"error",title:"Error",message:M.message||"Failed to save appointment"})}finally{a.value=!1}},x=async()=>{try{const{data:M,error:S}=await de.from("appointments").select(`
        *,
        client:clients(*),
        barber:barbers(*),
        services:appointment_services(
          *,
          service:services(*)
        )
      `).order("start_time",{ascending:!0});if(S)throw S;s.value=M||[]}catch{t({type:"error",title:"Error",message:"Failed to fetch appointments"})}},T=async()=>{try{const{data:M,error:S}=await de.from("clients").select("*").order("name");if(S)throw S;n.value=M||[]}catch(M){console.error("Error fetching clients:",M)}},D=async()=>{try{const{data:M,error:S}=await de.from("barbers").select("*").order("name");if(S)throw S;r.value=M||[]}catch(M){console.error("Error fetching barbers:",M)}},J=async()=>{try{const{data:M,error:S}=await de.from("services").select("*").order("name");if(S)throw S;i.value=M||[]}catch(M){console.error("Error fetching services:",M)}};return Fe(async()=>{o.value=!0,await Promise.all([x(),T(),D(),J()]),o.value=!1}),(M,S)=>(C(),O("div",Iw,[S[19]||(S[19]=c("div",{class:"flex items-center justify-between"},[c("h1",{class:"text-2xl font-bold text-gray-900"},"Appointments")],-1)),H(E_,{appointments:s.value,barbers:r.value,loading:o.value,onNewAppointment:b,onEditAppointment:v},null,8,["appointments","barbers","loading"]),H($s,{"is-open":l.value,title:d.value?"Edit Appointment":"New Appointment",size:"lg",onClose:g},{default:_e(()=>[c("form",{onSubmit:is(E,["prevent"]),class:"space-y-4"},[c("div",Lw,[c("div",null,[S[9]||(S[9]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Client * ",-1)),ce(c("select",{"onUpdate:modelValue":S[0]||(S[0]=F=>u.client_id=F),required:"",class:"select"},[S[8]||(S[8]=c("option",{value:""},"Select a client",-1)),(C(!0),O(oe,null,ge(n.value,F=>(C(),O("option",{key:F.id,value:F.id},P(F.name),9,Fw))),128))],512),[[Wt,u.client_id]])]),c("div",null,[S[11]||(S[11]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Barber * ",-1)),ce(c("select",{"onUpdate:modelValue":S[1]||(S[1]=F=>u.barber_id=F),required:"",class:"select"},[S[10]||(S[10]=c("option",{value:""},"Select a barber",-1)),(C(!0),O(oe,null,ge(f.value,F=>(C(),O("option",{key:F.id,value:F.id},P(F.name),9,Nw))),128))],512),[[Wt,u.barber_id]])])]),c("div",Uw,[c("div",null,[S[12]||(S[12]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Date * ",-1)),ce(c("input",{"onUpdate:modelValue":S[2]||(S[2]=F=>u.date=F),type:"date",required:"",class:"input"},null,512),[[ye,u.date]])]),c("div",null,[S[13]||(S[13]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Time * ",-1)),ce(c("input",{"onUpdate:modelValue":S[3]||(S[3]=F=>u.time=F),type:"time",required:"",class:"input"},null,512),[[ye,u.time]])])]),c("div",null,[S[14]||(S[14]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Services * ",-1)),c("div",Bw,[(C(!0),O(oe,null,ge(h.value,F=>(C(),O("label",{key:F.id,class:"flex items-center space-x-3 p-2 border border-gray-200 rounded-md hover:bg-gray-50"},[ce(c("input",{type:"checkbox",value:F.id,"onUpdate:modelValue":S[4]||(S[4]=R=>u.service_ids=R),class:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,8,Hw),[[Fn,u.service_ids]]),c("div",qw,[c("div",Vw,P(F.name),1),c("div",Ww," $"+P(F.price)+"  "+P(F.duration_minutes)+"min ",1)])]))),128))])]),d.value?(C(),O("div",Kw,[S[16]||(S[16]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Status ",-1)),ce(c("select",{"onUpdate:modelValue":S[5]||(S[5]=F=>u.status=F),class:"select"},S[15]||(S[15]=[c("option",{value:"booked"},"Booked",-1),c("option",{value:"confirmed"},"Confirmed",-1),c("option",{value:"completed"},"Completed",-1),c("option",{value:"cancelled"},"Cancelled",-1),c("option",{value:"no-show"},"No Show",-1)]),512),[[Wt,u.status]])])):Re("",!0),u.status==="completed"?(C(),O("div",zw,[S[17]||(S[17]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Total Amount ",-1)),ce(c("input",{"onUpdate:modelValue":S[6]||(S[6]=F=>u.total_amount=F),type:"number",step:"0.01",min:"0",class:"input",placeholder:"Enter final amount"},null,512),[[ye,u.total_amount,void 0,{number:!0}]])])):Re("",!0),c("div",null,[S[18]||(S[18]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Notes ",-1)),ce(c("textarea",{"onUpdate:modelValue":S[7]||(S[7]=F=>u.notes=F),rows:"3",class:"textarea",placeholder:"Optional notes about the appointment"},null,512),[[ye,u.notes]])]),c("div",Gw,[c("button",{type:"button",onClick:g,class:"btn btn-outline"}," Cancel "),c("button",{type:"submit",disabled:a.value,class:"btn btn-primary"},P(a.value?"Saving...":d.value?"Update":"Create"),9,Yw)])],32)]),_:1},8,["is-open","title"])]))}}),Qw={class:"space-y-6"},Zw={class:"flex items-center justify-between"},Xw={class:"bg-white p-4 rounded-lg shadow-sm border border-gray-200"},e1={class:"flex items-center space-x-4"},t1={class:"flex-1"},s1={class:"text-sm text-gray-500"},n1={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},r1={class:"overflow-x-auto"},i1={class:"min-w-full divide-y divide-gray-200"},o1={class:"bg-white divide-y divide-gray-200"},a1={class:"px-6 py-4 whitespace-nowrap"},l1={class:"flex items-center"},c1={class:"flex-shrink-0 h-10 w-10"},u1={class:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center"},d1={class:"text-sm font-medium text-gray-700"},f1={class:"ml-4"},h1={class:"text-sm font-medium text-gray-900"},p1={key:0,class:"text-sm text-gray-500 truncate max-w-xs"},m1={class:"px-6 py-4 whitespace-nowrap"},g1={class:"text-sm text-gray-900"},v1={class:"text-sm text-gray-500"},y1={class:"px-6 py-4 whitespace-nowrap"},b1={class:"text-sm text-gray-900"},_1={class:"text-sm text-gray-500"},w1={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},x1={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},k1={class:"flex items-center justify-end space-x-2"},S1=["onClick"],$1=["onClick"],E1={class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200"},T1={class:"flex-1 flex justify-between sm:hidden"},C1=["disabled"],O1=["disabled"],A1={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},P1={class:"text-sm text-gray-700"},R1={class:"font-medium"},D1={class:"font-medium"},M1={class:"font-medium"},j1={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},I1=["disabled"],L1=["onClick"],F1=["disabled"],N1={class:"flex justify-end space-x-3 pt-4"},U1=["disabled"],B1={class:"space-y-4"},H1={class:"text-sm text-gray-600"},q1={class:"space-y-3 max-h-96 overflow-y-auto"},V1={class:"flex items-center justify-between mb-2"},W1={class:"font-medium text-gray-900"},K1={class:"text-sm text-gray-600"},z1={key:0},G1={key:1},Y1={key:2,class:"mt-1 italic"},J1={key:0,class:"text-center py-8 text-gray-500"},Yi=10,Q1=ke({__name:"Clients",setup(e){const{addToast:t}=as(),s=U([]),n=U([]),r=U(!0),i=U(!1),o=U(""),a=U(1),l=U(!1),d=U(null),u=U(!1),f=U(null),h=et({name:"",phone_number:"",email:"",notes:""}),p=K(()=>{if(!o.value)return s.value;const Q=o.value.toLowerCase();return s.value.filter(W=>W.name.toLowerCase().includes(Q)||W.phone_number&&W.phone_number.toLowerCase().includes(Q)||W.email&&W.email.toLowerCase().includes(Q))}),b=K(()=>Math.ceil(p.value.length/Yi)),v=K(()=>(a.value-1)*Yi),g=K(()=>v.value+Yi),E=K(()=>p.value.slice(v.value,g.value)),x=K(()=>{const Q=[],W=Math.max(1,a.value-2),Oe=Math.min(b.value,a.value+2);for(let V=W;V<=Oe;V++)Q.push(V);return Q}),T=K(()=>f.value?n.value.filter(Q=>Q.client_id===f.value.id).sort((Q,W)=>new Date(W.start_time).getTime()-new Date(Q.start_time).getTime()):[]),D=Q=>Q.split(" ").map(W=>W[0]).join("").toUpperCase().slice(0,2),J=Q=>n.value.filter(W=>W.client_id===Q).length,M=Q=>{const W=new Date;return n.value.filter(Oe=>Oe.client_id===Q&&new Date(Oe.start_time)>W&&Oe.status!=="cancelled").length},S=Q=>{const W=n.value.filter(Oe=>Oe.client_id===Q&&Oe.status==="completed").sort((Oe,V)=>new Date(V.start_time).getTime()-new Date(Oe.start_time).getTime());return W.length===0?"Never":Ne(lt(W[0].start_time),"MMM d, yyyy")},F=Q=>({booked:"badge-default",confirmed:"badge-success",completed:"badge-success",cancelled:"badge-error","no-show":"badge-warning"})[Q]||"badge-default",R=()=>{Object.assign(h,{name:"",phone_number:"",email:"",notes:""})},z=()=>{d.value=null,R(),l.value=!0},te=Q=>{d.value=Q,Object.assign(h,{name:Q.name,phone_number:Q.phone_number||"",email:Q.email||"",notes:Q.notes||""}),l.value=!0},$=()=>{l.value=!1,d.value=null,R()},m=Q=>{f.value=Q,u.value=!0},w=()=>{u.value=!1,f.value=null},A=async()=>{if(!h.name.trim()){t({type:"error",title:"Validation Error",message:"Client name is required"});return}i.value=!0;try{const Q={name:h.name.trim(),phone_number:h.phone_number.trim()||null,email:h.email.trim()||null,notes:h.notes.trim()||null};if(d.value){const{error:W}=await de.from("clients").update(Q).eq("id",d.value.id);if(W)throw W;t({type:"success",title:"Success",message:"Client updated successfully"})}else{const{error:W}=await de.from("clients").insert(Q);if(W)throw W;t({type:"success",title:"Success",message:"Client created successfully"})}$(),await ne()}catch(Q){t({type:"error",title:"Error",message:Q.message||"Failed to save client"})}finally{i.value=!1}},ne=async()=>{try{const{data:Q,error:W}=await de.from("clients").select("*").order("name");if(W)throw W;s.value=Q||[]}catch{t({type:"error",title:"Error",message:"Failed to fetch clients"})}},re=async()=>{try{const{data:Q,error:W}=await de.from("appointments").select(`
        *,
        barber:barbers(*),
        services:appointment_services(
          *,
          service:services(*)
        )
      `).order("start_time",{ascending:!1});if(W)throw W;n.value=Q||[]}catch(Q){console.error("Error fetching appointments:",Q)}};return Fe(async()=>{r.value=!0,await Promise.all([ne(),re()]),r.value=!1}),(Q,W)=>{var Oe;return C(),O("div",Qw,[c("div",Zw,[W[10]||(W[10]=c("h1",{class:"text-2xl font-bold text-gray-900"},"Clients",-1)),c("button",{onClick:z,class:"btn btn-primary"},[H(B(ts),{class:"w-4 h-4 mr-2"}),W[9]||(W[9]=De(" Add Client "))])]),c("div",Xw,[c("div",e1,[c("div",t1,[ce(c("input",{"onUpdate:modelValue":W[0]||(W[0]=V=>o.value=V),type:"text",placeholder:"Search clients by name, phone, or email...",class:"input"},null,512),[[ye,o.value]])]),c("div",s1,P(p.value.length)+" client"+P(p.value.length!==1?"s":""),1)])]),c("div",n1,[c("div",r1,[c("table",i1,[W[11]||(W[11]=c("thead",{class:"bg-gray-50"},[c("tr",null,[c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Contact "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Appointments "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Last Visit "),c("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),c("tbody",o1,[(C(!0),O(oe,null,ge(E.value,V=>(C(),O("tr",{key:V.id,class:"hover:bg-gray-50"},[c("td",a1,[c("div",l1,[c("div",c1,[c("div",u1,[c("span",d1,P(D(V.name)),1)])]),c("div",f1,[c("div",h1,P(V.name),1),V.notes?(C(),O("div",p1,P(V.notes),1)):Re("",!0)])])]),c("td",m1,[c("div",g1,P(V.phone_number),1),c("div",v1,P(V.email),1)]),c("td",y1,[c("div",b1,P(J(V.id))+" appointments ",1),c("div",_1,P(M(V.id))+" upcoming ",1)]),c("td",w1,P(S(V.id)),1),c("td",x1,[c("div",k1,[c("button",{onClick:pe=>m(V),class:"text-primary-600 hover:text-primary-900"}," History ",8,S1),c("button",{onClick:pe=>te(V),class:"text-secondary-600 hover:text-secondary-900"}," Edit ",8,$1)])])]))),128))])])]),c("div",E1,[c("div",T1,[c("button",{onClick:W[1]||(W[1]=V=>a.value--),disabled:a.value===1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"}," Previous ",8,C1),c("button",{onClick:W[2]||(W[2]=V=>a.value++),disabled:a.value>=b.value,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"}," Next ",8,O1)]),c("div",A1,[c("div",null,[c("p",P1,[W[12]||(W[12]=De(" Showing ")),c("span",R1,P(v.value+1),1),W[13]||(W[13]=De(" to ")),c("span",D1,P(Math.min(g.value,p.value.length)),1),W[14]||(W[14]=De(" of ")),c("span",M1,P(p.value.length),1),W[15]||(W[15]=De(" results "))])]),c("div",null,[c("nav",j1,[c("button",{onClick:W[3]||(W[3]=V=>a.value--),disabled:a.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},[H(B(bi),{class:"h-5 w-5"})],8,I1),(C(!0),O(oe,null,ge(x.value,V=>(C(),O("button",{key:V,onClick:pe=>a.value=V,class:Ce(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",V===a.value?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"])},P(V),11,L1))),128)),c("button",{onClick:W[4]||(W[4]=V=>a.value++),disabled:a.value>=b.value,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},[H(B(_i),{class:"h-5 w-5"})],8,F1)])])])])]),H($s,{"is-open":l.value,title:d.value?"Edit Client":"Add New Client",onClose:$},{default:_e(()=>[c("form",{onSubmit:is(A,["prevent"]),class:"space-y-4"},[c("div",null,[W[16]||(W[16]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Full Name * ",-1)),ce(c("input",{"onUpdate:modelValue":W[5]||(W[5]=V=>h.name=V),type:"text",required:"",class:"input",placeholder:"Enter client's full name"},null,512),[[ye,h.name]])]),c("div",null,[W[17]||(W[17]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Phone Number ",-1)),ce(c("input",{"onUpdate:modelValue":W[6]||(W[6]=V=>h.phone_number=V),type:"tel",class:"input",placeholder:"(555) 123-4567"},null,512),[[ye,h.phone_number]])]),c("div",null,[W[18]||(W[18]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Email Address ",-1)),ce(c("input",{"onUpdate:modelValue":W[7]||(W[7]=V=>h.email=V),type:"email",class:"input",placeholder:"client@example.com"},null,512),[[ye,h.email]])]),c("div",null,[W[19]||(W[19]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Notes ",-1)),ce(c("textarea",{"onUpdate:modelValue":W[8]||(W[8]=V=>h.notes=V),rows:"3",class:"textarea",placeholder:"Any preferences, allergies, or other notes..."},null,512),[[ye,h.notes]])]),c("div",N1,[c("button",{type:"button",onClick:$,class:"btn btn-outline"}," Cancel "),c("button",{type:"submit",disabled:i.value,class:"btn btn-primary"},P(i.value?"Saving...":d.value?"Update":"Create"),9,U1)])],32)]),_:1},8,["is-open","title"]),H($s,{"is-open":u.value,title:`${(Oe=f.value)==null?void 0:Oe.name} - Appointment History`,size:"lg",onClose:w},{default:_e(()=>[c("div",B1,[c("div",H1," Total appointments: "+P(T.value.length),1),c("div",q1,[(C(!0),O(oe,null,ge(T.value,V=>{var pe,He;return C(),O("div",{key:V.id,class:"p-4 border border-gray-200 rounded-lg"},[c("div",V1,[c("div",W1,P(B(Ne)(B(lt)(V.start_time),"MMM d, yyyy")),1),c("div",{class:Ce(["badge",F(V.status)])},P(V.status),3)]),c("div",K1,[c("div",null,"Barber: "+P((pe=V.barber)==null?void 0:pe.name),1),c("div",null,"Time: "+P(B(Ne)(B(lt)(V.start_time),"h:mm a")),1),(He=V.services)!=null&&He.length?(C(),O("div",z1," Services: "+P(V.services.map(qe=>{var $t;return($t=qe.service)==null?void 0:$t.name}).join(", ")),1)):Re("",!0),V.total_amount?(C(),O("div",G1," Amount: $"+P(V.total_amount),1)):Re("",!0),V.notes?(C(),O("div",Y1,P(V.notes),1)):Re("",!0)])])}),128)),T.value.length===0?(C(),O("div",J1," No appointments found for this client. ")):Re("",!0)])])]),_:1},8,["is-open","title"])])}}}),Z1={class:"space-y-6"},X1={class:"flex items-center justify-between"},ex={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},tx={class:"card-content"},sx={class:"flex items-start justify-between"},nx={class:"flex-1"},rx={class:"text-lg font-medium text-gray-900 mb-2"},ix={key:0,class:"text-sm text-gray-600 mb-3"},ox={class:"flex items-center space-x-4 text-sm text-gray-500"},ax={class:"flex items-center"},lx={class:"flex items-center"},cx={class:"flex items-center space-x-2"},ux={class:"py-1"},dx=["onClick"],fx=["onClick"],hx={key:0,class:"col-span-full"},px={class:"text-center py-12"},mx={class:"mt-6"},gx={class:"grid grid-cols-2 gap-4"},vx={class:"relative"},yx={key:0},bx={class:"flex items-center"},_x={class:"flex justify-end space-x-3 pt-4"},wx=["disabled"],xx=ke({__name:"Services",setup(e){const{addToast:t}=as(),s=U([]),n=U(!0),r=U(!1),i=U(!1),o=U(null),a=et({name:"",price:0,duration_minutes:30,description:"",is_active:!0}),l=()=>{Object.assign(a,{name:"",price:0,duration_minutes:30,description:"",is_active:!0})},d=()=>{o.value=null,l(),i.value=!0},u=v=>{o.value=v,Object.assign(a,{name:v.name,price:v.price,duration_minutes:v.duration_minutes,description:v.description||"",is_active:v.is_active}),i.value=!0},f=()=>{i.value=!1,o.value=null,l()},h=async()=>{if(!a.name.trim()||a.price<=0||a.duration_minutes<=0){t({type:"error",title:"Validation Error",message:"Please fill in all required fields with valid values"});return}r.value=!0;try{const v={name:a.name.trim(),price:a.price,duration_minutes:a.duration_minutes,description:a.description.trim()||null,is_active:a.is_active};if(o.value){const{error:g}=await de.from("services").update(v).eq("id",o.value.id);if(g)throw g;t({type:"success",title:"Success",message:"Service updated successfully"})}else{const{error:g}=await de.from("services").insert(v);if(g)throw g;t({type:"success",title:"Success",message:"Service created successfully"})}f(),await b()}catch(v){t({type:"error",title:"Error",message:v.message||"Failed to save service"})}finally{r.value=!1}},p=async v=>{try{const{error:g}=await de.from("services").update({is_active:!v.is_active}).eq("id",v.id);if(g)throw g;t({type:"success",title:"Success",message:`Service ${v.is_active?"deactivated":"activated"} successfully`}),await b()}catch{t({type:"error",title:"Error",message:"Failed to update service status"})}},b=async()=>{try{const{data:v,error:g}=await de.from("services").select("*").order("name");if(g)throw g;s.value=v||[]}catch{t({type:"error",title:"Error",message:"Failed to fetch services"})}};return Fe(async()=>{n.value=!0,await b(),n.value=!1}),(v,g)=>(C(),O("div",Z1,[c("div",X1,[g[6]||(g[6]=c("h1",{class:"text-2xl font-bold text-gray-900"},"Services",-1)),c("button",{onClick:d,class:"btn btn-primary"},[H(B(ts),{class:"w-4 h-4 mr-2"}),g[5]||(g[5]=De(" Add Service "))])]),c("div",ex,[(C(!0),O(oe,null,ge(s.value,E=>(C(),O("div",{key:E.id,class:Ce(["card hover:shadow-md transition-shadow cursor-pointer",!E.is_active&&"opacity-60"])},[c("div",tx,[c("div",sx,[c("div",nx,[c("h3",rx,P(E.name),1),E.description?(C(),O("p",ix,P(E.description),1)):Re("",!0),c("div",ox,[c("div",ax,[H(B(nr),{class:"w-4 h-4 mr-1"}),De(" $"+P(E.price),1)]),c("div",lx,[H(B(Yv),{class:"w-4 h-4 mr-1"}),De(" "+P(E.duration_minutes)+"min ",1)])])]),c("div",cx,[c("div",{class:Ce(["w-3 h-3 rounded-full",E.is_active?"bg-success-500":"bg-gray-300"])},null,2),H(B(Ud),{as:"div",class:"relative"},{default:_e(()=>[H(B(Bd),{class:"p-1 text-gray-400 hover:text-gray-600"},{default:_e(()=>[H(B(ad),{class:"w-5 h-5"})]),_:1}),H(vu,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:_e(()=>[H(B(Hd),{class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},{default:_e(()=>[c("div",ux,[H(B(Wn),null,{default:_e(({active:x})=>[c("button",{onClick:T=>u(E),class:Ce([x?"bg-gray-100 text-gray-900":"text-gray-700","block w-full text-left px-4 py-2 text-sm"])}," Edit Service ",10,dx)]),_:2},1024),H(B(Wn),null,{default:_e(({active:x})=>[c("button",{onClick:T=>p(E),class:Ce([x?"bg-gray-100 text-gray-900":"text-gray-700","block w-full text-left px-4 py-2 text-sm"])},P(E.is_active?"Deactivate":"Activate"),11,fx)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024)])])])],2))),128)),s.value.length===0&&!n.value?(C(),O("div",hx,[c("div",px,[H(B(cd),{class:"mx-auto h-12 w-12 text-gray-400"}),g[8]||(g[8]=c("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No services",-1)),g[9]||(g[9]=c("p",{class:"mt-1 text-sm text-gray-500"},"Get started by creating your first service.",-1)),c("div",mx,[c("button",{onClick:d,class:"btn btn-primary"},[H(B(ts),{class:"w-4 h-4 mr-2"}),g[7]||(g[7]=De(" Add Service "))])])])])):Re("",!0)]),H($s,{"is-open":i.value,title:o.value?"Edit Service":"Add New Service",onClose:f},{default:_e(()=>[c("form",{onSubmit:is(h,["prevent"]),class:"space-y-4"},[c("div",null,[g[10]||(g[10]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Service Name * ",-1)),ce(c("input",{"onUpdate:modelValue":g[0]||(g[0]=E=>a.name=E),type:"text",required:"",class:"input",placeholder:"e.g., Men's Haircut"},null,512),[[ye,a.name]])]),c("div",gx,[c("div",null,[g[12]||(g[12]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Price * ",-1)),c("div",vx,[g[11]||(g[11]=c("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[c("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),ce(c("input",{"onUpdate:modelValue":g[1]||(g[1]=E=>a.price=E),type:"number",step:"0.01",min:"0",required:"",class:"input pl-8",placeholder:"0.00"},null,512),[[ye,a.price,void 0,{number:!0}]])])]),c("div",null,[g[13]||(g[13]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Duration (minutes) * ",-1)),ce(c("input",{"onUpdate:modelValue":g[2]||(g[2]=E=>a.duration_minutes=E),type:"number",min:"5",step:"5",required:"",class:"input",placeholder:"30"},null,512),[[ye,a.duration_minutes,void 0,{number:!0}]])])]),c("div",null,[g[14]||(g[14]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Description ",-1)),ce(c("textarea",{"onUpdate:modelValue":g[3]||(g[3]=E=>a.description=E),rows:"3",class:"textarea",placeholder:"Optional description of the service..."},null,512),[[ye,a.description]])]),o.value?(C(),O("div",yx,[c("label",bx,[ce(c("input",{"onUpdate:modelValue":g[4]||(g[4]=E=>a.is_active=E),type:"checkbox",class:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,512),[[Fn,a.is_active]]),g[15]||(g[15]=c("span",{class:"ml-2 text-sm text-gray-700"},"Service is active",-1))])])):Re("",!0),c("div",_x,[c("button",{type:"button",onClick:f,class:"btn btn-outline"}," Cancel "),c("button",{type:"submit",disabled:r.value,class:"btn btn-primary"},P(r.value?"Saving...":o.value?"Update":"Create"),9,wx)])],32)]),_:1},8,["is-open","title"])]))}}),kx={class:"space-y-6"},Sx={class:"flex items-center justify-between"},$x={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Ex={class:"card-content"},Tx={class:"flex items-start justify-between"},Cx={class:"flex items-center space-x-4"},Ox={class:"flex-shrink-0"},Ax={class:"h-16 w-16 rounded-full bg-gray-300 flex items-center justify-center"},Px={class:"text-xl font-medium text-gray-700"},Rx={class:"flex-1"},Dx={class:"text-lg font-medium text-gray-900"},Mx={class:"mt-1 space-y-1"},jx={key:0,class:"text-sm text-gray-600"},Ix={key:1,class:"text-sm text-gray-600"},Lx={class:"mt-2 flex items-center"},Fx={class:"py-1"},Nx=["onClick"],Ux=["onClick"],Bx=["onClick"],Hx={key:0,class:"col-span-full"},qx={class:"text-center py-12"},Vx={class:"mt-6"},Wx={class:"grid grid-cols-2 gap-4"},Kx={key:0},zx={class:"flex items-center"},Gx={class:"flex justify-end space-x-3 pt-4"},Yx=["disabled"],Jx={class:"space-y-6"},Qx={class:"space-y-3"},Zx={class:"w-20 text-sm font-medium text-gray-700"},Xx={class:"flex items-center"},e2=["onUpdate:modelValue"],t2={key:0,class:"flex items-center space-x-2"},s2=["onUpdate:modelValue"],n2=["onUpdate:modelValue"],r2={class:"flex items-center justify-between mb-4"},i2={class:"space-y-3"},o2=["onUpdate:modelValue"],a2={class:"flex items-center"},l2=["onUpdate:modelValue"],c2={key:0,class:"flex items-center space-x-2"},u2=["onUpdate:modelValue"],d2=["onUpdate:modelValue"],f2=["onClick"],h2={class:"flex justify-end space-x-3 pt-4"},p2=["disabled"],m2=ke({__name:"Barbers",setup(e){const{addToast:t}=as(),s=U([]),n=U([]),r=U(!0),i=U(!1),o=U(!1),a=U(!1),l=U(null),d=U(null),u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=et({name:"",phone_number_work:"",phone_number_home:"",email:"",home_address:"",is_active:!0}),h=et({weeklySchedule:u.map(($,m)=>({dayOfWeek:m,isOff:!1,startTime:"09:00",endTime:"17:00"})),dateOverrides:[]}),p=$=>$.split(" ").map(m=>m[0]).join("").toUpperCase().slice(0,2),b=()=>{Object.assign(f,{name:"",phone_number_work:"",phone_number_home:"",email:"",home_address:"",is_active:!0})},v=()=>{h.weeklySchedule=u.map(($,m)=>({dayOfWeek:m,isOff:!1,startTime:"09:00",endTime:"17:00"})),h.dateOverrides=[]},g=()=>{l.value=null,b(),o.value=!0},E=$=>{l.value=$,Object.assign(f,{name:$.name,phone_number_work:$.phone_number_work||"",phone_number_home:$.phone_number_home||"",email:$.email||"",home_address:$.home_address||"",is_active:$.is_active}),o.value=!0},x=()=>{o.value=!1,l.value=null,b()},T=async $=>{d.value=$,v();const m=n.value.filter(w=>w.barber_id===$.id);m.forEach(w=>{if(w.day_of_week!==null){const A=w.day_of_week;h.weeklySchedule[A]={dayOfWeek:A,isOff:w.is_day_off,startTime:w.start_time||"09:00",endTime:w.end_time||"17:00"}}}),h.dateOverrides=m.filter(w=>w.specific_date_override).map(w=>({date:w.specific_date_override,isOff:w.is_day_off,startTime:w.override_start_time||"09:00",endTime:w.override_end_time||"17:00"})),a.value=!0},D=()=>{a.value=!1,d.value=null,v()},J=()=>{h.dateOverrides.push({date:"",isOff:!1,startTime:"09:00",endTime:"17:00"})},M=$=>{h.dateOverrides.splice($,1)},S=async()=>{if(!f.name.trim()){t({type:"error",title:"Validation Error",message:"Barber name is required"});return}i.value=!0;try{const $={name:f.name.trim(),phone_number_work:f.phone_number_work.trim()||null,phone_number_home:f.phone_number_home.trim()||null,email:f.email.trim()||null,home_address:f.home_address.trim()||null,is_active:f.is_active};if(l.value){const{error:m}=await de.from("barbers").update($).eq("id",l.value.id);if(m)throw m;t({type:"success",title:"Success",message:"Barber updated successfully"})}else{const{error:m}=await de.from("barbers").insert($);if(m)throw m;t({type:"success",title:"Success",message:"Barber created successfully"})}x(),await z()}catch($){t({type:"error",title:"Error",message:$.message||"Failed to save barber"})}finally{i.value=!1}},F=async()=>{if(d.value){i.value=!0;try{await de.from("barber_schedules").delete().eq("barber_id",d.value.id);const $=[];if(h.weeklySchedule.forEach((m,w)=>{$.push({barber_id:d.value.id,day_of_week:w,start_time:m.isOff?null:m.startTime,end_time:m.isOff?null:m.endTime,is_day_off:m.isOff})}),h.dateOverrides.forEach(m=>{m.date&&$.push({barber_id:d.value.id,specific_date_override:m.date,override_start_time:m.isOff?null:m.startTime,override_end_time:m.isOff?null:m.endTime,is_day_off:m.isOff})}),$.length>0){const{error:m}=await de.from("barber_schedules").insert($);if(m)throw m}t({type:"success",title:"Success",message:"Schedule saved successfully"}),D(),await te()}catch($){t({type:"error",title:"Error",message:$.message||"Failed to save schedule"})}finally{i.value=!1}}},R=async $=>{try{const{error:m}=await de.from("barbers").update({is_active:!$.is_active}).eq("id",$.id);if(m)throw m;t({type:"success",title:"Success",message:`Barber ${$.is_active?"deactivated":"activated"} successfully`}),await z()}catch{t({type:"error",title:"Error",message:"Failed to update barber status"})}},z=async()=>{try{const{data:$,error:m}=await de.from("barbers").select("*").order("name");if(m)throw m;s.value=$||[]}catch{t({type:"error",title:"Error",message:"Failed to fetch barbers"})}},te=async()=>{try{const{data:$,error:m}=await de.from("barber_schedules").select("*");if(m)throw m;n.value=$||[]}catch($){console.error("Error fetching schedules:",$)}};return Fe(async()=>{r.value=!0,await Promise.all([z(),te()]),r.value=!1}),($,m)=>{var w;return C(),O("div",kx,[c("div",Sx,[m[7]||(m[7]=c("h1",{class:"text-2xl font-bold text-gray-900"},"Barbers",-1)),c("button",{onClick:g,class:"btn btn-primary"},[H(B(ts),{class:"w-4 h-4 mr-2"}),m[6]||(m[6]=De(" Add Barber "))])]),c("div",$x,[(C(!0),O(oe,null,ge(s.value,A=>(C(),O("div",{key:A.id,class:Ce(["card hover:shadow-md transition-shadow",!A.is_active&&"opacity-60"])},[c("div",Ex,[c("div",Tx,[c("div",Cx,[c("div",Ox,[c("div",Ax,[c("span",Px,P(p(A.name)),1)])]),c("div",Rx,[c("h3",Dx,P(A.name),1),c("div",Mx,[A.phone_number_work?(C(),O("div",jx," Work: "+P(A.phone_number_work),1)):Re("",!0),A.email?(C(),O("div",Ix,P(A.email),1)):Re("",!0)]),c("div",Lx,[c("div",{class:Ce(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",A.is_active?"bg-success-100 text-success-800":"bg-gray-100 text-gray-800"])},P(A.is_active?"Active":"Inactive"),3)])])]),H(B(Ud),{as:"div",class:"relative"},{default:_e(()=>[H(B(Bd),{class:"p-1 text-gray-400 hover:text-gray-600"},{default:_e(()=>[H(B(ad),{class:"w-5 h-5"})]),_:1}),H(vu,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:_e(()=>[H(B(Hd),{class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},{default:_e(()=>[c("div",Fx,[H(B(Wn),null,{default:_e(({active:ne})=>[c("button",{onClick:re=>E(A),class:Ce([ne?"bg-gray-100 text-gray-900":"text-gray-700","block w-full text-left px-4 py-2 text-sm"])}," Edit Barber ",10,Nx)]),_:2},1024),H(B(Wn),null,{default:_e(({active:ne})=>[c("button",{onClick:re=>T(A),class:Ce([ne?"bg-gray-100 text-gray-900":"text-gray-700","block w-full text-left px-4 py-2 text-sm"])}," Manage Schedule ",10,Ux)]),_:2},1024),H(B(Wn),null,{default:_e(({active:ne})=>[c("button",{onClick:re=>R(A),class:Ce([ne?"bg-gray-100 text-gray-900":"text-gray-700","block w-full text-left px-4 py-2 text-sm"])},P(A.is_active?"Deactivate":"Activate"),11,Bx)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024)])])],2))),128)),s.value.length===0&&!r.value?(C(),O("div",Hx,[c("div",qx,[H(B(aa),{class:"mx-auto h-12 w-12 text-gray-400"}),m[9]||(m[9]=c("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No barbers",-1)),m[10]||(m[10]=c("p",{class:"mt-1 text-sm text-gray-500"},"Get started by adding your first barber.",-1)),c("div",Vx,[c("button",{onClick:g,class:"btn btn-primary"},[H(B(ts),{class:"w-4 h-4 mr-2"}),m[8]||(m[8]=De(" Add Barber "))])])])])):Re("",!0)]),H($s,{"is-open":o.value,title:l.value?"Edit Barber":"Add New Barber",onClose:x},{default:_e(()=>[c("form",{onSubmit:is(S,["prevent"]),class:"space-y-4"},[c("div",null,[m[11]||(m[11]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Full Name * ",-1)),ce(c("input",{"onUpdate:modelValue":m[0]||(m[0]=A=>f.name=A),type:"text",required:"",class:"input",placeholder:"Enter barber's full name"},null,512),[[ye,f.name]])]),c("div",Wx,[c("div",null,[m[12]||(m[12]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Work Phone ",-1)),ce(c("input",{"onUpdate:modelValue":m[1]||(m[1]=A=>f.phone_number_work=A),type:"tel",class:"input",placeholder:"(555) 123-4567"},null,512),[[ye,f.phone_number_work]])]),c("div",null,[m[13]||(m[13]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Personal Phone ",-1)),ce(c("input",{"onUpdate:modelValue":m[2]||(m[2]=A=>f.phone_number_home=A),type:"tel",class:"input",placeholder:"(555) 123-4567"},null,512),[[ye,f.phone_number_home]])])]),c("div",null,[m[14]||(m[14]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Email Address ",-1)),ce(c("input",{"onUpdate:modelValue":m[3]||(m[3]=A=>f.email=A),type:"email",class:"input",placeholder:"barber@example.com"},null,512),[[ye,f.email]])]),c("div",null,[m[15]||(m[15]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Home Address ",-1)),ce(c("textarea",{"onUpdate:modelValue":m[4]||(m[4]=A=>f.home_address=A),rows:"3",class:"textarea",placeholder:"Enter home address..."},null,512),[[ye,f.home_address]])]),l.value?(C(),O("div",Kx,[c("label",zx,[ce(c("input",{"onUpdate:modelValue":m[5]||(m[5]=A=>f.is_active=A),type:"checkbox",class:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,512),[[Fn,f.is_active]]),m[16]||(m[16]=c("span",{class:"ml-2 text-sm text-gray-700"},"Barber is active",-1))])])):Re("",!0),c("div",Gx,[c("button",{type:"button",onClick:x,class:"btn btn-outline"}," Cancel "),c("button",{type:"submit",disabled:i.value,class:"btn btn-primary"},P(i.value?"Saving...":l.value?"Update":"Create"),9,Yx)])],32)]),_:1},8,["is-open","title"]),H($s,{"is-open":a.value,title:`${(w=d.value)==null?void 0:w.name} - Schedule Management`,size:"lg",onClose:D},{default:_e(()=>[c("div",Jx,[c("div",null,[m[19]||(m[19]=c("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Weekly Schedule",-1)),c("div",Qx,[(C(),O(oe,null,ge(u,(A,ne)=>c("div",{key:A,class:"flex items-center space-x-4 p-3 border border-gray-200 rounded-lg"},[c("div",Zx,P(A),1),c("label",Xx,[ce(c("input",{"onUpdate:modelValue":re=>h.weeklySchedule[ne].isOff=re,type:"checkbox",class:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,8,e2),[[Fn,h.weeklySchedule[ne].isOff]]),m[17]||(m[17]=c("span",{class:"ml-2 text-sm text-gray-700"},"Day Off",-1))]),h.weeklySchedule[ne].isOff?Re("",!0):(C(),O("div",t2,[ce(c("input",{"onUpdate:modelValue":re=>h.weeklySchedule[ne].startTime=re,type:"time",class:"input text-sm"},null,8,s2),[[ye,h.weeklySchedule[ne].startTime]]),m[18]||(m[18]=c("span",{class:"text-gray-500"},"to",-1)),ce(c("input",{"onUpdate:modelValue":re=>h.weeklySchedule[ne].endTime=re,type:"time",class:"input text-sm"},null,8,n2),[[ye,h.weeklySchedule[ne].endTime]])]))])),64))])]),c("div",null,[c("div",r2,[m[21]||(m[21]=c("h3",{class:"text-lg font-medium text-gray-900"},"Date Overrides",-1)),c("button",{onClick:J,class:"btn btn-outline btn-sm"},[H(B(ts),{class:"w-4 h-4 mr-1"}),m[20]||(m[20]=De(" Add Override "))])]),c("div",i2,[(C(!0),O(oe,null,ge(h.dateOverrides,(A,ne)=>(C(),O("div",{key:ne,class:"flex items-center space-x-4 p-3 border border-gray-200 rounded-lg"},[ce(c("input",{"onUpdate:modelValue":re=>A.date=re,type:"date",class:"input text-sm"},null,8,o2),[[ye,A.date]]),c("label",a2,[ce(c("input",{"onUpdate:modelValue":re=>A.isOff=re,type:"checkbox",class:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"},null,8,l2),[[Fn,A.isOff]]),m[22]||(m[22]=c("span",{class:"ml-2 text-sm text-gray-700"},"Full Day Off",-1))]),A.isOff?Re("",!0):(C(),O("div",c2,[ce(c("input",{"onUpdate:modelValue":re=>A.startTime=re,type:"time",class:"input text-sm"},null,8,u2),[[ye,A.startTime]]),m[23]||(m[23]=c("span",{class:"text-gray-500"},"to",-1)),ce(c("input",{"onUpdate:modelValue":re=>A.endTime=re,type:"time",class:"input text-sm"},null,8,d2),[[ye,A.endTime]])])),c("button",{onClick:re=>M(ne),class:"text-error-600 hover:text-error-800"},[H(B(la),{class:"w-5 h-5"})],8,f2)]))),128))])]),c("div",h2,[c("button",{onClick:D,class:"btn btn-outline"}," Cancel "),c("button",{onClick:F,disabled:i.value,class:"btn btn-primary"},P(i.value?"Saving...":"Save Schedule"),9,p2)])])]),_:1},8,["is-open","title"])])}}}),g2={class:"space-y-6"},v2={class:"flex items-center justify-between"},y2={class:"bg-white p-4 rounded-lg shadow-sm border border-gray-200"},b2={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},_2=["value"],w2={class:"mt-4 flex items-center justify-between"},x2={class:"text-sm text-gray-600"},k2={class:"text-lg font-semibold text-gray-900"},S2={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},$2={class:"overflow-x-auto"},E2={class:"min-w-full divide-y divide-gray-200"},T2={class:"bg-white divide-y divide-gray-200"},C2={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},O2={class:"px-6 py-4 whitespace-nowrap"},A2={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},P2={class:"px-6 py-4 text-sm text-gray-900"},R2={class:"max-w-xs truncate"},D2={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},M2={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},j2={key:0,class:"flex items-center"},I2=["onClick"],L2={key:1,class:"text-gray-400"},F2={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},N2={class:"flex items-center justify-end space-x-2"},U2=["onClick"],B2=["onClick"],H2={class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200"},q2={class:"flex-1 flex justify-between sm:hidden"},V2=["disabled"],W2=["disabled"],K2={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},z2={class:"text-sm text-gray-700"},G2={class:"font-medium"},Y2={class:"font-medium"},J2={class:"font-medium"},Q2={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},Z2=["disabled"],X2=["onClick"],ek=["disabled"],tk={class:"grid grid-cols-2 gap-4"},sk=["value"],nk={class:"relative"},rk={class:"flex justify-end space-x-3 pt-4"},ik=["disabled"],Ji=10,ok=ke({__name:"Expenses",setup(e){const{addToast:t}=as(),s=U([]),n=U(!0),r=U(!1),i=U(1),o=U(!1),a=U(null),l=U(),d=["Rent","Utilities","Supplies","Equipment","Maintenance","Marketing","Insurance","Professional Services","Other"],u=et({category:"",fromDate:"",toDate:""}),f=et({expense_date:"",category:"",description:"",amount:0,bill_image_url:""}),h=K(()=>{let m=s.value;return u.category&&(m=m.filter(w=>w.category===u.category)),u.fromDate&&(m=m.filter(w=>w.expense_date>=u.fromDate)),u.toDate&&(m=m.filter(w=>w.expense_date<=u.toDate)),m.sort((w,A)=>new Date(A.expense_date).getTime()-new Date(w.expense_date).getTime())}),p=K(()=>h.value.reduce((m,w)=>m+w.amount,0)),b=K(()=>Math.ceil(h.value.length/Ji)),v=K(()=>(i.value-1)*Ji),g=K(()=>v.value+Ji),E=K(()=>h.value.slice(v.value,g.value)),x=K(()=>{const m=[],w=Math.max(1,i.value-2),A=Math.min(b.value,i.value+2);for(let ne=w;ne<=A;ne++)m.push(ne);return m}),T=()=>{Object.assign(f,{expense_date:Ne(new Date,"yyyy-MM-dd"),category:"",description:"",amount:0,bill_image_url:""})},D=()=>{Object.assign(u,{category:"",fromDate:"",toDate:""}),i.value=1},J=()=>{a.value=null,T(),o.value=!0},M=m=>{a.value=m,Object.assign(f,{expense_date:m.expense_date,category:m.category,description:m.description,amount:m.amount,bill_image_url:m.bill_image_url||""}),o.value=!0},S=()=>{o.value=!1,a.value=null,T(),l.value&&(l.value.value="")},F=async m=>{var ne;const A=(ne=m.target.files)==null?void 0:ne[0];if(A){if(A.size>10*1024*1024){t({type:"error",title:"File too large",message:"Please select a file smaller than 10MB"});return}try{const re=A.name.split(".").pop(),W=`expense-receipts/${`${Date.now()}.${re}`}`,{error:Oe}=await de.storage.from("receipts").upload(W,A);if(Oe)throw Oe;const{data:V}=de.storage.from("receipts").getPublicUrl(W);f.bill_image_url=V.publicUrl,t({type:"success",title:"Success",message:"Receipt uploaded successfully"})}catch(re){t({type:"error",title:"Upload failed",message:re.message||"Failed to upload receipt"})}}},R=m=>{window.open(m,"_blank")},z=async()=>{if(!f.expense_date||!f.category||!f.description||f.amount<=0){t({type:"error",title:"Validation Error",message:"Please fill in all required fields with valid values"});return}r.value=!0;try{const m={expense_date:f.expense_date,category:f.category,description:f.description.trim(),amount:f.amount,bill_image_url:f.bill_image_url||null};if(a.value){const{error:w}=await de.from("expenses").update(m).eq("id",a.value.id);if(w)throw w;t({type:"success",title:"Success",message:"Expense updated successfully"})}else{const{error:w}=await de.from("expenses").insert(m);if(w)throw w;t({type:"success",title:"Success",message:"Expense created successfully"})}S(),await $()}catch(m){t({type:"error",title:"Error",message:m.message||"Failed to save expense"})}finally{r.value=!1}},te=async m=>{if(confirm("Are you sure you want to delete this expense?"))try{const{error:w}=await de.from("expenses").delete().eq("id",m.id);if(w)throw w;if(m.bill_image_url){const A=m.bill_image_url.split("/").pop();A&&await de.storage.from("receipts").remove([`expense-receipts/${A}`])}t({type:"success",title:"Success",message:"Expense deleted successfully"}),await $()}catch{t({type:"error",title:"Error",message:"Failed to delete expense"})}},$=async()=>{try{const{data:m,error:w}=await de.from("expenses").select("*").order("expense_date",{ascending:!1});if(w)throw w;s.value=m||[]}catch{t({type:"error",title:"Error",message:"Failed to fetch expenses"})}};return Fe(async()=>{n.value=!0,await $(),n.value=!1}),(m,w)=>(C(),O("div",g2,[c("div",v2,[w[12]||(w[12]=c("h1",{class:"text-2xl font-bold text-gray-900"},"Expenses",-1)),c("button",{onClick:J,class:"btn btn-primary"},[H(B(ts),{class:"w-4 h-4 mr-2"}),w[11]||(w[11]=De(" Add Expense "))])]),c("div",y2,[c("div",b2,[c("div",null,[w[14]||(w[14]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Category ",-1)),ce(c("select",{"onUpdate:modelValue":w[0]||(w[0]=A=>u.category=A),class:"select"},[w[13]||(w[13]=c("option",{value:""},"All Categories",-1)),(C(),O(oe,null,ge(d,A=>c("option",{key:A,value:A},P(A),9,_2)),64))],512),[[Wt,u.category]])]),c("div",null,[w[15]||(w[15]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," From Date ",-1)),ce(c("input",{"onUpdate:modelValue":w[1]||(w[1]=A=>u.fromDate=A),type:"date",class:"input"},null,512),[[ye,u.fromDate]])]),c("div",null,[w[16]||(w[16]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," To Date ",-1)),ce(c("input",{"onUpdate:modelValue":w[2]||(w[2]=A=>u.toDate=A),type:"date",class:"input"},null,512),[[ye,u.toDate]])]),c("div",{class:"flex items-end"},[c("button",{onClick:D,class:"btn btn-outline w-full"}," Clear Filters ")])]),c("div",w2,[c("div",x2,P(h.value.length)+" expense"+P(h.value.length!==1?"s":""),1),c("div",k2," Total: $"+P(p.value.toFixed(2)),1)])]),c("div",S2,[c("div",$2,[c("table",E2,[w[17]||(w[17]=c("thead",{class:"bg-gray-50"},[c("tr",null,[c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Category "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Amount "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Receipt "),c("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),c("tbody",T2,[(C(!0),O(oe,null,ge(E.value,A=>(C(),O("tr",{key:A.id,class:"hover:bg-gray-50"},[c("td",C2,P(B(Ne)(B(lt)(A.expense_date),"MMM d, yyyy")),1),c("td",O2,[c("span",A2,P(A.category),1)]),c("td",P2,[c("div",R2,P(A.description),1)]),c("td",D2," $"+P(A.amount.toFixed(2)),1),c("td",M2,[A.bill_image_url?(C(),O("div",j2,[c("button",{onClick:ne=>R(A.bill_image_url),class:"text-primary-600 hover:text-primary-900"},[H(B(od),{class:"w-5 h-5"})],8,I2)])):(C(),O("span",L2,"No receipt"))]),c("td",F2,[c("div",N2,[c("button",{onClick:ne=>M(A),class:"text-secondary-600 hover:text-secondary-900"}," Edit ",8,U2),c("button",{onClick:ne=>te(A),class:"text-error-600 hover:text-error-900"}," Delete ",8,B2)])])]))),128))])])]),c("div",H2,[c("div",q2,[c("button",{onClick:w[3]||(w[3]=A=>i.value--),disabled:i.value===1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"}," Previous ",8,V2),c("button",{onClick:w[4]||(w[4]=A=>i.value++),disabled:i.value>=b.value,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"}," Next ",8,W2)]),c("div",K2,[c("div",null,[c("p",z2,[w[18]||(w[18]=De(" Showing ")),c("span",G2,P(v.value+1),1),w[19]||(w[19]=De(" to ")),c("span",Y2,P(Math.min(g.value,h.value.length)),1),w[20]||(w[20]=De(" of ")),c("span",J2,P(h.value.length),1),w[21]||(w[21]=De(" results "))])]),c("div",null,[c("nav",Q2,[c("button",{onClick:w[5]||(w[5]=A=>i.value--),disabled:i.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},[H(B(bi),{class:"h-5 w-5"})],8,Z2),(C(!0),O(oe,null,ge(x.value,A=>(C(),O("button",{key:A,onClick:ne=>i.value=A,class:Ce(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",A===i.value?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"])},P(A),11,X2))),128)),c("button",{onClick:w[6]||(w[6]=A=>i.value++),disabled:i.value>=b.value,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},[H(B(_i),{class:"h-5 w-5"})],8,ek)])])])])]),H($s,{"is-open":o.value,title:a.value?"Edit Expense":"Add New Expense",onClose:S},{default:_e(()=>[c("form",{onSubmit:is(z,["prevent"]),class:"space-y-4"},[c("div",tk,[c("div",null,[w[22]||(w[22]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Date * ",-1)),ce(c("input",{"onUpdate:modelValue":w[7]||(w[7]=A=>f.expense_date=A),type:"date",required:"",class:"input"},null,512),[[ye,f.expense_date]])]),c("div",null,[w[24]||(w[24]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Category * ",-1)),ce(c("select",{"onUpdate:modelValue":w[8]||(w[8]=A=>f.category=A),required:"",class:"select"},[w[23]||(w[23]=c("option",{value:""},"Select category",-1)),(C(),O(oe,null,ge(d,A=>c("option",{key:A,value:A},P(A),9,sk)),64))],512),[[Wt,f.category]])])]),c("div",null,[w[26]||(w[26]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Amount * ",-1)),c("div",nk,[w[25]||(w[25]=c("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[c("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),ce(c("input",{"onUpdate:modelValue":w[9]||(w[9]=A=>f.amount=A),type:"number",step:"0.01",min:"0",required:"",class:"input pl-8",placeholder:"0.00"},null,512),[[ye,f.amount,void 0,{number:!0}]])])]),c("div",null,[w[27]||(w[27]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Description * ",-1)),ce(c("textarea",{"onUpdate:modelValue":w[10]||(w[10]=A=>f.description=A),rows:"3",required:"",class:"textarea",placeholder:"Describe the expense..."},null,512),[[ye,f.description]])]),c("div",null,[w[28]||(w[28]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Receipt Image ",-1)),c("input",{ref_key:"fileInput",ref:l,type:"file",accept:"image/*",onChange:F,class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"},null,544),w[29]||(w[29]=c("p",{class:"mt-1 text-sm text-gray-500"},"PNG, JPG, GIF up to 10MB",-1))]),c("div",rk,[c("button",{type:"button",onClick:S,class:"btn btn-outline"}," Cancel "),c("button",{type:"submit",disabled:r.value,class:"btn btn-primary"},P(r.value?"Saving...":a.value?"Update":"Create"),9,ik)])],32)]),_:1},8,["is-open","title"])]))}}),ak={class:"space-y-6"},lk={class:"flex items-center justify-between"},ck={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},uk={class:"flex"},dk={class:"bg-white p-4 rounded-lg shadow-sm border border-gray-200"},fk={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},hk=["value"],pk={class:"mt-4 flex items-center justify-between"},mk={class:"text-sm text-gray-600"},gk={class:"text-lg font-semibold text-gray-900"},vk={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},yk={class:"overflow-x-auto"},bk={class:"min-w-full divide-y divide-gray-200"},_k={class:"bg-white divide-y divide-gray-200"},wk={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},xk={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},kk={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Sk={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},$k={class:"px-6 py-4 text-sm text-gray-500"},Ek={class:"max-w-xs truncate"},Tk={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Ck={class:"flex items-center justify-end space-x-2"},Ok=["onClick"],Ak=["onClick"],Pk={class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200"},Rk={class:"flex-1 flex justify-between sm:hidden"},Dk=["disabled"],Mk=["disabled"],jk={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Ik={class:"text-sm text-gray-700"},Lk={class:"font-medium"},Fk={class:"font-medium"},Nk={class:"font-medium"},Uk={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},Bk=["disabled"],Hk=["onClick"],qk=["disabled"],Vk={class:"grid grid-cols-2 gap-4"},Wk=["value"],Kk={class:"grid grid-cols-2 gap-4"},zk={class:"relative"},Gk={class:"flex justify-end space-x-3 pt-4"},Yk=["disabled"],Qi=10,Jk=ke({__name:"DailyCollections",setup(e){const{addToast:t}=as(),s=U([]),n=U([]),r=U(!0),i=U(!1),o=U(1),a=U(!1),l=U(null),d=et({barberId:"",fromDate:"",toDate:""}),u=et({barber_id:"",collection_date:"",total_amount_manually_entered:0,number_of_appointments:null,notes:""}),f=K(()=>n.value.filter($=>$.is_active)),h=K(()=>{let $=s.value;return d.barberId&&($=$.filter(m=>m.barber_id===d.barberId)),d.fromDate&&($=$.filter(m=>m.collection_date>=d.fromDate)),d.toDate&&($=$.filter(m=>m.collection_date<=d.toDate)),$.sort((m,w)=>new Date(w.collection_date).getTime()-new Date(m.collection_date).getTime())}),p=K(()=>h.value.reduce(($,m)=>$+m.total_amount_manually_entered,0)),b=K(()=>Math.ceil(h.value.length/Qi)),v=K(()=>(o.value-1)*Qi),g=K(()=>v.value+Qi),E=K(()=>h.value.slice(v.value,g.value)),x=K(()=>{const $=[],m=Math.max(1,o.value-2),w=Math.min(b.value,o.value+2);for(let A=m;A<=w;A++)$.push(A);return $}),T=()=>{Object.assign(u,{barber_id:"",collection_date:Ne(new Date,"yyyy-MM-dd"),total_amount_manually_entered:0,number_of_appointments:null,notes:""})},D=()=>{Object.assign(d,{barberId:"",fromDate:"",toDate:""}),o.value=1},J=()=>{l.value=null,T(),a.value=!0},M=$=>{l.value=$,Object.assign(u,{barber_id:$.barber_id,collection_date:$.collection_date,total_amount_manually_entered:$.total_amount_manually_entered,number_of_appointments:$.number_of_appointments,notes:$.notes||""}),a.value=!0},S=()=>{a.value=!1,l.value=null,T()},F=async()=>{if(!u.barber_id||!u.collection_date||u.total_amount_manually_entered<=0){t({type:"error",title:"Validation Error",message:"Please fill in all required fields with valid values"});return}i.value=!0;try{const $={barber_id:u.barber_id,collection_date:u.collection_date,total_amount_manually_entered:u.total_amount_manually_entered,number_of_appointments:u.number_of_appointments,notes:u.notes.trim()||null};if(l.value){const{error:m}=await de.from("daily_collections").update($).eq("id",l.value.id);if(m)throw m;t({type:"success",title:"Success",message:"Collection updated successfully"})}else{const{error:m}=await de.from("daily_collections").insert($);if(m)throw m;t({type:"success",title:"Success",message:"Collection created successfully"})}S(),await z()}catch($){$.code==="23505"?t({type:"error",title:"Duplicate Entry",message:"A collection for this barber and date already exists"}):t({type:"error",title:"Error",message:$.message||"Failed to save collection"})}finally{i.value=!1}},R=async $=>{if(confirm("Are you sure you want to delete this collection entry?"))try{const{error:m}=await de.from("daily_collections").delete().eq("id",$.id);if(m)throw m;t({type:"success",title:"Success",message:"Collection deleted successfully"}),await z()}catch{t({type:"error",title:"Error",message:"Failed to delete collection"})}},z=async()=>{try{const{data:$,error:m}=await de.from("daily_collections").select(`
        *,
        barber:barbers(*)
      `).order("collection_date",{ascending:!1});if(m)throw m;s.value=$||[]}catch{t({type:"error",title:"Error",message:"Failed to fetch collections"})}},te=async()=>{try{const{data:$,error:m}=await de.from("barbers").select("*").order("name");if(m)throw m;n.value=$||[]}catch($){console.error("Error fetching barbers:",$)}};return Fe(async()=>{r.value=!0,await Promise.all([z(),te()]),r.value=!1}),($,m)=>(C(),O("div",ak,[c("div",lk,[m[13]||(m[13]=c("h1",{class:"text-2xl font-bold text-gray-900"},"Daily Collections (Manual Entry)",-1)),c("button",{onClick:J,class:"btn btn-primary"},[H(B(ts),{class:"w-4 h-4 mr-2"}),m[12]||(m[12]=De(" Add Collection "))])]),c("div",ck,[c("div",uk,[H(B(ld),{class:"h-5 w-5 text-blue-400 mt-0.5"}),m[14]||(m[14]=c("div",{class:"ml-3"},[c("h3",{class:"text-sm font-medium text-blue-800"},"Manual Collection Entry"),c("div",{class:"mt-2 text-sm text-blue-700"},[c("p",null,"This section allows you to manually record daily collection totals as a safety net or transitional tool. The primary revenue tracking is automatically calculated from completed appointments.")])],-1))])]),c("div",dk,[c("div",fk,[c("div",null,[m[16]||(m[16]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Barber ",-1)),ce(c("select",{"onUpdate:modelValue":m[0]||(m[0]=w=>d.barberId=w),class:"select"},[m[15]||(m[15]=c("option",{value:""},"All Barbers",-1)),(C(!0),O(oe,null,ge(n.value,w=>(C(),O("option",{key:w.id,value:w.id},P(w.name),9,hk))),128))],512),[[Wt,d.barberId]])]),c("div",null,[m[17]||(m[17]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," From Date ",-1)),ce(c("input",{"onUpdate:modelValue":m[1]||(m[1]=w=>d.fromDate=w),type:"date",class:"input"},null,512),[[ye,d.fromDate]])]),c("div",null,[m[18]||(m[18]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," To Date ",-1)),ce(c("input",{"onUpdate:modelValue":m[2]||(m[2]=w=>d.toDate=w),type:"date",class:"input"},null,512),[[ye,d.toDate]])]),c("div",{class:"flex items-end"},[c("button",{onClick:D,class:"btn btn-outline w-full"}," Clear Filters ")])]),c("div",pk,[c("div",mk,P(h.value.length)+" collection"+P(h.value.length!==1?"s":""),1),c("div",gk," Total: $"+P(p.value.toFixed(2)),1)])]),c("div",vk,[c("div",yk,[c("table",bk,[m[19]||(m[19]=c("thead",{class:"bg-gray-50"},[c("tr",null,[c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Barber "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Amount "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Appointments "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Notes "),c("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),c("tbody",_k,[(C(!0),O(oe,null,ge(E.value,w=>{var A;return C(),O("tr",{key:w.id,class:"hover:bg-gray-50"},[c("td",wk,P(B(Ne)(B(lt)(w.collection_date),"MMM d, yyyy")),1),c("td",xk,P((A=w.barber)==null?void 0:A.name),1),c("td",kk," $"+P(w.total_amount_manually_entered.toFixed(2)),1),c("td",Sk,P(w.number_of_appointments||"Not specified"),1),c("td",$k,[c("div",Ek,P(w.notes||"No notes"),1)]),c("td",Tk,[c("div",Ck,[c("button",{onClick:ne=>M(w),class:"text-secondary-600 hover:text-secondary-900"}," Edit ",8,Ok),c("button",{onClick:ne=>R(w),class:"text-error-600 hover:text-error-900"}," Delete ",8,Ak)])])])}),128))])])]),c("div",Pk,[c("div",Rk,[c("button",{onClick:m[3]||(m[3]=w=>o.value--),disabled:o.value===1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"}," Previous ",8,Dk),c("button",{onClick:m[4]||(m[4]=w=>o.value++),disabled:o.value>=b.value,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"}," Next ",8,Mk)]),c("div",jk,[c("div",null,[c("p",Ik,[m[20]||(m[20]=De(" Showing ")),c("span",Lk,P(v.value+1),1),m[21]||(m[21]=De(" to ")),c("span",Fk,P(Math.min(g.value,h.value.length)),1),m[22]||(m[22]=De(" of ")),c("span",Nk,P(h.value.length),1),m[23]||(m[23]=De(" results "))])]),c("div",null,[c("nav",Uk,[c("button",{onClick:m[5]||(m[5]=w=>o.value--),disabled:o.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},[H(B(bi),{class:"h-5 w-5"})],8,Bk),(C(!0),O(oe,null,ge(x.value,w=>(C(),O("button",{key:w,onClick:A=>o.value=w,class:Ce(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",w===o.value?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"])},P(w),11,Hk))),128)),c("button",{onClick:m[6]||(m[6]=w=>o.value++),disabled:o.value>=b.value,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},[H(B(_i),{class:"h-5 w-5"})],8,qk)])])])])]),H($s,{"is-open":a.value,title:l.value?"Edit Collection":"Add Daily Collection",onClose:S},{default:_e(()=>[c("form",{onSubmit:is(F,["prevent"]),class:"space-y-4"},[c("div",Vk,[c("div",null,[m[25]||(m[25]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Barber * ",-1)),ce(c("select",{"onUpdate:modelValue":m[7]||(m[7]=w=>u.barber_id=w),required:"",class:"select"},[m[24]||(m[24]=c("option",{value:""},"Select a barber",-1)),(C(!0),O(oe,null,ge(f.value,w=>(C(),O("option",{key:w.id,value:w.id},P(w.name),9,Wk))),128))],512),[[Wt,u.barber_id]])]),c("div",null,[m[26]||(m[26]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Date * ",-1)),ce(c("input",{"onUpdate:modelValue":m[8]||(m[8]=w=>u.collection_date=w),type:"date",required:"",class:"input"},null,512),[[ye,u.collection_date]])])]),c("div",Kk,[c("div",null,[m[28]||(m[28]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Total Amount * ",-1)),c("div",zk,[m[27]||(m[27]=c("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[c("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),ce(c("input",{"onUpdate:modelValue":m[9]||(m[9]=w=>u.total_amount_manually_entered=w),type:"number",step:"0.01",min:"0",required:"",class:"input pl-8",placeholder:"0.00"},null,512),[[ye,u.total_amount_manually_entered,void 0,{number:!0}]])])]),c("div",null,[m[29]||(m[29]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Number of Appointments ",-1)),ce(c("input",{"onUpdate:modelValue":m[10]||(m[10]=w=>u.number_of_appointments=w),type:"number",min:"0",class:"input",placeholder:"Optional"},null,512),[[ye,u.number_of_appointments,void 0,{number:!0}]])])]),c("div",null,[m[30]||(m[30]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Notes ",-1)),ce(c("textarea",{"onUpdate:modelValue":m[11]||(m[11]=w=>u.notes=w),rows:"3",class:"textarea",placeholder:"Optional notes about this collection..."},null,512),[[ye,u.notes]])]),c("div",Gk,[c("button",{type:"button",onClick:S,class:"btn btn-outline"}," Cancel "),c("button",{type:"submit",disabled:i.value,class:"btn btn-primary"},P(i.value?"Saving...":l.value?"Update":"Create"),9,Yk)])],32)]),_:1},8,["is-open","title"])]))}}),Qk={class:"space-y-6"},Zk={class:"bg-white p-4 rounded-lg shadow-sm border border-gray-200"},Xk={class:"flex items-center space-x-4"},eS={class:"flex space-x-2"},tS=["onClick"],sS={class:"bg-white p-4 rounded-lg shadow-sm border border-gray-200"},nS={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},rS={key:0},iS=["value"],oS={key:1},aS=["value"],lS={class:"flex items-end"},cS=["disabled"],uS={key:0,class:"space-y-6"},dS={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},fS={class:"card"},hS={class:"card-content"},pS={class:"flex items-center"},mS={class:"flex-shrink-0"},gS={class:"ml-4"},vS={class:"text-2xl font-bold text-gray-900"},yS={key:0,class:"card"},bS={class:"card-content"},_S={class:"flex items-center"},wS={class:"flex-shrink-0"},xS={class:"ml-4"},kS={class:"text-2xl font-bold text-gray-900"},SS={key:1,class:"card"},$S={class:"card-content"},ES={class:"flex items-center"},TS={class:"flex-shrink-0"},CS={class:"ml-4"},OS={class:"text-sm font-medium text-gray-500"},AS={class:"text-2xl font-bold text-gray-900"},PS={key:2,class:"card"},RS={class:"card-content"},DS={class:"flex items-center"},MS={class:"flex-shrink-0"},jS={class:"ml-4"},IS={class:"text-2xl font-bold text-gray-900"},LS={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},FS={class:"px-4 py-3 border-b border-gray-200"},NS={class:"text-lg font-medium text-gray-900"},US={class:"overflow-x-auto"},BS={key:0,class:"min-w-full divide-y divide-gray-200"},HS={class:"bg-white divide-y divide-gray-200"},qS={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},VS={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},WS={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},KS={class:"px-6 py-4 text-sm text-gray-900"},zS={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},GS={key:1,class:"min-w-full divide-y divide-gray-200"},YS={class:"bg-white divide-y divide-gray-200"},JS={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},QS={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ZS={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},XS={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},e$={class:"px-6 py-4 text-sm text-gray-500"},t$={key:2,class:"min-w-full divide-y divide-gray-200"},s$={class:"bg-white divide-y divide-gray-200"},n$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},r$={class:"px-6 py-4 whitespace-nowrap"},i$={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},o$={class:"px-6 py-4 text-sm text-gray-900"},a$={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},l$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},c$={key:0,class:"flex items-center"},u$=["onClick"],d$={key:1,class:"text-gray-400"},f$={key:1,class:"text-center py-12"},h$=ke({__name:"Reports",setup(e){const{addToast:t}=as(),s=U([]),n=U([]),r=U(!1),i=U(!1),o=U("appointments"),a=[{label:"Collections from Appointments",value:"appointments"},{label:"Manual Collections",value:"manual"},{label:"Expenses",value:"expenses"}],l=["Rent","Utilities","Supplies","Equipment","Maintenance","Marketing","Insurance","Professional Services","Other"],d=et({barberId:"",category:"",fromDate:"",toDate:""}),u=K(()=>o.value==="appointments"?s.value.reduce((v,g)=>v+(g.total_amount||0),0):o.value==="manual"?s.value.reduce((v,g)=>v+g.total_amount_manually_entered,0):s.value.reduce((v,g)=>v+g.amount,0)),f=K(()=>s.value.length===0?0:u.value/s.value.length),h=async()=>{r.value=!0,i.value=!0;try{let v,g;o.value==="appointments"?(v=de.from("appointments").select(`
          *,
          client:clients(*),
          barber:barbers(*),
          services:appointment_services(
            *,
            service:services(*)
          )
        `).eq("status","completed").not("total_amount","is",null),g="start_time"):o.value==="manual"?(v=de.from("daily_collections").select(`
          *,
          barber:barbers(*)
        `),g="collection_date"):(v=de.from("expenses").select("*"),g="expense_date"),d.barberId&&o.value!=="expenses"&&(v=v.eq("barber_id",d.barberId)),d.category&&o.value==="expenses"&&(v=v.eq("category",d.category)),d.fromDate&&(v=v.gte(g,d.fromDate)),d.toDate&&(v=v.lte(g,d.toDate)),v=v.order(g,{ascending:!1});const{data:E,error:x}=await v;if(x)throw x;s.value=E||[]}catch{t({type:"error",title:"Error",message:"Failed to generate report"})}finally{r.value=!1}},p=v=>{window.open(v,"_blank")},b=async()=>{try{const{data:v,error:g}=await de.from("barbers").select("*").order("name");if(g)throw g;n.value=v||[]}catch(v){console.error("Error fetching barbers:",v)}};return Fe(async()=>{await b()}),(v,g)=>{var E;return C(),O("div",Qk,[g[19]||(g[19]=c("div",{class:"flex items-center justify-between"},[c("h1",{class:"text-2xl font-bold text-gray-900"},"Reports")],-1)),c("div",Zk,[c("div",Xk,[g[4]||(g[4]=c("label",{class:"block text-sm font-medium text-gray-700"}," Report Type: ",-1)),c("div",eS,[(C(),O(oe,null,ge(a,x=>c("button",{key:x.value,onClick:T=>o.value=x.value,class:Ce(["px-4 py-2 rounded-md text-sm font-medium transition-colors",o.value===x.value?"bg-primary-100 text-primary-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"])},P(x.label),11,tS)),64))])])]),c("div",sS,[c("div",nS,[o.value!=="expenses"?(C(),O("div",rS,[g[6]||(g[6]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Barber ",-1)),ce(c("select",{"onUpdate:modelValue":g[0]||(g[0]=x=>d.barberId=x),class:"select"},[g[5]||(g[5]=c("option",{value:""},"All Barbers",-1)),(C(!0),O(oe,null,ge(n.value,x=>(C(),O("option",{key:x.id,value:x.id},P(x.name),9,iS))),128))],512),[[Wt,d.barberId]])])):Re("",!0),o.value==="expenses"?(C(),O("div",oS,[g[8]||(g[8]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Category ",-1)),ce(c("select",{"onUpdate:modelValue":g[1]||(g[1]=x=>d.category=x),class:"select"},[g[7]||(g[7]=c("option",{value:""},"All Categories",-1)),(C(),O(oe,null,ge(l,x=>c("option",{key:x,value:x},P(x),9,aS)),64))],512),[[Wt,d.category]])])):Re("",!0),c("div",null,[g[9]||(g[9]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," From Date ",-1)),ce(c("input",{"onUpdate:modelValue":g[2]||(g[2]=x=>d.fromDate=x),type:"date",class:"input"},null,512),[[ye,d.fromDate]])]),c("div",null,[g[10]||(g[10]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," To Date ",-1)),ce(c("input",{"onUpdate:modelValue":g[3]||(g[3]=x=>d.toDate=x),type:"date",class:"input"},null,512),[[ye,d.toDate]])]),c("div",lS,[c("button",{onClick:h,class:"btn btn-primary w-full",disabled:r.value},P(r.value?"Generating...":"Generate Report"),9,cS)])])]),s.value.length>0?(C(),O("div",uS,[c("div",dS,[c("div",fS,[c("div",hS,[c("div",pS,[c("div",mS,[H(B(nr),{class:"h-8 w-8 text-success-600"})]),c("div",gS,[g[11]||(g[11]=c("div",{class:"text-sm font-medium text-gray-500"},"Total Amount",-1)),c("div",vS,"$"+P(u.value.toFixed(2)),1)])])])]),o.value==="appointments"?(C(),O("div",yS,[c("div",bS,[c("div",_S,[c("div",wS,[H(B(Wr),{class:"h-8 w-8 text-primary-600"})]),c("div",xS,[g[12]||(g[12]=c("div",{class:"text-sm font-medium text-gray-500"},"Total Appointments",-1)),c("div",kS,P(s.value.length),1)])])])])):Re("",!0),o.value!=="expenses"?(C(),O("div",SS,[c("div",$S,[c("div",ES,[c("div",TS,[H(B(Kr),{class:"h-8 w-8 text-secondary-600"})]),c("div",CS,[c("div",OS,"Average per "+P(o.value==="appointments"?"Appointment":"Day"),1),c("div",AS,"$"+P(f.value.toFixed(2)),1)])])])])):Re("",!0),o.value==="expenses"?(C(),O("div",PS,[c("div",RS,[c("div",DS,[c("div",MS,[H(B(id),{class:"h-8 w-8 text-accent-600"})]),c("div",jS,[g[13]||(g[13]=c("div",{class:"text-sm font-medium text-gray-500"},"Total Expenses",-1)),c("div",IS,P(s.value.length),1)])])])])):Re("",!0)]),c("div",LS,[c("div",FS,[c("h3",NS,P((E=a.find(x=>x.value===o.value))==null?void 0:E.label)+" Report ",1)]),c("div",US,[o.value==="appointments"?(C(),O("table",BS,[g[14]||(g[14]=c("thead",{class:"bg-gray-50"},[c("tr",null,[c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Client "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Barber "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Services "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Amount ")])],-1)),c("tbody",HS,[(C(!0),O(oe,null,ge(s.value,x=>{var T,D,J;return C(),O("tr",{key:x.id,class:"hover:bg-gray-50"},[c("td",qS,P(B(Ne)(B(lt)(x.start_time),"MMM d, yyyy")),1),c("td",VS,P((T=x.client)==null?void 0:T.name),1),c("td",WS,P((D=x.barber)==null?void 0:D.name),1),c("td",KS,P((J=x.services)==null?void 0:J.map(M=>{var S;return(S=M.service)==null?void 0:S.name}).join(", ")),1),c("td",zS," $"+P((x.total_amount||0).toFixed(2)),1)])}),128))])])):o.value==="manual"?(C(),O("table",GS,[g[15]||(g[15]=c("thead",{class:"bg-gray-50"},[c("tr",null,[c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Barber "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Amount "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Appointments "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Notes ")])],-1)),c("tbody",YS,[(C(!0),O(oe,null,ge(s.value,x=>{var T;return C(),O("tr",{key:x.id,class:"hover:bg-gray-50"},[c("td",JS,P(B(Ne)(B(lt)(x.collection_date),"MMM d, yyyy")),1),c("td",QS,P((T=x.barber)==null?void 0:T.name),1),c("td",ZS," $"+P(x.total_amount_manually_entered.toFixed(2)),1),c("td",XS,P(x.number_of_appointments||"Not specified"),1),c("td",e$,P(x.notes||"No notes"),1)])}),128))])])):(C(),O("table",t$,[g[16]||(g[16]=c("thead",{class:"bg-gray-50"},[c("tr",null,[c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Category "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Amount "),c("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Receipt ")])],-1)),c("tbody",s$,[(C(!0),O(oe,null,ge(s.value,x=>(C(),O("tr",{key:x.id,class:"hover:bg-gray-50"},[c("td",n$,P(B(Ne)(B(lt)(x.expense_date),"MMM d, yyyy")),1),c("td",r$,[c("span",i$,P(x.category),1)]),c("td",o$,P(x.description),1),c("td",a$," $"+P(x.amount.toFixed(2)),1),c("td",l$,[x.bill_image_url?(C(),O("div",c$,[c("button",{onClick:T=>p(x.bill_image_url),class:"text-primary-600 hover:text-primary-900"},[H(B(od),{class:"w-5 h-5"})],8,u$)])):(C(),O("span",d$,"No receipt"))])]))),128))])]))])])])):!r.value&&i.value?(C(),O("div",f$,[H(B(Kr),{class:"mx-auto h-12 w-12 text-gray-400"}),g[17]||(g[17]=c("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No data found",-1)),g[18]||(g[18]=c("p",{class:"mt-1 text-sm text-gray-500"}," No records match your selected criteria. Try adjusting your filters. ",-1))])):Re("",!0)])}}}),Kd=qv({history:yv(),routes:[{path:"/login",name:"Login",component:T0,meta:{requiresAuth:!1}},{path:"/",name:"Dashboard",component:Hb,meta:{requiresAuth:!0}},{path:"/appointments",name:"Appointments",component:Jw,meta:{requiresAuth:!0}},{path:"/clients",name:"Clients",component:Q1,meta:{requiresAuth:!0}},{path:"/services",name:"Services",component:xx,meta:{requiresAuth:!0}},{path:"/barbers",name:"Barbers",component:m2,meta:{requiresAuth:!0}},{path:"/expenses",name:"Expenses",component:ok,meta:{requiresAuth:!0}},{path:"/daily-collections",name:"DailyCollections",component:Jk,meta:{requiresAuth:!0}},{path:"/reports",name:"Reports",component:h$,meta:{requiresAuth:!0}}]});Kd.beforeEach(async(e,t,s)=>{const{data:{session:n}}=await de.auth.getSession();e.meta.requiresAuth&&!n?s("/login"):e.path==="/login"&&n?s("/"):s()});wp(w0).use(Kd).mount("#app");
